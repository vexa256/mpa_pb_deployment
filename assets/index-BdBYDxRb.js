(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=o(i);fetch(i.href,l)}})();/**
* @vue/shared v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qi(e,t){const o=new Set(e.split(","));return n=>o.has(n)}const St={},$n=[],cs=()=>{},hh=()=>!1,Ho=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),zi=e=>e.startsWith("onUpdate:"),Ft=Object.assign,Wi=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},fh=Object.prototype.hasOwnProperty,at=(e,t)=>fh.call(e,t),He=Array.isArray,kn=e=>co(e)==="[object Map]",Mn=e=>co(e)==="[object Set]",aa=e=>co(e)==="[object Date]",Je=e=>typeof e=="function",Dt=e=>typeof e=="string",Ss=e=>typeof e=="symbol",yt=e=>e!==null&&typeof e=="object",vl=e=>(yt(e)||Je(e))&&Je(e.then)&&Je(e.catch),yl=Object.prototype.toString,co=e=>yl.call(e),ph=e=>co(e).slice(8,-1),bl=e=>co(e)==="[object Object]",Gi=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zn=Qi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ko=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},mh=/-(\w)/g,_s=Ko(e=>e.replace(mh,(t,o)=>o?o.toUpperCase():"")),gh=/\B([A-Z])/g,_n=Ko(e=>e.replace(gh,"-$1").toLowerCase()),Qo=Ko(e=>e.charAt(0).toUpperCase()+e.slice(1)),_i=Ko(e=>e?`on${Qo(e)}`:""),Ws=(e,t)=>!Object.is(e,t),Do=(e,...t)=>{for(let o=0;o<e.length;o++)e[o](...t)},wl=(e,t,o,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:o})},Bo=e=>{const t=parseFloat(e);return isNaN(t)?e:t},_h=e=>{const t=Dt(e)?Number(e):NaN;return isNaN(t)?e:t};let la;const El=()=>la||(la=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zo(e){if(He(e)){const t={};for(let o=0;o<e.length;o++){const n=e[o],i=Dt(n)?wh(n):zo(n);if(i)for(const l in i)t[l]=i[l]}return t}else if(Dt(e)||yt(e))return e}const vh=/;(?![^(]*\))/g,yh=/:([^]+)/,bh=/\/\*[^]*?\*\//g;function wh(e){const t={};return e.replace(bh,"").split(vh).forEach(o=>{if(o){const n=o.split(yh);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function nt(e){let t="";if(Dt(e))t=e;else if(He(e))for(let o=0;o<e.length;o++){const n=nt(e[o]);n&&(t+=n+" ")}else if(yt(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const Eh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ih=Qi(Eh);function Il(e){return!!e||e===""}function xh(e,t){if(e.length!==t.length)return!1;let o=!0;for(let n=0;o&&n<e.length;n++)o=uo(e[n],t[n]);return o}function uo(e,t){if(e===t)return!0;let o=aa(e),n=aa(t);if(o||n)return o&&n?e.getTime()===t.getTime():!1;if(o=Ss(e),n=Ss(t),o||n)return e===t;if(o=He(e),n=He(t),o||n)return o&&n?xh(e,t):!1;if(o=yt(e),n=yt(t),o||n){if(!o||!n)return!1;const i=Object.keys(e).length,l=Object.keys(t).length;if(i!==l)return!1;for(const a in e){const r=e.hasOwnProperty(a),d=t.hasOwnProperty(a);if(r&&!d||!r&&d||!uo(e[a],t[a]))return!1}}return String(e)===String(t)}function Ji(e,t){return e.findIndex(o=>uo(o,t))}const xl=e=>!!(e&&e.__v_isRef===!0),D=e=>Dt(e)?e:e==null?"":He(e)||yt(e)&&(e.toString===yl||!Je(e.toString))?xl(e)?D(e.value):JSON.stringify(e,Cl,2):String(e),Cl=(e,t)=>xl(t)?Cl(e,t.value):kn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[n,i],l)=>(o[vi(n,l)+" =>"]=i,o),{})}:Mn(t)?{[`Set(${t.size})`]:[...t.values()].map(o=>vi(o))}:Ss(t)?vi(t):yt(t)&&!He(t)&&!bl(t)?String(t):t,vi=(e,t="")=>{var o;return Ss(e)?`Symbol(${(o=e.description)!=null?o:t})`:e};/**
* @vue/reactivity v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ms;class Ch{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ms,!t&&ms&&(this.index=(ms.scopes||(ms.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=ms;try{return ms=this,t()}finally{ms=o}}}on(){ms=this}off(){ms=this.parent}stop(t){if(this._active){let o,n;for(o=0,n=this.effects.length;o<n;o++)this.effects[o].stop();for(o=0,n=this.cleanups.length;o<n;o++)this.cleanups[o]();if(this.scopes)for(o=0,n=this.scopes.length;o<n;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Sh(e,t=ms){t&&t.active&&t.effects.push(e)}function Rh(){return ms}let pn;class Xi{constructor(t,o,n,i){this.fn=t,this.trigger=o,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Sh(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Js();for(let t=0;t<this._depsLength;t++){const o=this.deps[t];if(o.computed&&($h(o.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Xs()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Qs,o=pn;try{return Qs=!0,pn=this,this._runnings++,ca(this),this.fn()}finally{da(this),this._runnings--,pn=o,Qs=t}}stop(){this.active&&(ca(this),da(this),this.onStop&&this.onStop(),this.active=!1)}}function $h(e){return e.value}function ca(e){e._trackId++,e._depsLength=0}function da(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Sl(e.deps[t],e);e.deps.length=e._depsLength}}function Sl(e,t){const o=e.get(t);o!==void 0&&t._trackId!==o&&(e.delete(t),e.size===0&&e.cleanup())}let Qs=!0,Ti=0;const Rl=[];function Js(){Rl.push(Qs),Qs=!1}function Xs(){const e=Rl.pop();Qs=e===void 0?!0:e}function Zi(){Ti++}function er(){for(Ti--;!Ti&&Ai.length;)Ai.shift()()}function $l(e,t,o){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&Sl(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Ai=[];function kl(e,t,o){Zi();for(const n of e.keys()){let i;n._dirtyLevel<t&&(i??(i=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(i??(i=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&Ai.push(n.scheduler)))}er()}const Tl=(e,t)=>{const o=new Map;return o.cleanup=e,o.computed=t,o},Di=new WeakMap,mn=Symbol(""),Pi=Symbol("");function Jt(e,t,o){if(Qs&&pn){let n=Di.get(e);n||Di.set(e,n=new Map);let i=n.get(o);i||n.set(o,i=Tl(()=>n.delete(o))),$l(pn,i)}}function As(e,t,o,n,i,l){const a=Di.get(e);if(!a)return;let r=[];if(t==="clear")r=[...a.values()];else if(o==="length"&&He(e)){const d=Number(n);a.forEach((u,h)=>{(h==="length"||!Ss(h)&&h>=d)&&r.push(u)})}else switch(o!==void 0&&r.push(a.get(o)),t){case"add":He(e)?Gi(o)&&r.push(a.get("length")):(r.push(a.get(mn)),kn(e)&&r.push(a.get(Pi)));break;case"delete":He(e)||(r.push(a.get(mn)),kn(e)&&r.push(a.get(Pi)));break;case"set":kn(e)&&r.push(a.get(mn));break}Zi();for(const d of r)d&&kl(d,4);er()}const kh=Qi("__proto__,__v_isRef,__isVue"),Al=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ss)),ua=Th();function Th(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const n=ht(this);for(let l=0,a=this.length;l<a;l++)Jt(n,"get",l+"");const i=n[t](...o);return i===-1||i===!1?n[t](...o.map(ht)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){Js(),Zi();const n=ht(this)[t].apply(this,o);return er(),Xs(),n}}),e}function Ah(e){Ss(e)||(e=String(e));const t=ht(this);return Jt(t,"has",e),t.hasOwnProperty(e)}class Dl{constructor(t=!1,o=!1){this._isReadonly=t,this._isShallow=o}get(t,o,n){const i=this._isReadonly,l=this._isShallow;if(o==="__v_isReactive")return!i;if(o==="__v_isReadonly")return i;if(o==="__v_isShallow")return l;if(o==="__v_raw")return n===(i?l?qh:Ll:l?Fl:Ol).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=He(t);if(!i){if(a&&at(ua,o))return Reflect.get(ua,o,n);if(o==="hasOwnProperty")return Ah}const r=Reflect.get(t,o,n);return(Ss(o)?Al.has(o):kh(o))||(i||Jt(t,"get",o),l)?r:Xt(r)?a&&Gi(o)?r:r.value:yt(r)?i?Nl(r):Go(r):r}}class Pl extends Dl{constructor(t=!1){super(!1,t)}set(t,o,n,i){let l=t[o];if(!this._isShallow){const d=gn(l);if(!Pn(n)&&!gn(n)&&(l=ht(l),n=ht(n)),!He(t)&&Xt(l)&&!Xt(n))return d?!1:(l.value=n,!0)}const a=He(t)&&Gi(o)?Number(o)<t.length:at(t,o),r=Reflect.set(t,o,n,i);return t===ht(i)&&(a?Ws(n,l)&&As(t,"set",o,n):As(t,"add",o,n)),r}deleteProperty(t,o){const n=at(t,o);t[o];const i=Reflect.deleteProperty(t,o);return i&&n&&As(t,"delete",o,void 0),i}has(t,o){const n=Reflect.has(t,o);return(!Ss(o)||!Al.has(o))&&Jt(t,"has",o),n}ownKeys(t){return Jt(t,"iterate",He(t)?"length":mn),Reflect.ownKeys(t)}}class Dh extends Dl{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const Ph=new Pl,Oh=new Dh,Fh=new Pl(!0);const tr=e=>e,Wo=e=>Reflect.getPrototypeOf(e);function xo(e,t,o=!1,n=!1){e=e.__v_raw;const i=ht(e),l=ht(t);o||(Ws(t,l)&&Jt(i,"get",t),Jt(i,"get",l));const{has:a}=Wo(i),r=n?tr:o?or:to;if(a.call(i,t))return r(e.get(t));if(a.call(i,l))return r(e.get(l));e!==i&&e.get(t)}function Co(e,t=!1){const o=this.__v_raw,n=ht(o),i=ht(e);return t||(Ws(e,i)&&Jt(n,"has",e),Jt(n,"has",i)),e===i?o.has(e):o.has(e)||o.has(i)}function So(e,t=!1){return e=e.__v_raw,!t&&Jt(ht(e),"iterate",mn),Reflect.get(e,"size",e)}function ha(e,t=!1){!t&&!Pn(e)&&!gn(e)&&(e=ht(e));const o=ht(this);return Wo(o).has.call(o,e)||(o.add(e),As(o,"add",e,e)),this}function fa(e,t,o=!1){!o&&!Pn(t)&&!gn(t)&&(t=ht(t));const n=ht(this),{has:i,get:l}=Wo(n);let a=i.call(n,e);a||(e=ht(e),a=i.call(n,e));const r=l.call(n,e);return n.set(e,t),a?Ws(t,r)&&As(n,"set",e,t):As(n,"add",e,t),this}function pa(e){const t=ht(this),{has:o,get:n}=Wo(t);let i=o.call(t,e);i||(e=ht(e),i=o.call(t,e)),n&&n.call(t,e);const l=t.delete(e);return i&&As(t,"delete",e,void 0),l}function ma(){const e=ht(this),t=e.size!==0,o=e.clear();return t&&As(e,"clear",void 0,void 0),o}function Ro(e,t){return function(n,i){const l=this,a=l.__v_raw,r=ht(a),d=t?tr:e?or:to;return!e&&Jt(r,"iterate",mn),a.forEach((u,h)=>n.call(i,d(u),d(h),l))}}function $o(e,t,o){return function(...n){const i=this.__v_raw,l=ht(i),a=kn(l),r=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,u=i[e](...n),h=o?tr:t?or:to;return!t&&Jt(l,"iterate",d?Pi:mn),{next(){const{value:p,done:g}=u.next();return g?{value:p,done:g}:{value:r?[h(p[0]),h(p[1])]:h(p),done:g}},[Symbol.iterator](){return this}}}}function Ms(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Lh(){const e={get(l){return xo(this,l)},get size(){return So(this)},has:Co,add:ha,set:fa,delete:pa,clear:ma,forEach:Ro(!1,!1)},t={get(l){return xo(this,l,!1,!0)},get size(){return So(this)},has:Co,add(l){return ha.call(this,l,!0)},set(l,a){return fa.call(this,l,a,!0)},delete:pa,clear:ma,forEach:Ro(!1,!0)},o={get(l){return xo(this,l,!0)},get size(){return So(this,!0)},has(l){return Co.call(this,l,!0)},add:Ms("add"),set:Ms("set"),delete:Ms("delete"),clear:Ms("clear"),forEach:Ro(!0,!1)},n={get(l){return xo(this,l,!0,!0)},get size(){return So(this,!0)},has(l){return Co.call(this,l,!0)},add:Ms("add"),set:Ms("set"),delete:Ms("delete"),clear:Ms("clear"),forEach:Ro(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=$o(l,!1,!1),o[l]=$o(l,!0,!1),t[l]=$o(l,!1,!0),n[l]=$o(l,!0,!0)}),[e,o,t,n]}const[Mh,Nh,Bh,jh]=Lh();function sr(e,t){const o=t?e?jh:Bh:e?Nh:Mh;return(n,i,l)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(at(o,i)&&i in n?o:n,i,l)}const Vh={get:sr(!1,!1)},Uh={get:sr(!1,!0)},Yh={get:sr(!0,!1)};const Ol=new WeakMap,Fl=new WeakMap,Ll=new WeakMap,qh=new WeakMap;function Hh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kh(e){return e.__v_skip||!Object.isExtensible(e)?0:Hh(ph(e))}function Go(e){return gn(e)?e:nr(e,!1,Ph,Vh,Ol)}function Ml(e){return nr(e,!1,Fh,Uh,Fl)}function Nl(e){return nr(e,!0,Oh,Yh,Ll)}function nr(e,t,o,n,i){if(!yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=i.get(e);if(l)return l;const a=Kh(e);if(a===0)return e;const r=new Proxy(e,a===2?n:o);return i.set(e,r),r}function Wn(e){return gn(e)?Wn(e.__v_raw):!!(e&&e.__v_isReactive)}function gn(e){return!!(e&&e.__v_isReadonly)}function Pn(e){return!!(e&&e.__v_isShallow)}function Bl(e){return e?!!e.__v_raw:!1}function ht(e){const t=e&&e.__v_raw;return t?ht(t):e}function Qh(e){return Object.isExtensible(e)&&wl(e,"__v_skip",!0),e}const to=e=>yt(e)?Go(e):e,or=e=>yt(e)?Nl(e):e;class jl{constructor(t,o,n,i){this.getter=t,this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Xi(()=>t(this._value),()=>Po(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=ht(this);return(!t._cacheable||t.effect.dirty)&&Ws(t._value,t._value=t.effect.run())&&Po(t,4),Vl(t),t.effect._dirtyLevel>=2&&Po(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function zh(e,t,o=!1){let n,i;const l=Je(e);return l?(n=e,i=cs):(n=e.get,i=e.set),new jl(n,i,l||!i,o)}function Vl(e){var t;Qs&&pn&&(e=ht(e),$l(pn,(t=e.dep)!=null?t:e.dep=Tl(()=>e.dep=void 0,e instanceof jl?e:void 0)))}function Po(e,t=4,o,n){e=ht(e);const i=e.dep;i&&kl(i,t)}function Xt(e){return!!(e&&e.__v_isRef===!0)}function j(e){return Ul(e,!1)}function Wh(e){return Ul(e,!0)}function Ul(e,t){return Xt(e)?e:new Gh(e,t)}class Gh{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:ht(t),this._value=o?t:to(t)}get value(){return Vl(this),this._value}set value(t){const o=this.__v_isShallow||Pn(t)||gn(t);t=o?t:ht(t),Ws(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=o?t:to(t),Po(this,4))}}function Tn(e){return Xt(e)?e.value:e}const Jh={get:(e,t,o)=>Tn(Reflect.get(e,t,o)),set:(e,t,o,n)=>{const i=e[t];return Xt(i)&&!Xt(o)?(i.value=o,!0):Reflect.set(e,t,o,n)}};function Yl(e){return Wn(e)?e:new Proxy(e,Jh)}/**
* @vue/runtime-core v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zs(e,t,o,n){try{return n?e(...n):e()}catch(i){Jo(i,t,o)}}function ds(e,t,o,n){if(Je(e)){const i=zs(e,t,o,n);return i&&vl(i)&&i.catch(l=>{Jo(l,t,o)}),i}if(He(e)){const i=[];for(let l=0;l<e.length;l++)i.push(ds(e[l],t,o,n));return i}}function Jo(e,t,o,n=!0){const i=t?t.vnode:null;if(t){let l=t.parent;const a=t.proxy,r=`https://vuejs.org/error-reference/#runtime-${o}`;for(;l;){const u=l.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,a,r)===!1)return}l=l.parent}const d=t.appContext.config.errorHandler;if(d){Js(),zs(d,null,10,[e,a,r]),Xs();return}}Xh(e,o,i,n)}function Xh(e,t,o,n=!0){console.error(e)}let so=!1,Oi=!1;const Yt=[];let Cs=0;const An=[];let Vs=null,hn=0;const ql=Promise.resolve();let ir=null;function hs(e){const t=ir||ql;return e?t.then(this?e.bind(this):e):t}function Zh(e){let t=Cs+1,o=Yt.length;for(;t<o;){const n=t+o>>>1,i=Yt[n],l=no(i);l<e||l===e&&i.pre?t=n+1:o=n}return t}function rr(e){(!Yt.length||!Yt.includes(e,so&&e.allowRecurse?Cs+1:Cs))&&(e.id==null?Yt.push(e):Yt.splice(Zh(e.id),0,e),Hl())}function Hl(){!so&&!Oi&&(Oi=!0,ir=ql.then(Ql))}function ef(e){const t=Yt.indexOf(e);t>Cs&&Yt.splice(t,1)}function tf(e){He(e)?An.push(...e):(!Vs||!Vs.includes(e,e.allowRecurse?hn+1:hn))&&An.push(e),Hl()}function ga(e,t,o=so?Cs+1:0){for(;o<Yt.length;o++){const n=Yt[o];if(n&&n.pre){if(e&&n.id!==e.uid)continue;Yt.splice(o,1),o--,n()}}}function Kl(e){if(An.length){const t=[...new Set(An)].sort((o,n)=>no(o)-no(n));if(An.length=0,Vs){Vs.push(...t);return}for(Vs=t,hn=0;hn<Vs.length;hn++){const o=Vs[hn];o.active!==!1&&o()}Vs=null,hn=0}}const no=e=>e.id==null?1/0:e.id,sf=(e,t)=>{const o=no(e)-no(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function Ql(e){Oi=!1,so=!0,Yt.sort(sf);try{for(Cs=0;Cs<Yt.length;Cs++){const t=Yt[Cs];t&&t.active!==!1&&zs(t,t.i,t.i?15:14)}}finally{Cs=0,Yt.length=0,Kl(),so=!1,ir=null,(Yt.length||An.length)&&Ql()}}let Gt=null,Xo=null;function jo(e){const t=Gt;return Gt=e,Xo=e&&e.type.__scopeId||null,t}function Zt(e){Xo=e}function es(){Xo=null}function xt(e,t=Gt,o){if(!t||e._n)return e;const n=(...i)=>{n._d&&ka(-1);const l=jo(t);let a;try{a=e(...i)}finally{jo(l),n._d&&ka(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function oe(e,t){if(Gt===null)return e;const o=oi(Gt),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[l,a,r,d=St]=t[i];l&&(Je(l)&&(l={mounted:l,updated:l}),l.deep&&Hs(a),n.push({dir:l,instance:o,value:a,oldValue:void 0,arg:r,modifiers:d}))}return e}function ln(e,t,o,n){const i=e.dirs,l=t&&t.dirs;for(let a=0;a<i.length;a++){const r=i[a];l&&(r.oldValue=l[a].value);let d=r.dir[n];d&&(Js(),ds(d,o,8,[e.el,r,e,t]),Xs())}}const Us=Symbol("_leaveCb"),ko=Symbol("_enterCb");function nf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dt(()=>{e.isMounted=!0}),ec(()=>{e.isUnmounting=!0}),e}const ls=[Function,Array],zl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ls,onEnter:ls,onAfterEnter:ls,onEnterCancelled:ls,onBeforeLeave:ls,onLeave:ls,onAfterLeave:ls,onLeaveCancelled:ls,onBeforeAppear:ls,onAppear:ls,onAfterAppear:ls,onAppearCancelled:ls},Wl=e=>{const t=e.subTree;return t.component?Wl(t.component):t},of={name:"BaseTransition",props:zl,setup(e,{slots:t}){const o=op(),n=nf();return()=>{const i=t.default&&Jl(t.default(),!0);if(!i||!i.length)return;let l=i[0];if(i.length>1){for(const g of i)if(g.type!==ns){l=g;break}}const a=ht(e),{mode:r}=a;if(n.isLeaving)return yi(l);const d=_a(l);if(!d)return yi(l);let u=Fi(d,a,n,o,g=>u=g);Vo(d,u);const h=o.subTree,p=h&&_a(h);if(p&&p.type!==ns&&!fn(d,p)&&Wl(o).type!==ns){const g=Fi(p,a,n,o);if(Vo(p,g),r==="out-in"&&d.type!==ns)return n.isLeaving=!0,g.afterLeave=()=>{n.isLeaving=!1,o.update.active!==!1&&(o.effect.dirty=!0,o.update())},yi(l);r==="in-out"&&d.type!==ns&&(g.delayLeave=(_,x,S)=>{const Y=Gl(n,p);Y[String(p.key)]=p,_[Us]=()=>{x(),_[Us]=void 0,delete u.delayedLeave},u.delayedLeave=S})}return l}}},rf=of;function Gl(e,t){const{leavingVNodes:o}=e;let n=o.get(t.type);return n||(n=Object.create(null),o.set(t.type,n)),n}function Fi(e,t,o,n,i){const{appear:l,mode:a,persisted:r=!1,onBeforeEnter:d,onEnter:u,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:g,onLeave:_,onAfterLeave:x,onLeaveCancelled:S,onBeforeAppear:Y,onAppear:U,onAfterAppear:V,onAppearCancelled:Q}=t,re=String(e.key),Re=Gl(o,e),O=(I,R)=>{I&&ds(I,n,9,R)},H=(I,R)=>{const A=R[1];O(I,R),He(I)?I.every(m=>m.length<=1)&&A():I.length<=1&&A()},w={mode:a,persisted:r,beforeEnter(I){let R=d;if(!o.isMounted)if(l)R=Y||d;else return;I[Us]&&I[Us](!0);const A=Re[re];A&&fn(e,A)&&A.el[Us]&&A.el[Us](),O(R,[I])},enter(I){let R=u,A=h,m=p;if(!o.isMounted)if(l)R=U||u,A=V||h,m=Q||p;else return;let b=!1;const C=I[ko]=F=>{b||(b=!0,F?O(m,[I]):O(A,[I]),w.delayedLeave&&w.delayedLeave(),I[ko]=void 0)};R?H(R,[I,C]):C()},leave(I,R){const A=String(e.key);if(I[ko]&&I[ko](!0),o.isUnmounting)return R();O(g,[I]);let m=!1;const b=I[Us]=C=>{m||(m=!0,R(),C?O(S,[I]):O(x,[I]),I[Us]=void 0,Re[A]===e&&delete Re[A])};Re[A]=e,_?H(_,[I,b]):b()},clone(I){const R=Fi(I,t,o,n,i);return i&&i(R),R}};return w}function yi(e){if(Zo(e))return e=Gs(e),e.children=null,e}function _a(e){if(!Zo(e))return e;const{shapeFlag:t,children:o}=e;if(o){if(t&16)return o[0];if(t&32&&Je(o.default))return o.default()}}function Vo(e,t){e.shapeFlag&6&&e.component?Vo(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Jl(e,t=!1,o){let n=[],i=0;for(let l=0;l<e.length;l++){let a=e[l];const r=o==null?a.key:String(o)+String(a.key!=null?a.key:l);a.type===Te?(a.patchFlag&128&&i++,n=n.concat(Jl(a.children,t,r))):(t||a.type!==ns)&&n.push(r!=null?Gs(a,{key:r}):a)}if(i>1)for(let l=0;l<n.length;l++)n[l].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Xl(e,t){return Je(e)?Ft({name:e.name},t,{setup:e}):e}const Oo=e=>!!e.type.__asyncLoader,Zo=e=>e.type.__isKeepAlive;function af(e,t){Zl(e,"a",t)}function lf(e,t){Zl(e,"da",t)}function Zl(e,t,o=Bt){const n=e.__wdc||(e.__wdc=()=>{let i=o;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ei(t,n,o),o){let i=o.parent;for(;i&&i.parent;)Zo(i.parent.vnode)&&cf(n,t,o,i),i=i.parent}}function cf(e,t,o,n){const i=ei(t,e,n,!0);jt(()=>{Wi(n[t],i)},o)}function ei(e,t,o=Bt,n=!1){if(o){const i=o[e]||(o[e]=[]),l=t.__weh||(t.__weh=(...a)=>{Js();const r=ho(o),d=ds(t,o,e,a);return r(),Xs(),d});return n?i.unshift(l):i.push(l),l}}const Ps=e=>(t,o=Bt)=>{(!ni||e==="sp")&&ei(e,(...n)=>t(...n),o)},df=Ps("bm"),dt=Ps("m"),uf=Ps("bu"),hf=Ps("u"),ec=Ps("bum"),jt=Ps("um"),ff=Ps("sp"),pf=Ps("rtg"),mf=Ps("rtc");function gf(e,t=Bt){ei("ec",e,t)}const _f="components";function Qe(e,t){return yf(_f,e,!0,t)||e}const vf=Symbol.for("v-ndc");function yf(e,t,o=!0,n=!1){const i=Gt||Bt;if(i){const l=i.type;{const r=cp(l,!1);if(r&&(r===t||r===_s(t)||r===Qo(_s(t))))return l}const a=va(i[e]||l[e],t)||va(i.appContext[e],t);return!a&&n?l:a}}function va(e,t){return e&&(e[t]||e[_s(t)]||e[Qo(_s(t))])}function Fe(e,t,o,n){let i;const l=o;if(He(e)||Dt(e)){i=new Array(e.length);for(let a=0,r=e.length;a<r;a++)i[a]=t(e[a],a,void 0,l)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,l)}else if(yt(e))if(e[Symbol.iterator])i=Array.from(e,(a,r)=>t(a,r,void 0,l));else{const a=Object.keys(e);i=new Array(a.length);for(let r=0,d=a.length;r<d;r++){const u=a[r];i[r]=t(e[u],u,r,l)}}else i=[];return i}const Li=e=>e?yc(e)?oi(e):Li(e.parent):null,Gn=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Li(e.parent),$root:e=>Li(e.root),$emit:e=>e.emit,$options:e=>ar(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,rr(e.update)}),$nextTick:e=>e.n||(e.n=hs.bind(e.proxy)),$watch:e=>Uf.bind(e)}),bi=(e,t)=>e!==St&&!e.__isScriptSetup&&at(e,t),bf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:o,setupState:n,data:i,props:l,accessCache:a,type:r,appContext:d}=e;let u;if(t[0]!=="$"){const _=a[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return i[t];case 4:return o[t];case 3:return l[t]}else{if(bi(n,t))return a[t]=1,n[t];if(i!==St&&at(i,t))return a[t]=2,i[t];if((u=e.propsOptions[0])&&at(u,t))return a[t]=3,l[t];if(o!==St&&at(o,t))return a[t]=4,o[t];Mi&&(a[t]=0)}}const h=Gn[t];let p,g;if(h)return t==="$attrs"&&Jt(e.attrs,"get",""),h(e);if((p=r.__cssModules)&&(p=p[t]))return p;if(o!==St&&at(o,t))return a[t]=4,o[t];if(g=d.config.globalProperties,at(g,t))return g[t]},set({_:e},t,o){const{data:n,setupState:i,ctx:l}=e;return bi(i,t)?(i[t]=o,!0):n!==St&&at(n,t)?(n[t]=o,!0):at(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:n,appContext:i,propsOptions:l}},a){let r;return!!o[a]||e!==St&&at(e,a)||bi(t,a)||(r=l[0])&&at(r,a)||at(n,a)||at(Gn,a)||at(i.config.globalProperties,a)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:at(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function ya(e){return He(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let Mi=!0;function wf(e){const t=ar(e),o=e.proxy,n=e.ctx;Mi=!1,t.beforeCreate&&ba(t.beforeCreate,e,"bc");const{data:i,computed:l,methods:a,watch:r,provide:d,inject:u,created:h,beforeMount:p,mounted:g,beforeUpdate:_,updated:x,activated:S,deactivated:Y,beforeDestroy:U,beforeUnmount:V,destroyed:Q,unmounted:re,render:Re,renderTracked:O,renderTriggered:H,errorCaptured:w,serverPrefetch:I,expose:R,inheritAttrs:A,components:m,directives:b,filters:C}=t;if(u&&Ef(u,n,null),a)for(const z in a){const ie=a[z];Je(ie)&&(n[z]=ie.bind(o))}if(i){const z=i.call(o,o);yt(z)&&(e.data=Go(z))}if(Mi=!0,l)for(const z in l){const ie=l[z],G=Je(ie)?ie.bind(o,o):Je(ie.get)?ie.get.bind(o,o):cs,de=!Je(ie)&&Je(ie.set)?ie.set.bind(o):cs,xe=ot({get:G,set:de});Object.defineProperty(n,z,{enumerable:!0,configurable:!0,get:()=>xe.value,set:pe=>xe.value=pe})}if(r)for(const z in r)tc(r[z],n,o,z);if(d){const z=Je(d)?d.call(o):d;Reflect.ownKeys(z).forEach(ie=>{Fo(ie,z[ie])})}h&&ba(h,e,"c");function q(z,ie){He(ie)?ie.forEach(G=>z(G.bind(o))):ie&&z(ie.bind(o))}if(q(df,p),q(dt,g),q(uf,_),q(hf,x),q(af,S),q(lf,Y),q(gf,w),q(mf,O),q(pf,H),q(ec,V),q(jt,re),q(ff,I),He(R))if(R.length){const z=e.exposed||(e.exposed={});R.forEach(ie=>{Object.defineProperty(z,ie,{get:()=>o[ie],set:G=>o[ie]=G})})}else e.exposed||(e.exposed={});Re&&e.render===cs&&(e.render=Re),A!=null&&(e.inheritAttrs=A),m&&(e.components=m),b&&(e.directives=b)}function Ef(e,t,o=cs){He(e)&&(e=Ni(e));for(const n in e){const i=e[n];let l;yt(i)?"default"in i?l=gs(i.from||n,i.default,!0):l=gs(i.from||n):l=gs(i),Xt(l)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):t[n]=l}}function ba(e,t,o){ds(He(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,o)}function tc(e,t,o,n){const i=n.includes(".")?mc(o,n):()=>o[n];if(Dt(e)){const l=t[e];Je(l)&&Rt(i,l)}else if(Je(e))Rt(i,e.bind(o));else if(yt(e))if(He(e))e.forEach(l=>tc(l,t,o,n));else{const l=Je(e.handler)?e.handler.bind(o):t[e.handler];Je(l)&&Rt(i,l,e)}}function ar(e){const t=e.type,{mixins:o,extends:n}=t,{mixins:i,optionsCache:l,config:{optionMergeStrategies:a}}=e.appContext,r=l.get(t);let d;return r?d=r:!i.length&&!o&&!n?d=t:(d={},i.length&&i.forEach(u=>Uo(d,u,a,!0)),Uo(d,t,a)),yt(t)&&l.set(t,d),d}function Uo(e,t,o,n=!1){const{mixins:i,extends:l}=t;l&&Uo(e,l,o,!0),i&&i.forEach(a=>Uo(e,a,o,!0));for(const a in t)if(!(n&&a==="expose")){const r=If[a]||o&&o[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const If={data:wa,props:Ea,emits:Ea,methods:Qn,computed:Qn,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:Qn,directives:Qn,watch:Cf,provide:wa,inject:xf};function wa(e,t){return t?e?function(){return Ft(Je(e)?e.call(this,this):e,Je(t)?t.call(this,this):t)}:t:e}function xf(e,t){return Qn(Ni(e),Ni(t))}function Ni(e){if(He(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Kt(e,t){return e?[...new Set([].concat(e,t))]:t}function Qn(e,t){return e?Ft(Object.create(null),e,t):t}function Ea(e,t){return e?He(e)&&He(t)?[...new Set([...e,...t])]:Ft(Object.create(null),ya(e),ya(t??{})):t}function Cf(e,t){if(!e)return t;if(!t)return e;const o=Ft(Object.create(null),e);for(const n in t)o[n]=Kt(e[n],t[n]);return o}function sc(){return{app:null,config:{isNativeTag:hh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sf=0;function Rf(e,t){return function(n,i=null){Je(n)||(n=Ft({},n)),i!=null&&!yt(i)&&(i=null);const l=sc(),a=new WeakSet;let r=!1;const d=l.app={_uid:Sf++,_component:n,_props:i,_container:null,_context:l,_instance:null,version:up,get config(){return l.config},set config(u){},use(u,...h){return a.has(u)||(u&&Je(u.install)?(a.add(u),u.install(d,...h)):Je(u)&&(a.add(u),u(d,...h))),d},mixin(u){return l.mixins.includes(u)||l.mixins.push(u),d},component(u,h){return h?(l.components[u]=h,d):l.components[u]},directive(u,h){return h?(l.directives[u]=h,d):l.directives[u]},mount(u,h,p){if(!r){const g=ke(n,i);return g.appContext=l,p===!0?p="svg":p===!1&&(p=void 0),h&&t?t(g,u):e(g,u,p),r=!0,d._container=u,u.__vue_app__=d,oi(g.component)}},unmount(){r&&(e(null,d._container),delete d._container.__vue_app__)},provide(u,h){return l.provides[u]=h,d},runWithContext(u){const h=Jn;Jn=d;try{return u()}finally{Jn=h}}};return d}}let Jn=null;function Fo(e,t){if(Bt){let o=Bt.provides;const n=Bt.parent&&Bt.parent.provides;n===o&&(o=Bt.provides=Object.create(n)),o[e]=t}}function gs(e,t,o=!1){const n=Bt||Gt;if(n||Jn){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Jn._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return o&&Je(t)?t.call(n&&n.proxy):t}}const nc={},oc=()=>Object.create(nc),ic=e=>Object.getPrototypeOf(e)===nc;function $f(e,t,o,n=!1){const i={},l=oc();e.propsDefaults=Object.create(null),rc(e,t,i,l);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);o?e.props=n?i:Ml(i):e.type.props?e.props=i:e.props=l,e.attrs=l}function kf(e,t,o,n){const{props:i,attrs:l,vnode:{patchFlag:a}}=e,r=ht(i),[d]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let p=0;p<h.length;p++){let g=h[p];if(ti(e.emitsOptions,g))continue;const _=t[g];if(d)if(at(l,g))_!==l[g]&&(l[g]=_,u=!0);else{const x=_s(g);i[x]=Bi(d,r,x,_,e,!1)}else _!==l[g]&&(l[g]=_,u=!0)}}}else{rc(e,t,i,l)&&(u=!0);let h;for(const p in r)(!t||!at(t,p)&&((h=_n(p))===p||!at(t,h)))&&(d?o&&(o[p]!==void 0||o[h]!==void 0)&&(i[p]=Bi(d,r,p,void 0,e,!0)):delete i[p]);if(l!==r)for(const p in l)(!t||!at(t,p))&&(delete l[p],u=!0)}u&&As(e.attrs,"set","")}function rc(e,t,o,n){const[i,l]=e.propsOptions;let a=!1,r;if(t)for(let d in t){if(zn(d))continue;const u=t[d];let h;i&&at(i,h=_s(d))?!l||!l.includes(h)?o[h]=u:(r||(r={}))[h]=u:ti(e.emitsOptions,d)||(!(d in n)||u!==n[d])&&(n[d]=u,a=!0)}if(l){const d=ht(o),u=r||St;for(let h=0;h<l.length;h++){const p=l[h];o[p]=Bi(i,d,p,u[p],e,!at(u,p))}}return a}function Bi(e,t,o,n,i,l){const a=e[o];if(a!=null){const r=at(a,"default");if(r&&n===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&Je(d)){const{propsDefaults:u}=i;if(o in u)n=u[o];else{const h=ho(i);n=u[o]=d.call(null,t),h()}}else n=d}a[0]&&(l&&!r?n=!1:a[1]&&(n===""||n===_n(o))&&(n=!0))}return n}const Tf=new WeakMap;function ac(e,t,o=!1){const n=o?Tf:t.propsCache,i=n.get(e);if(i)return i;const l=e.props,a={},r=[];let d=!1;if(!Je(e)){const h=p=>{d=!0;const[g,_]=ac(p,t,!0);Ft(a,g),_&&r.push(..._)};!o&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!l&&!d)return yt(e)&&n.set(e,$n),$n;if(He(l))for(let h=0;h<l.length;h++){const p=_s(l[h]);Ia(p)&&(a[p]=St)}else if(l)for(const h in l){const p=_s(h);if(Ia(p)){const g=l[h],_=a[p]=He(g)||Je(g)?{type:g}:Ft({},g);if(_){const x=Sa(Boolean,_.type),S=Sa(String,_.type);_[0]=x>-1,_[1]=S<0||x<S,(x>-1||at(_,"default"))&&r.push(p)}}}const u=[a,r];return yt(e)&&n.set(e,u),u}function Ia(e){return e[0]!=="$"&&!zn(e)}function xa(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Ca(e,t){return xa(e)===xa(t)}function Sa(e,t){return He(t)?t.findIndex(o=>Ca(o,e)):Je(t)&&Ca(t,e)?0:-1}const lc=e=>e[0]==="_"||e==="$stable",lr=e=>He(e)?e.map(xs):[xs(e)],Af=(e,t,o)=>{if(t._n)return t;const n=xt((...i)=>lr(t(...i)),o);return n._c=!1,n},cc=(e,t,o)=>{const n=e._ctx;for(const i in e){if(lc(i))continue;const l=e[i];if(Je(l))t[i]=Af(i,l,n);else if(l!=null){const a=lr(l);t[i]=()=>a}}},dc=(e,t)=>{const o=lr(t);e.slots.default=()=>o},uc=(e,t,o)=>{for(const n in t)(o||n!=="_")&&(e[n]=t[n])},Df=(e,t,o)=>{const n=e.slots=oc();if(e.vnode.shapeFlag&32){const i=t._;i?(uc(n,t,o),o&&wl(n,"_",i,!0)):cc(t,n)}else t&&dc(e,t)},Pf=(e,t,o)=>{const{vnode:n,slots:i}=e;let l=!0,a=St;if(n.shapeFlag&32){const r=t._;r?o&&r===1?l=!1:uc(i,t,o):(l=!t.$stable,cc(t,i)),a=t}else t&&(dc(e,t),a={default:1});if(l)for(const r in i)!lc(r)&&a[r]==null&&delete i[r]};function ji(e,t,o,n,i=!1){if(He(e)){e.forEach((g,_)=>ji(g,t&&(He(t)?t[_]:t),o,n,i));return}if(Oo(n)&&!i)return;const l=n.shapeFlag&4?oi(n.component):n.el,a=i?null:l,{i:r,r:d}=e,u=t&&t.r,h=r.refs===St?r.refs={}:r.refs,p=r.setupState;if(u!=null&&u!==d&&(Dt(u)?(h[u]=null,at(p,u)&&(p[u]=null)):Xt(u)&&(u.value=null)),Je(d))zs(d,r,12,[a,h]);else{const g=Dt(d),_=Xt(d);if(g||_){const x=()=>{if(e.f){const S=g?at(p,d)?p[d]:h[d]:d.value;i?He(S)&&Wi(S,l):He(S)?S.includes(l)||S.push(l):g?(h[d]=[l],at(p,d)&&(p[d]=h[d])):(d.value=[l],e.k&&(h[e.k]=d.value))}else g?(h[d]=a,at(p,d)&&(p[d]=a)):_&&(d.value=a,e.k&&(h[e.k]=a))};a?(x.id=-1,zt(x,o)):x()}}}const Of=Symbol("_vte"),Ff=e=>e.__isTeleport,zt=Gf;function Lf(e){return Mf(e)}function Mf(e,t){const o=El();o.__VUE__=!0;const{insert:n,remove:i,patchProp:l,createElement:a,createText:r,createComment:d,setText:u,setElementText:h,parentNode:p,nextSibling:g,setScopeId:_=cs,insertStaticContent:x}=e,S=(E,L,ee,ue=null,he=null,_e=null,Ce=void 0,we=null,ge=!!L.dynamicChildren)=>{if(E===L)return;E&&!fn(E,L)&&(ue=Z(E),pe(E,he,_e,!0),E=null),L.patchFlag===-2&&(ge=!1,L.dynamicChildren=null);const{type:fe,ref:Se,shapeFlag:Ne}=L;switch(fe){case si:Y(E,L,ee,ue);break;case ns:U(E,L,ee,ue);break;case Lo:E==null&&V(L,ee,ue,Ce);break;case Te:m(E,L,ee,ue,he,_e,Ce,we,ge);break;default:Ne&1?Re(E,L,ee,ue,he,_e,Ce,we,ge):Ne&6?b(E,L,ee,ue,he,_e,Ce,we,ge):(Ne&64||Ne&128)&&fe.process(E,L,ee,ue,he,_e,Ce,we,ge,B)}Se!=null&&he&&ji(Se,E&&E.ref,_e,L||E,!L)},Y=(E,L,ee,ue)=>{if(E==null)n(L.el=r(L.children),ee,ue);else{const he=L.el=E.el;L.children!==E.children&&u(he,L.children)}},U=(E,L,ee,ue)=>{E==null?n(L.el=d(L.children||""),ee,ue):L.el=E.el},V=(E,L,ee,ue)=>{[E.el,E.anchor]=x(E.children,L,ee,ue,E.el,E.anchor)},Q=({el:E,anchor:L},ee,ue)=>{let he;for(;E&&E!==L;)he=g(E),n(E,ee,ue),E=he;n(L,ee,ue)},re=({el:E,anchor:L})=>{let ee;for(;E&&E!==L;)ee=g(E),i(E),E=ee;i(L)},Re=(E,L,ee,ue,he,_e,Ce,we,ge)=>{L.type==="svg"?Ce="svg":L.type==="math"&&(Ce="mathml"),E==null?O(L,ee,ue,he,_e,Ce,we,ge):I(E,L,he,_e,Ce,we,ge)},O=(E,L,ee,ue,he,_e,Ce,we)=>{let ge,fe;const{props:Se,shapeFlag:Ne,transition:$e,dirs:Ye}=E;if(ge=E.el=a(E.type,_e,Se&&Se.is,Se),Ne&8?h(ge,E.children):Ne&16&&w(E.children,ge,null,ue,he,wi(E,_e),Ce,we),Ye&&ln(E,null,ue,"created"),H(ge,E,E.scopeId,Ce,ue),Se){for(const et in Se)et!=="value"&&!zn(et)&&l(ge,et,null,Se[et],_e,ue);"value"in Se&&l(ge,"value",null,Se.value,_e),(fe=Se.onVnodeBeforeMount)&&Is(fe,ue,E)}Ye&&ln(E,null,ue,"beforeMount");const Ke=Nf(he,$e);Ke&&$e.beforeEnter(ge),n(ge,L,ee),((fe=Se&&Se.onVnodeMounted)||Ke||Ye)&&zt(()=>{fe&&Is(fe,ue,E),Ke&&$e.enter(ge),Ye&&ln(E,null,ue,"mounted")},he)},H=(E,L,ee,ue,he)=>{if(ee&&_(E,ee),ue)for(let _e=0;_e<ue.length;_e++)_(E,ue[_e]);if(he){let _e=he.subTree;if(L===_e){const Ce=he.vnode;H(E,Ce,Ce.scopeId,Ce.slotScopeIds,he.parent)}}},w=(E,L,ee,ue,he,_e,Ce,we,ge=0)=>{for(let fe=ge;fe<E.length;fe++){const Se=E[fe]=we?Ys(E[fe]):xs(E[fe]);S(null,Se,L,ee,ue,he,_e,Ce,we)}},I=(E,L,ee,ue,he,_e,Ce)=>{const we=L.el=E.el;let{patchFlag:ge,dynamicChildren:fe,dirs:Se}=L;ge|=E.patchFlag&16;const Ne=E.props||St,$e=L.props||St;let Ye;if(ee&&cn(ee,!1),(Ye=$e.onVnodeBeforeUpdate)&&Is(Ye,ee,L,E),Se&&ln(L,E,ee,"beforeUpdate"),ee&&cn(ee,!0),(Ne.innerHTML&&$e.innerHTML==null||Ne.textContent&&$e.textContent==null)&&h(we,""),fe?R(E.dynamicChildren,fe,we,ee,ue,wi(L,he),_e):Ce||ie(E,L,we,null,ee,ue,wi(L,he),_e,!1),ge>0){if(ge&16)A(we,Ne,$e,ee,he);else if(ge&2&&Ne.class!==$e.class&&l(we,"class",null,$e.class,he),ge&4&&l(we,"style",Ne.style,$e.style,he),ge&8){const Ke=L.dynamicProps;for(let et=0;et<Ke.length;et++){const qe=Ke[et],tt=Ne[qe],ct=$e[qe];(ct!==tt||qe==="value")&&l(we,qe,tt,ct,he,ee)}}ge&1&&E.children!==L.children&&h(we,L.children)}else!Ce&&fe==null&&A(we,Ne,$e,ee,he);((Ye=$e.onVnodeUpdated)||Se)&&zt(()=>{Ye&&Is(Ye,ee,L,E),Se&&ln(L,E,ee,"updated")},ue)},R=(E,L,ee,ue,he,_e,Ce)=>{for(let we=0;we<L.length;we++){const ge=E[we],fe=L[we],Se=ge.el&&(ge.type===Te||!fn(ge,fe)||ge.shapeFlag&70)?p(ge.el):ee;S(ge,fe,Se,null,ue,he,_e,Ce,!0)}},A=(E,L,ee,ue,he)=>{if(L!==ee){if(L!==St)for(const _e in L)!zn(_e)&&!(_e in ee)&&l(E,_e,L[_e],null,he,ue);for(const _e in ee){if(zn(_e))continue;const Ce=ee[_e],we=L[_e];Ce!==we&&_e!=="value"&&l(E,_e,we,Ce,he,ue)}"value"in ee&&l(E,"value",L.value,ee.value,he)}},m=(E,L,ee,ue,he,_e,Ce,we,ge)=>{const fe=L.el=E?E.el:r(""),Se=L.anchor=E?E.anchor:r("");let{patchFlag:Ne,dynamicChildren:$e,slotScopeIds:Ye}=L;Ye&&(we=we?we.concat(Ye):Ye),E==null?(n(fe,ee,ue),n(Se,ee,ue),w(L.children||[],ee,Se,he,_e,Ce,we,ge)):Ne>0&&Ne&64&&$e&&E.dynamicChildren?(R(E.dynamicChildren,$e,ee,he,_e,Ce,we),(L.key!=null||he&&L===he.subTree)&&hc(E,L,!0)):ie(E,L,ee,Se,he,_e,Ce,we,ge)},b=(E,L,ee,ue,he,_e,Ce,we,ge)=>{L.slotScopeIds=we,E==null?L.shapeFlag&512?he.ctx.activate(L,ee,ue,Ce,ge):C(L,ee,ue,he,_e,Ce,ge):F(E,L,ge)},C=(E,L,ee,ue,he,_e,Ce)=>{const we=E.component=np(E,ue,he);if(Zo(E)&&(we.ctx.renderer=B),ip(we,!1,Ce),we.asyncDep){if(he&&he.registerDep(we,q,Ce),!E.el){const ge=we.subTree=ke(ns);U(null,ge,L,ee)}}else q(we,E,L,ee,he,_e,Ce)},F=(E,L,ee)=>{const ue=L.component=E.component;if(Qf(E,L,ee))if(ue.asyncDep&&!ue.asyncResolved){z(ue,L,ee);return}else ue.next=L,ef(ue.update),ue.effect.dirty=!0,ue.update();else L.el=E.el,ue.vnode=L},q=(E,L,ee,ue,he,_e,Ce)=>{const we=()=>{if(E.isMounted){let{next:Se,bu:Ne,u:$e,parent:Ye,vnode:Ke}=E;{const bt=fc(E);if(bt){Se&&(Se.el=Ke.el,z(E,Se,Ce)),bt.asyncDep.then(()=>{E.isUnmounted||we()});return}}let et=Se,qe;cn(E,!1),Se?(Se.el=Ke.el,z(E,Se,Ce)):Se=Ke,Ne&&Do(Ne),(qe=Se.props&&Se.props.onVnodeBeforeUpdate)&&Is(qe,Ye,Se,Ke),cn(E,!0);const tt=Ei(E),ct=E.subTree;E.subTree=tt,S(ct,tt,p(ct.el),Z(ct),E,he,_e),Se.el=tt.el,et===null&&zf(E,tt.el),$e&&zt($e,he),(qe=Se.props&&Se.props.onVnodeUpdated)&&zt(()=>Is(qe,Ye,Se,Ke),he)}else{let Se;const{el:Ne,props:$e}=L,{bm:Ye,m:Ke,parent:et}=E,qe=Oo(L);if(cn(E,!1),Ye&&Do(Ye),!qe&&(Se=$e&&$e.onVnodeBeforeMount)&&Is(Se,et,L),cn(E,!0),Ne&&X){const tt=()=>{E.subTree=Ei(E),X(Ne,E.subTree,E,he,null)};qe?L.type.__asyncLoader().then(()=>!E.isUnmounted&&tt()):tt()}else{const tt=E.subTree=Ei(E);S(null,tt,ee,ue,E,he,_e),L.el=tt.el}if(Ke&&zt(Ke,he),!qe&&(Se=$e&&$e.onVnodeMounted)){const tt=L;zt(()=>Is(Se,et,tt),he)}(L.shapeFlag&256||et&&Oo(et.vnode)&&et.vnode.shapeFlag&256)&&E.a&&zt(E.a,he),E.isMounted=!0,L=ee=ue=null}},ge=E.effect=new Xi(we,cs,()=>rr(fe),E.scope),fe=E.update=()=>{ge.dirty&&ge.run()};fe.i=E,fe.id=E.uid,cn(E,!0),fe()},z=(E,L,ee)=>{L.component=E;const ue=E.vnode.props;E.vnode=L,E.next=null,kf(E,L.props,ue,ee),Pf(E,L.children,ee),Js(),ga(E),Xs()},ie=(E,L,ee,ue,he,_e,Ce,we,ge=!1)=>{const fe=E&&E.children,Se=E?E.shapeFlag:0,Ne=L.children,{patchFlag:$e,shapeFlag:Ye}=L;if($e>0){if($e&128){de(fe,Ne,ee,ue,he,_e,Ce,we,ge);return}else if($e&256){G(fe,Ne,ee,ue,he,_e,Ce,we,ge);return}}Ye&8?(Se&16&&Me(fe,he,_e),Ne!==fe&&h(ee,Ne)):Se&16?Ye&16?de(fe,Ne,ee,ue,he,_e,Ce,we,ge):Me(fe,he,_e,!0):(Se&8&&h(ee,""),Ye&16&&w(Ne,ee,ue,he,_e,Ce,we,ge))},G=(E,L,ee,ue,he,_e,Ce,we,ge)=>{E=E||$n,L=L||$n;const fe=E.length,Se=L.length,Ne=Math.min(fe,Se);let $e;for($e=0;$e<Ne;$e++){const Ye=L[$e]=ge?Ys(L[$e]):xs(L[$e]);S(E[$e],Ye,ee,null,he,_e,Ce,we,ge)}fe>Se?Me(E,he,_e,!0,!1,Ne):w(L,ee,ue,he,_e,Ce,we,ge,Ne)},de=(E,L,ee,ue,he,_e,Ce,we,ge)=>{let fe=0;const Se=L.length;let Ne=E.length-1,$e=Se-1;for(;fe<=Ne&&fe<=$e;){const Ye=E[fe],Ke=L[fe]=ge?Ys(L[fe]):xs(L[fe]);if(fn(Ye,Ke))S(Ye,Ke,ee,null,he,_e,Ce,we,ge);else break;fe++}for(;fe<=Ne&&fe<=$e;){const Ye=E[Ne],Ke=L[$e]=ge?Ys(L[$e]):xs(L[$e]);if(fn(Ye,Ke))S(Ye,Ke,ee,null,he,_e,Ce,we,ge);else break;Ne--,$e--}if(fe>Ne){if(fe<=$e){const Ye=$e+1,Ke=Ye<Se?L[Ye].el:ue;for(;fe<=$e;)S(null,L[fe]=ge?Ys(L[fe]):xs(L[fe]),ee,Ke,he,_e,Ce,we,ge),fe++}}else if(fe>$e)for(;fe<=Ne;)pe(E[fe],he,_e,!0),fe++;else{const Ye=fe,Ke=fe,et=new Map;for(fe=Ke;fe<=$e;fe++){const Ct=L[fe]=ge?Ys(L[fe]):xs(L[fe]);Ct.key!=null&&et.set(Ct.key,fe)}let qe,tt=0;const ct=$e-Ke+1;let bt=!1,Ot=0;const _t=new Array(ct);for(fe=0;fe<ct;fe++)_t[fe]=0;for(fe=Ye;fe<=Ne;fe++){const Ct=E[fe];if(tt>=ct){pe(Ct,he,_e,!0);continue}let Mt;if(Ct.key!=null)Mt=et.get(Ct.key);else for(qe=Ke;qe<=$e;qe++)if(_t[qe-Ke]===0&&fn(Ct,L[qe])){Mt=qe;break}Mt===void 0?pe(Ct,he,_e,!0):(_t[Mt-Ke]=fe+1,Mt>=Ot?Ot=Mt:bt=!0,S(Ct,L[Mt],ee,null,he,_e,Ce,we,ge),tt++)}const bs=bt?Bf(_t):$n;for(qe=bs.length-1,fe=ct-1;fe>=0;fe--){const Ct=Ke+fe,Mt=L[Ct],on=Ct+1<Se?L[Ct+1].el:ue;_t[fe]===0?S(null,Mt,ee,on,he,_e,Ce,we,ge):bt&&(qe<0||fe!==bs[qe]?xe(Mt,ee,on,2):qe--)}}},xe=(E,L,ee,ue,he=null)=>{const{el:_e,type:Ce,transition:we,children:ge,shapeFlag:fe}=E;if(fe&6){xe(E.component.subTree,L,ee,ue);return}if(fe&128){E.suspense.move(L,ee,ue);return}if(fe&64){Ce.move(E,L,ee,B);return}if(Ce===Te){n(_e,L,ee);for(let Ne=0;Ne<ge.length;Ne++)xe(ge[Ne],L,ee,ue);n(E.anchor,L,ee);return}if(Ce===Lo){Q(E,L,ee);return}if(ue!==2&&fe&1&&we)if(ue===0)we.beforeEnter(_e),n(_e,L,ee),zt(()=>we.enter(_e),he);else{const{leave:Ne,delayLeave:$e,afterLeave:Ye}=we,Ke=()=>n(_e,L,ee),et=()=>{Ne(_e,()=>{Ke(),Ye&&Ye()})};$e?$e(_e,Ke,et):et()}else n(_e,L,ee)},pe=(E,L,ee,ue=!1,he=!1)=>{const{type:_e,props:Ce,ref:we,children:ge,dynamicChildren:fe,shapeFlag:Se,patchFlag:Ne,dirs:$e,cacheIndex:Ye}=E;if(Ne===-2&&(he=!1),we!=null&&ji(we,null,ee,E,!0),Ye!=null&&(L.renderCache[Ye]=void 0),Se&256){L.ctx.deactivate(E);return}const Ke=Se&1&&$e,et=!Oo(E);let qe;if(et&&(qe=Ce&&Ce.onVnodeBeforeUnmount)&&Is(qe,L,E),Se&6)Be(E.component,ee,ue);else{if(Se&128){E.suspense.unmount(ee,ue);return}Ke&&ln(E,null,L,"beforeUnmount"),Se&64?E.type.remove(E,L,ee,B,ue):fe&&!fe.hasOnce&&(_e!==Te||Ne>0&&Ne&64)?Me(fe,L,ee,!1,!0):(_e===Te&&Ne&384||!he&&Se&16)&&Me(ge,L,ee),ue&&Pe(E)}(et&&(qe=Ce&&Ce.onVnodeUnmounted)||Ke)&&zt(()=>{qe&&Is(qe,L,E),Ke&&ln(E,null,L,"unmounted")},ee)},Pe=E=>{const{type:L,el:ee,anchor:ue,transition:he}=E;if(L===Te){K(ee,ue);return}if(L===Lo){re(E);return}const _e=()=>{i(ee),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(E.shapeFlag&1&&he&&!he.persisted){const{leave:Ce,delayLeave:we}=he,ge=()=>Ce(ee,_e);we?we(E.el,_e,ge):ge()}else _e()},K=(E,L)=>{let ee;for(;E!==L;)ee=g(E),i(E),E=ee;i(L)},Be=(E,L,ee)=>{const{bum:ue,scope:he,update:_e,subTree:Ce,um:we,m:ge,a:fe}=E;Ra(ge),Ra(fe),ue&&Do(ue),he.stop(),_e&&(_e.active=!1,pe(Ce,E,L,ee)),we&&zt(we,L),zt(()=>{E.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},Me=(E,L,ee,ue=!1,he=!1,_e=0)=>{for(let Ce=_e;Ce<E.length;Ce++)pe(E[Ce],L,ee,ue,he)},Z=E=>{if(E.shapeFlag&6)return Z(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const L=g(E.anchor||E.el),ee=L&&L[Of];return ee?g(ee):L};let k=!1;const T=(E,L,ee)=>{E==null?L._vnode&&pe(L._vnode,null,null,!0):S(L._vnode||null,E,L,null,null,null,ee),k||(k=!0,ga(),Kl(),k=!1),L._vnode=E},B={p:S,um:pe,m:xe,r:Pe,mt:C,mc:w,pc:ie,pbc:R,n:Z,o:e};let ne,X;return{render:T,hydrate:ne,createApp:Rf(T,ne)}}function wi({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function cn({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function Nf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function hc(e,t,o=!1){const n=e.children,i=t.children;if(He(n)&&He(i))for(let l=0;l<n.length;l++){const a=n[l];let r=i[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=i[l]=Ys(i[l]),r.el=a.el),!o&&r.patchFlag!==-2&&hc(a,r)),r.type===si&&(r.el=a.el)}}function Bf(e){const t=e.slice(),o=[0];let n,i,l,a,r;const d=e.length;for(n=0;n<d;n++){const u=e[n];if(u!==0){if(i=o[o.length-1],e[i]<u){t[n]=i,o.push(n);continue}for(l=0,a=o.length-1;l<a;)r=l+a>>1,e[o[r]]<u?l=r+1:a=r;u<e[o[l]]&&(l>0&&(t[n]=o[l-1]),o[l]=n)}}for(l=o.length,a=o[l-1];l-- >0;)o[l]=a,a=t[a];return o}function fc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fc(t)}function Ra(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const jf=Symbol.for("v-scx"),Vf=()=>gs(jf),To={};function Rt(e,t,o){return pc(e,t,o)}function pc(e,t,{immediate:o,deep:n,flush:i,once:l,onTrack:a,onTrigger:r}=St){if(t&&l){const O=t;t=(...H)=>{O(...H),Re()}}const d=Bt,u=O=>n===!0?O:Hs(O,n===!1?1:void 0);let h,p=!1,g=!1;if(Xt(e)?(h=()=>e.value,p=Pn(e)):Wn(e)?(h=()=>u(e),p=!0):He(e)?(g=!0,p=e.some(O=>Wn(O)||Pn(O)),h=()=>e.map(O=>{if(Xt(O))return O.value;if(Wn(O))return u(O);if(Je(O))return zs(O,d,2)})):Je(e)?t?h=()=>zs(e,d,2):h=()=>(_&&_(),ds(e,d,3,[x])):h=cs,t&&n){const O=h;h=()=>Hs(O())}let _,x=O=>{_=Q.onStop=()=>{zs(O,d,4),_=Q.onStop=void 0}},S;if(ni)if(x=cs,t?o&&ds(t,d,3,[h(),g?[]:void 0,x]):h(),i==="sync"){const O=Vf();S=O.__watcherHandles||(O.__watcherHandles=[])}else return cs;let Y=g?new Array(e.length).fill(To):To;const U=()=>{if(!(!Q.active||!Q.dirty))if(t){const O=Q.run();(n||p||(g?O.some((H,w)=>Ws(H,Y[w])):Ws(O,Y)))&&(_&&_(),ds(t,d,3,[O,Y===To?void 0:g&&Y[0]===To?[]:Y,x]),Y=O)}else Q.run()};U.allowRecurse=!!t;let V;i==="sync"?V=U:i==="post"?V=()=>zt(U,d&&d.suspense):(U.pre=!0,d&&(U.id=d.uid),V=()=>rr(U));const Q=new Xi(h,cs,V),re=Rh(),Re=()=>{Q.stop(),re&&Wi(re.effects,Q)};return t?o?U():Y=Q.run():i==="post"?zt(Q.run.bind(Q),d&&d.suspense):Q.run(),S&&S.push(Re),Re}function Uf(e,t,o){const n=this.proxy,i=Dt(e)?e.includes(".")?mc(n,e):()=>n[e]:e.bind(n,n);let l;Je(t)?l=t:(l=t.handler,o=t);const a=ho(this),r=pc(i,l.bind(n),o);return a(),r}function mc(e,t){const o=t.split(".");return()=>{let n=e;for(let i=0;i<o.length&&n;i++)n=n[o[i]];return n}}function Hs(e,t=1/0,o){if(t<=0||!yt(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),t--,Xt(e))Hs(e.value,t,o);else if(He(e))for(let n=0;n<e.length;n++)Hs(e[n],t,o);else if(Mn(e)||kn(e))e.forEach(n=>{Hs(n,t,o)});else if(bl(e)){for(const n in e)Hs(e[n],t,o);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Hs(e[n],t,o)}return e}const Yf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${_s(t)}Modifiers`]||e[`${_n(t)}Modifiers`];function qf(e,t,...o){if(e.isUnmounted)return;const n=e.vnode.props||St;let i=o;const l=t.startsWith("update:"),a=l&&Yf(n,t.slice(7));a&&(a.trim&&(i=o.map(h=>Dt(h)?h.trim():h)),a.number&&(i=o.map(Bo)));let r,d=n[r=_i(t)]||n[r=_i(_s(t))];!d&&l&&(d=n[r=_i(_n(t))]),d&&ds(d,e,6,i);const u=n[r+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,ds(u,e,6,i)}}function gc(e,t,o=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const l=e.emits;let a={},r=!1;if(!Je(e)){const d=u=>{const h=gc(u,t,!0);h&&(r=!0,Ft(a,h))};!o&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!r?(yt(e)&&n.set(e,null),null):(He(l)?l.forEach(d=>a[d]=null):Ft(a,l),yt(e)&&n.set(e,a),a)}function ti(e,t){return!e||!Ho(t)?!1:(t=t.slice(2).replace(/Once$/,""),at(e,t[0].toLowerCase()+t.slice(1))||at(e,_n(t))||at(e,t))}function Ei(e){const{type:t,vnode:o,proxy:n,withProxy:i,propsOptions:[l],slots:a,attrs:r,emit:d,render:u,renderCache:h,props:p,data:g,setupState:_,ctx:x,inheritAttrs:S}=e,Y=jo(e);let U,V;try{if(o.shapeFlag&4){const re=i||n,Re=re;U=xs(u.call(Re,re,h,p,_,g,x)),V=r}else{const re=t;U=xs(re.length>1?re(p,{attrs:r,slots:a,emit:d}):re(p,null)),V=t.props?r:Hf(r)}}catch(re){Xn.length=0,Jo(re,e,1),U=ke(ns)}let Q=U;if(V&&S!==!1){const re=Object.keys(V),{shapeFlag:Re}=Q;re.length&&Re&7&&(l&&re.some(zi)&&(V=Kf(V,l)),Q=Gs(Q,V,!1,!0))}return o.dirs&&(Q=Gs(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(o.dirs):o.dirs),o.transition&&(Q.transition=o.transition),U=Q,jo(Y),U}const Hf=e=>{let t;for(const o in e)(o==="class"||o==="style"||Ho(o))&&((t||(t={}))[o]=e[o]);return t},Kf=(e,t)=>{const o={};for(const n in e)(!zi(n)||!(n.slice(9)in t))&&(o[n]=e[n]);return o};function Qf(e,t,o){const{props:n,children:i,component:l}=e,{props:a,children:r,patchFlag:d}=t,u=l.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&d>=0){if(d&1024)return!0;if(d&16)return n?$a(n,a,u):!!a;if(d&8){const h=t.dynamicProps;for(let p=0;p<h.length;p++){const g=h[p];if(a[g]!==n[g]&&!ti(u,g))return!0}}}else return(i||r)&&(!r||!r.$stable)?!0:n===a?!1:n?a?$a(n,a,u):!0:!!a;return!1}function $a(e,t,o){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const l=n[i];if(t[l]!==e[l]&&!ti(o,l))return!0}return!1}function zf({vnode:e,parent:t},o){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=o,t=t.parent;else break}}const Wf=e=>e.__isSuspense;function Gf(e,t){t&&t.pendingBranch?He(e)?t.effects.push(...e):t.effects.push(e):tf(e)}const Te=Symbol.for("v-fgt"),si=Symbol.for("v-txt"),ns=Symbol.for("v-cmt"),Lo=Symbol.for("v-stc"),Xn=[];let os=null;function P(e=!1){Xn.push(os=e?null:[])}function Jf(){Xn.pop(),os=Xn[Xn.length-1]||null}let oo=1;function ka(e){oo+=e,e<0&&os&&(os.hasOnce=!0)}function _c(e){return e.dynamicChildren=oo>0?os||$n:null,Jf(),oo>0&&os&&os.push(e),e}function N(e,t,o,n,i,l){return _c(s(e,t,o,n,i,l,!0))}function Vt(e,t,o,n,i){return _c(ke(e,t,o,n,i,!0))}function Vi(e){return e?e.__v_isVNode===!0:!1}function fn(e,t){return e.type===t.type&&e.key===t.key}const vc=({key:e})=>e??null,Mo=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||Xt(e)||Je(e)?{i:Gt,r:e,k:t,f:!!o}:e:null);function s(e,t=null,o=null,n=0,i=null,l=e===Te?0:1,a=!1,r=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vc(t),ref:t&&Mo(t),scopeId:Xo,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Gt};return r?(cr(d,o),l&128&&e.normalize(d)):o&&(d.shapeFlag|=Dt(o)?8:16),oo>0&&!a&&os&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&os.push(d),d}const ke=Xf;function Xf(e,t=null,o=null,n=0,i=null,l=!1){if((!e||e===vf)&&(e=ns),Vi(e)){const r=Gs(e,t,!0);return o&&cr(r,o),oo>0&&!l&&os&&(r.shapeFlag&6?os[os.indexOf(e)]=r:os.push(r)),r.patchFlag=-2,r}if(dp(e)&&(e=e.__vccOpts),t){t=Zf(t);let{class:r,style:d}=t;r&&!Dt(r)&&(t.class=nt(r)),yt(d)&&(Bl(d)&&!He(d)&&(d=Ft({},d)),t.style=zo(d))}const a=Dt(e)?1:Wf(e)?128:Ff(e)?64:yt(e)?4:Je(e)?2:0;return s(e,t,o,n,i,a,l,!0)}function Zf(e){return e?Bl(e)||ic(e)?Ft({},e):e:null}function Gs(e,t,o=!1,n=!1){const{props:i,ref:l,patchFlag:a,children:r,transition:d}=e,u=t?ep(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&vc(u),ref:t&&t.ref?o&&l?He(l)?l.concat(Mo(t)):[l,Mo(t)]:Mo(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Te?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gs(e.ssContent),ssFallback:e.ssFallback&&Gs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&n&&Vo(h,d.clone(h)),h}function J(e=" ",t=0){return ke(si,null,e,t)}function We(e,t){const o=ke(Lo,null,e);return o.staticCount=t,o}function lt(e="",t=!1){return t?(P(),Vt(ns,null,e)):ke(ns,null,e)}function xs(e){return e==null||typeof e=="boolean"?ke(ns):He(e)?ke(Te,null,e.slice()):typeof e=="object"?Ys(e):ke(si,null,String(e))}function Ys(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gs(e)}function cr(e,t){let o=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(He(t))o=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),cr(e,i()),i._c&&(i._d=!0));return}else{o=32;const i=t._;!i&&!ic(t)?t._ctx=Gt:i===3&&Gt&&(Gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Je(t)?(t={default:t,_ctx:Gt},o=32):(t=String(t),n&64?(o=16,t=[J(t)]):o=8);e.children=t,e.shapeFlag|=o}function ep(...e){const t={};for(let o=0;o<e.length;o++){const n=e[o];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=nt([t.class,n.class]));else if(i==="style")t.style=zo([t.style,n.style]);else if(Ho(i)){const l=t[i],a=n[i];a&&l!==a&&!(He(l)&&l.includes(a))&&(t[i]=l?[].concat(l,a):a)}else i!==""&&(t[i]=n[i])}return t}function Is(e,t,o,n=null){ds(e,t,7,[o,n])}const tp=sc();let sp=0;function np(e,t,o){const n=e.type,i=(t?t.appContext:e.appContext)||tp,l={uid:sp++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ch(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ac(n,i),emitsOptions:gc(n,i),emit:null,emitted:null,propsDefaults:St,inheritAttrs:n.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=qf.bind(null,l),e.ce&&e.ce(l),l}let Bt=null;const op=()=>Bt||Gt;let Yo,Ui;{const e=El(),t=(o,n)=>{let i;return(i=e[o])||(i=e[o]=[]),i.push(n),l=>{i.length>1?i.forEach(a=>a(l)):i[0](l)}};Yo=t("__VUE_INSTANCE_SETTERS__",o=>Bt=o),Ui=t("__VUE_SSR_SETTERS__",o=>ni=o)}const ho=e=>{const t=Bt;return Yo(e),e.scope.on(),()=>{e.scope.off(),Yo(t)}},Ta=()=>{Bt&&Bt.scope.off(),Yo(null)};function yc(e){return e.vnode.shapeFlag&4}let ni=!1;function ip(e,t=!1,o=!1){t&&Ui(t);const{props:n,children:i}=e.vnode,l=yc(e);$f(e,n,l,t),Df(e,i,o);const a=l?rp(e,t):void 0;return t&&Ui(!1),a}function rp(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,bf);const{setup:n}=o;if(n){const i=e.setupContext=n.length>1?lp(e):null,l=ho(e);Js();const a=zs(n,e,0,[e.props,i]);if(Xs(),l(),vl(a)){if(a.then(Ta,Ta),t)return a.then(r=>{Aa(e,r,t)}).catch(r=>{Jo(r,e,0)});e.asyncDep=a}else Aa(e,a,t)}else bc(e,t)}function Aa(e,t,o){Je(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yt(t)&&(e.setupState=Yl(t)),bc(e,o)}let Da;function bc(e,t,o){const n=e.type;if(!e.render){if(!t&&Da&&!n.render){const i=n.template||ar(e).template;if(i){const{isCustomElement:l,compilerOptions:a}=e.appContext.config,{delimiters:r,compilerOptions:d}=n,u=Ft(Ft({isCustomElement:l,delimiters:r},a),d);n.render=Da(i,u)}}e.render=n.render||cs}{const i=ho(e);Js();try{wf(e)}finally{Xs(),i()}}}const ap={get(e,t){return Jt(e,"get",""),e[t]}};function lp(e){const t=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,ap),slots:e.slots,emit:e.emit,expose:t}}function oi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Yl(Qh(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in Gn)return Gn[o](e)},has(t,o){return o in t||o in Gn}})):e.proxy}function cp(e,t=!0){return Je(e)?e.displayName||e.name:e.name||t&&e.__name}function dp(e){return Je(e)&&"__vccOpts"in e}const ot=(e,t)=>zh(e,t,ni);function dr(e,t,o){const n=arguments.length;return n===2?yt(t)&&!He(t)?Vi(t)?ke(e,null,[t]):ke(e,t):ke(e,null,t):(n>3?o=Array.prototype.slice.call(arguments,2):n===3&&Vi(o)&&(o=[o]),ke(e,t,o))}const up="3.4.33";/**
* @vue/runtime-dom v3.4.33
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hp="http://www.w3.org/2000/svg",fp="http://www.w3.org/1998/Math/MathML",Ts=typeof document<"u"?document:null,Pa=Ts&&Ts.createElement("template"),pp={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,n)=>{const i=t==="svg"?Ts.createElementNS(hp,e):t==="mathml"?Ts.createElementNS(fp,e):o?Ts.createElement(e,{is:o}):Ts.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Ts.createTextNode(e),createComment:e=>Ts.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ts.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,n,i,l){const a=o?o.previousSibling:t.lastChild;if(i&&(i===l||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),o),!(i===l||!(i=i.nextSibling)););else{Pa.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const r=Pa.content;if(n==="svg"||n==="mathml"){const d=r.firstChild;for(;d.firstChild;)r.appendChild(d.firstChild);r.removeChild(d)}t.insertBefore(r,o)}return[a?a.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},Ns="transition",Hn="animation",io=Symbol("_vtc"),qo=(e,{slots:t})=>dr(rf,mp(e),t);qo.displayName="Transition";const wc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};qo.props=Ft({},zl,wc);const dn=(e,t=[])=>{He(e)?e.forEach(o=>o(...t)):e&&e(...t)},Oa=e=>e?He(e)?e.some(t=>t.length>1):e.length>1:!1;function mp(e){const t={};for(const m in e)m in wc||(t[m]=e[m]);if(e.css===!1)return t;const{name:o="v",type:n,duration:i,enterFromClass:l=`${o}-enter-from`,enterActiveClass:a=`${o}-enter-active`,enterToClass:r=`${o}-enter-to`,appearFromClass:d=l,appearActiveClass:u=a,appearToClass:h=r,leaveFromClass:p=`${o}-leave-from`,leaveActiveClass:g=`${o}-leave-active`,leaveToClass:_=`${o}-leave-to`}=e,x=gp(i),S=x&&x[0],Y=x&&x[1],{onBeforeEnter:U,onEnter:V,onEnterCancelled:Q,onLeave:re,onLeaveCancelled:Re,onBeforeAppear:O=U,onAppear:H=V,onAppearCancelled:w=Q}=t,I=(m,b,C)=>{un(m,b?h:r),un(m,b?u:a),C&&C()},R=(m,b)=>{m._isLeaving=!1,un(m,p),un(m,_),un(m,g),b&&b()},A=m=>(b,C)=>{const F=m?H:V,q=()=>I(b,m,C);dn(F,[b,q]),Fa(()=>{un(b,m?d:l),Bs(b,m?h:r),Oa(F)||La(b,n,S,q)})};return Ft(t,{onBeforeEnter(m){dn(U,[m]),Bs(m,l),Bs(m,a)},onBeforeAppear(m){dn(O,[m]),Bs(m,d),Bs(m,u)},onEnter:A(!1),onAppear:A(!0),onLeave(m,b){m._isLeaving=!0;const C=()=>R(m,b);Bs(m,p),Bs(m,g),yp(),Fa(()=>{m._isLeaving&&(un(m,p),Bs(m,_),Oa(re)||La(m,n,Y,C))}),dn(re,[m,C])},onEnterCancelled(m){I(m,!1),dn(Q,[m])},onAppearCancelled(m){I(m,!0),dn(w,[m])},onLeaveCancelled(m){R(m),dn(Re,[m])}})}function gp(e){if(e==null)return null;if(yt(e))return[Ii(e.enter),Ii(e.leave)];{const t=Ii(e);return[t,t]}}function Ii(e){return _h(e)}function Bs(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e[io]||(e[io]=new Set)).add(t)}function un(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const o=e[io];o&&(o.delete(t),o.size||(e[io]=void 0))}function Fa(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let _p=0;function La(e,t,o,n){const i=e._endId=++_p,l=()=>{i===e._endId&&n()};if(o)return setTimeout(l,o);const{type:a,timeout:r,propCount:d}=vp(e,t);if(!a)return n();const u=a+"end";let h=0;const p=()=>{e.removeEventListener(u,g),l()},g=_=>{_.target===e&&++h>=d&&p()};setTimeout(()=>{h<d&&p()},r+1),e.addEventListener(u,g)}function vp(e,t){const o=window.getComputedStyle(e),n=x=>(o[x]||"").split(", "),i=n(`${Ns}Delay`),l=n(`${Ns}Duration`),a=Ma(i,l),r=n(`${Hn}Delay`),d=n(`${Hn}Duration`),u=Ma(r,d);let h=null,p=0,g=0;t===Ns?a>0&&(h=Ns,p=a,g=l.length):t===Hn?u>0&&(h=Hn,p=u,g=d.length):(p=Math.max(a,u),h=p>0?a>u?Ns:Hn:null,g=h?h===Ns?l.length:d.length:0);const _=h===Ns&&/\b(transform|all)(,|$)/.test(n(`${Ns}Property`).toString());return{type:h,timeout:p,propCount:g,hasTransform:_}}function Ma(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,n)=>Na(o)+Na(e[n])))}function Na(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function yp(){return document.body.offsetHeight}function bp(e,t,o){const n=e[io];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const Ba=Symbol("_vod"),wp=Symbol("_vsh"),Ep=Symbol(""),Ip=/(^|;)\s*display\s*:/;function xp(e,t,o){const n=e.style,i=Dt(o);let l=!1;if(o&&!i){if(t)if(Dt(t))for(const a of t.split(";")){const r=a.slice(0,a.indexOf(":")).trim();o[r]==null&&No(n,r,"")}else for(const a in t)o[a]==null&&No(n,a,"");for(const a in o)a==="display"&&(l=!0),No(n,a,o[a])}else if(i){if(t!==o){const a=n[Ep];a&&(o+=";"+a),n.cssText=o,l=Ip.test(o)}}else t&&e.removeAttribute("style");Ba in e&&(e[Ba]=l?n.display:"",e[wp]&&(n.display="none"))}const ja=/\s*!important$/;function No(e,t,o){if(He(o))o.forEach(n=>No(e,t,n));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const n=Cp(e,t);ja.test(o)?e.setProperty(_n(n),o.replace(ja,""),"important"):e[n]=o}}const Va=["Webkit","Moz","ms"],xi={};function Cp(e,t){const o=xi[t];if(o)return o;let n=_s(t);if(n!=="filter"&&n in e)return xi[t]=n;n=Qo(n);for(let i=0;i<Va.length;i++){const l=Va[i]+n;if(l in e)return xi[t]=l}return t}const Ua="http://www.w3.org/1999/xlink";function Ya(e,t,o,n,i,l=Ih(t)){n&&t.startsWith("xlink:")?o==null?e.removeAttributeNS(Ua,t.slice(6,t.length)):e.setAttributeNS(Ua,t,o):o==null||l&&!Il(o)?e.removeAttribute(t):e.setAttribute(t,l?"":Ss(o)?String(o):o)}function Sp(e,t,o,n){if(t==="innerHTML"||t==="textContent"){if(o==null)return;e[t]=o;return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,r=o==null?"":String(o);(a!==r||!("_value"in e))&&(e.value=r),o==null&&e.removeAttribute(t),e._value=o;return}let l=!1;if(o===""||o==null){const a=typeof e[t];a==="boolean"?o=Il(o):o==null&&a==="string"?(o="",l=!0):a==="number"&&(o=0,l=!0)}try{e[t]=o}catch{}l&&e.removeAttribute(t)}function Ks(e,t,o,n){e.addEventListener(t,o,n)}function Rp(e,t,o,n){e.removeEventListener(t,o,n)}const qa=Symbol("_vei");function $p(e,t,o,n,i=null){const l=e[qa]||(e[qa]={}),a=l[t];if(n&&a)a.value=n;else{const[r,d]=kp(t);if(n){const u=l[t]=Dp(n,i);Ks(e,r,u,d)}else a&&(Rp(e,r,a,d),l[t]=void 0)}}const Ha=/(?:Once|Passive|Capture)$/;function kp(e){let t;if(Ha.test(e)){t={};let n;for(;n=e.match(Ha);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_n(e.slice(2)),t]}let Ci=0;const Tp=Promise.resolve(),Ap=()=>Ci||(Tp.then(()=>Ci=0),Ci=Date.now());function Dp(e,t){const o=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=o.attached)return;ds(Pp(n,o.value),t,5,[n])};return o.value=e,o.attached=Ap(),o}function Pp(e,t){if(He(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Ka=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Op=(e,t,o,n,i,l)=>{const a=i==="svg";t==="class"?bp(e,n,a):t==="style"?xp(e,o,n):Ho(t)?zi(t)||$p(e,t,o,n,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Fp(e,t,n,a))?(Sp(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ya(e,t,n,a,l,t!=="value")):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ya(e,t,n,a))};function Fp(e,t,o,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ka(t)&&Je(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ka(t)&&Dt(o)?!1:t in e}const On=e=>{const t=e.props["onUpdate:modelValue"]||!1;return He(t)?o=>Do(t,o):t};function Lp(e){e.target.composing=!0}function Qa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ds=Symbol("_assign"),ve={created(e,{modifiers:{lazy:t,trim:o,number:n}},i){e[Ds]=On(i);const l=n||i.props&&i.props.type==="number";Ks(e,t?"change":"input",a=>{if(a.target.composing)return;let r=e.value;o&&(r=r.trim()),l&&(r=Bo(r)),e[Ds](r)}),o&&Ks(e,"change",()=>{e.value=e.value.trim()}),t||(Ks(e,"compositionstart",Lp),Ks(e,"compositionend",Qa),Ks(e,"change",Qa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:o,modifiers:{lazy:n,trim:i,number:l}},a){if(e[Ds]=On(a),e.composing)return;const r=(l||e.type==="number")&&!/^0\d/.test(e.value)?Bo(e.value):e.value,d=t??"";r!==d&&(document.activeElement===e&&e.type!=="range"&&(n&&t===o||i&&e.value.trim()===d)||(e.value=d))}},us={deep:!0,created(e,t,o){e[Ds]=On(o),Ks(e,"change",()=>{const n=e._modelValue,i=ro(e),l=e.checked,a=e[Ds];if(He(n)){const r=Ji(n,i),d=r!==-1;if(l&&!d)a(n.concat(i));else if(!l&&d){const u=[...n];u.splice(r,1),a(u)}}else if(Mn(n)){const r=new Set(n);l?r.add(i):r.delete(i),a(r)}else a(Ec(e,l))})},mounted:za,beforeUpdate(e,t,o){e[Ds]=On(o),za(e,t,o)}};function za(e,{value:t,oldValue:o},n){e._modelValue=t,He(t)?e.checked=Ji(t,n.props.value)>-1:Mn(t)?e.checked=t.has(n.props.value):t!==o&&(e.checked=uo(t,Ec(e,!0)))}const it={deep:!0,created(e,{value:t,modifiers:{number:o}},n){const i=Mn(t);Ks(e,"change",()=>{const l=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>o?Bo(ro(a)):ro(a));e[Ds](e.multiple?i?new Set(l):l:l[0]),e._assigning=!0,hs(()=>{e._assigning=!1})}),e[Ds]=On(n)},mounted(e,{value:t,modifiers:{number:o}}){Wa(e,t)},beforeUpdate(e,t,o){e[Ds]=On(o)},updated(e,{value:t,modifiers:{number:o}}){e._assigning||Wa(e,t)}};function Wa(e,t,o){const n=e.multiple,i=He(t);if(!(n&&!i&&!Mn(t))){for(let l=0,a=e.options.length;l<a;l++){const r=e.options[l],d=ro(r);if(n)if(i){const u=typeof d;u==="string"||u==="number"?r.selected=t.some(h=>String(h)===String(d)):r.selected=Ji(t,d)>-1}else r.selected=t.has(d);else if(uo(ro(r),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ro(e){return"_value"in e?e._value:e.value}function Ec(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const Mp=["ctrl","shift","alt","meta"],Np={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Mp.some(o=>e[`${o}Key`]&&!t.includes(o))},Xe=(e,t)=>{const o=e._withMods||(e._withMods={}),n=t.join(".");return o[n]||(o[n]=(i,...l)=>{for(let a=0;a<t.length;a++){const r=Np[t[a]];if(r&&r(i,t))return}return e(i,...l)})},Bp=Ft({patchProp:Op},pp);let Ga;function jp(){return Ga||(Ga=Lf(Bp))}const Vp=(...e)=>{const t=jp().createApp(...e),{mount:o}=t;return t.mount=n=>{const i=Yp(n);if(!i)return;const l=t._component;!Je(l)&&!l.render&&!l.template&&(l.template=i.innerHTML),i.innerHTML="";const a=o(i,!1,Up(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function Up(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Yp(e){return Dt(e)?document.querySelector(e):e}const qp="/assets/blank.jpg",Ue=(e,t)=>{const o=e.__vccOpts||e;for(const[n,i]of t)o[n]=i;return o},Hp={name:"Header",data(){return{userData:{name:"",email:"",Nationality:""}}},methods:{logout(){sessionStorage.clear(),this.$router.push("/login"),Swal.fire({title:"Logged Out",text:"You have been logged out successfully.",icon:"success",confirmButtonText:"OK",allowOutsideClick:!1,allowEscapeKey:!1})}},mounted(){const e=sessionStorage.getItem("AuthData");if(e){const t=JSON.parse(e);this.userData.name=t.name,this.userData.email=t.email,this.userData.Nationality=t.Nationality}}},Kp={id:"kt_app_header",class:"app-header","data-kt-sticky":"true","data-kt-sticky-activate":"{default: true, lg: true}","data-kt-sticky-name":"app-header-minimize","data-kt-sticky-offset":"{default: '200px', lg: '0'}","data-kt-sticky-animation":"false"},Qp={class:"app-container container-fluid d-flex align-items-stretch justify-content-between",id:"kt_app_header_container"},zp=We('<div class="d-flex align-items-center d-lg-none ms-n3 me-1 me-md-2" title="Show sidebar menu"><div class="btn btn-icon btn-active-color-primary w-35px h-35px" id="kt_app_sidebar_mobile_toggle"><i class="ki-duotone ki-abstract-14 fs-2 fs-md-1"><span class="path1"></span><span class="path2"></span></i></div></div><div class="d-flex align-items-center flex-grow-1 flex-lg-grow-0"><a href="" class="d-lg-none"><img alt="Logo" src="http://localhost/mpapms/public/assets/media/logos/default-small.svg" class="h-30px"></a></div>',2),Wp={class:"d-flex align-items-stretch justify-content-between flex-lg-grow-1",id:"kt_app_header_wrapper"},Gp=s("div",{class:"app-header-menu app-header-mobile-drawer align-items-stretch","data-kt-drawer":"true","data-kt-drawer-name":"app-header-menu","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"250px","data-kt-drawer-direction":"end","data-kt-drawer-toggle":"#kt_app_header_menu_toggle","data-kt-swapper":"true","data-kt-swapper-mode":"{default: 'append', lg: 'prepend'}","data-kt-swapper-parent":"{default: '#kt_app_body', lg: '#kt_app_header_wrapper'}"},[s("div",{class:"menu menu-rounded menu-column menu-lg-row my-5 my-lg-0 align-items-stretch fw-semibold px-2 px-lg-0",id:"kt_app_header_menu","data-kt-menu":"true"})],-1),Jp={class:"app-navbar flex-shrink-0"},Xp={class:"app-navbar-item ms-1 ms-md-4",id:"kt_header_user_menu_toggle"},Zp=s("div",{class:"cursor-pointer symbol symbol-35px","data-kt-menu-trigger":"{default: 'click', lg: 'hover'}","data-kt-menu-attach":"parent","data-kt-menu-placement":"bottom-end"},[s("img",{src:qp,class:"rounded-3 shadow-lg",alt:"user"})],-1),em={class:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg menu-state-color fw-semibold py-4 fs-6 w-275px","data-kt-menu":"true"},tm={class:"menu-item px-3"},sm={class:"menu-content d-flex align-items-center px-3"},nm=s("div",{class:"symbol symbol-50px me-5"},[s("img",{alt:"Logo",src:"https://img.freepik.com/free-vector/blue-circle-with-white-user_78370-4707.jpg?w=740&t=st=1722272278~exp=1722272878~hmac=7212838b0f20d88bd7087ce351a99faf77513f49952952ea5498b365b83f9e76"})],-1),om={class:"d-flex flex-column"},im={class:"fw-bold d-flex align-items-center fs-5"},rm={class:"badge badge-light-success fw-bold fs-8 px-2 py-1 ms-2"},am={href:"#",class:"fw-semibold text-muted text-hover-primary fs-7"},lm=s("div",{class:"separator my-2"},null,-1),cm={class:"menu-item px-5"},dm=s("div",{class:"separator my-2"},null,-1);function um(e,t,o,n,i,l){return P(),N("div",null,[s("div",Kp,[s("div",Qp,[zp,s("div",Wp,[Gp,s("div",Jp,[s("div",Xp,[Zp,s("div",em,[s("div",tm,[s("div",sm,[nm,s("div",om,[s("div",im,[J(D(i.userData.name)+" ",1),s("span",rm,D(i.userData.Nationality),1)]),s("a",am,D(i.userData.email),1)])])]),lm,s("div",cm,[s("a",{href:"#",class:"menu-link px-5",onClick:t[0]||(t[0]=(...a)=>l.logout&&l.logout(...a))},"Logout")]),dm])])])])])])])}const hm=Ue(Hp,[["render",um]]),fm={name:"MenuLinks",setup(){const e=j(null);function t(){const o=sessionStorage.getItem("AuthData");if(o){const n=JSON.parse(o);e.value=n.AccountRole}}return dt(t),{accountRole:e}}},pm={id:"MyMenus"},mm={key:0,class:"menu-item pt-5"},gm=s("div",{class:"menu-content"},[s("span",{class:"menu-heading fw-bold text-uppercase fs-7"},"Admin Options")],-1),_m={key:0,class:"menu-item menu-accordion","data-kt-menu-trigger":"click"},vm=We('<span class="menu-link"><span class="menu-icon"><i class="fas fa-cogs fs-1 text-danger"></i></span><span class="menu-title">Data Settings</span><span class="menu-arrow"></span></span>',1),ym={class:"menu-sub menu-sub-accordion"},bm={class:"menu-item"},wm=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),Em=s("span",{class:"menu-title"},"Reporting Entities",-1),Im={class:"menu-item"},xm=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),Cm=s("span",{class:"menu-title"},"Reporting Timelines",-1),Sm={class:"menu-item"},Rm=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),$m=s("span",{class:"menu-title"},"Reporting Status",-1),km={class:"menu-item"},Tm=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),Am=s("span",{class:"menu-title"},"Tracked Indicators",-1),Dm={class:"menu-item menu-accordion","data-kt-menu-trigger":"click"},Pm=We('<span class="menu-link"><span class="menu-icon"><i class="fas fa-users-cog fs-1 text-danger"></i></span><span class="menu-title">User Settings</span><span class="menu-arrow"></span></span>',1),Om={class:"menu-sub menu-sub-accordion"},Fm={key:0,class:"menu-item"},Lm=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),Mm=s("span",{class:"menu-title"},"Regional Admins",-1),Nm={class:"menu-item"},Bm=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),jm=s("span",{class:"menu-title"},"Country Admins",-1),Vm={class:"menu-item"},Um={key:0,href:"#",class:"menu-link"},Ym=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),qm=s("span",{class:"menu-title"},"Partner Accounts",-1),Hm=[Ym,qm],Km={class:"menu-item pt-5"},Qm=s("div",{class:"menu-content"},[s("span",{class:"menu-heading fw-bold text-uppercase fs-7"},"Project Reporting")],-1),zm={class:"menu-item menu-accordion","data-kt-menu-trigger":"click"},Wm=We('<span class="menu-link"><span class="menu-icon"><i class="fas fa-chart-line fs-1 text-danger"></i></span><span class="menu-title">Report Indicators</span><span class="menu-arrow"></span></span>',1),Gm={class:"menu-sub menu-sub-accordion"},Jm={class:"menu-item"},Xm=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),Zm=s("span",{class:"menu-title"},"Quarterly Indicators",-1),eg={class:"menu-item"},tg=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),sg=s("span",{class:"menu-title"},"Bi-Annual Indicators",-1),ng={class:"menu-item"},og=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),ig=s("span",{class:"menu-title"},"Annual Indicators",-1),rg={class:"menu-item"},ag=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),lg=s("span",{class:"menu-title"},"Regional Framework",-1),cg={class:"menu-item menu-accordion","data-kt-menu-trigger":"click"},dg=We('<span class="menu-link"><span class="menu-icon"><i class="fas fa-folder-open fs-1 text-danger"></i></span><span class="menu-title">My Active Reports</span><span class="menu-arrow"></span></span>',1),ug={class:"menu-sub menu-sub-accordion"},hg={class:"menu-item"},fg=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),pg=s("span",{class:"menu-title"},"Quarterly Reports",-1),mg={class:"menu-item"},gg=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),_g=s("span",{class:"menu-title"},"Bi-Annual Reports",-1),vg={class:"menu-item"},yg=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),bg=s("span",{class:"menu-title"},"Annual Reports",-1),wg={class:"menu-item"},Eg=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),Ig=s("span",{class:"menu-title"},"Regional Reports",-1);function xg(e,t,o,n,i,l){const a=Qe("router-link");return P(),N("div",null,[s("div",pm,[n.accountRole==="admin"||n.accountRole==="country"?(P(),N("div",mm,[gm,n.accountRole==="admin"?(P(),N("div",_m,[vm,s("div",ym,[s("div",bm,[ke(a,{to:"/MgtEntities",class:"menu-link"},{default:xt(()=>[wm,Em]),_:1})]),s("div",Im,[ke(a,{to:"/MgtTimelines",class:"menu-link"},{default:xt(()=>[xm,Cm]),_:1})]),s("div",Sm,[ke(a,{to:"/ReportStatus",class:"menu-link"},{default:xt(()=>[Rm,$m]),_:1})]),s("div",km,[ke(a,{to:"/SelectEntity",class:"menu-link"},{default:xt(()=>[Tm,Am]),_:1})])])])):lt("",!0),s("div",Dm,[Pm,s("div",Om,[n.accountRole==="admin"?(P(),N("div",Fm,[ke(a,{to:"/Admins",class:"menu-link"},{default:xt(()=>[Lm,Mm]),_:1})])):lt("",!0),s("div",Nm,[ke(a,{to:"/CountryUsersEntity",class:"menu-link"},{default:xt(()=>[Bm,jm]),_:1})]),s("div",Vm,[n.accountRole==="admin"?(P(),N("a",Um,Hm)):lt("",!0)])])])])):lt("",!0),s("div",Km,[Qm,s("div",zm,[Wm,s("div",Gm,[s("div",Jm,[ke(a,{to:"/QuaterlySelectEntity",class:"menu-link"},{default:xt(()=>[Xm,Zm]),_:1})]),s("div",eg,[ke(a,{to:"/SelectEntityBiAnnual",class:"menu-link"},{default:xt(()=>[tg,sg]),_:1})]),s("div",ng,[ke(a,{to:"/SelectEntityReport",class:"menu-link"},{default:xt(()=>[og,ig]),_:1})]),s("div",rg,[ke(a,{to:"/RRFSelectEntity",class:"menu-link"},{default:xt(()=>[ag,lg]),_:1})])])]),s("div",cg,[dg,s("div",ug,[s("div",hg,[ke(a,{to:"/AQuarterlySelectEntity",class:"menu-link"},{default:xt(()=>[fg,pg]),_:1})]),s("div",mg,[ke(a,{to:"/ABiAnnualSelectEntity",class:"menu-link"},{default:xt(()=>[gg,_g]),_:1})]),s("div",vg,[ke(a,{to:"/AAnnualSelectEntity",class:"menu-link"},{default:xt(()=>[yg,bg]),_:1})]),s("div",wg,[ke(a,{to:"/ActiveRRFSelectEntity",class:"menu-link"},{default:xt(()=>[Eg,Ig]),_:1})])])])])])])}const Cg=Ue(fm,[["render",xg]]);var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ur(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ic={exports:{}};/*!
* sweetalert2 v11.12.3
* Released under the MIT License.
*/(function(e,t){(function(o,n){e.exports=n()})(Wt,function(){function o(y,c){(c==null||c>y.length)&&(c=y.length);for(var f=0,v=Array(c);f<c;f++)v[f]=y[f];return v}function n(y){if(Array.isArray(y))return y}function i(y){if(Array.isArray(y))return o(y)}function l(y,c,f){if(typeof y=="function"?y===c:y.has(c))return arguments.length<3?c:f;throw new TypeError("Private element is not present on this object")}function a(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function r(y,c,f){return c=V(c),I(y,re()?Reflect.construct(c,f||[],V(y).constructor):c.apply(y,f))}function d(y,c){if(c.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(y,c){if(!(y instanceof c))throw new TypeError("Cannot call a class as a function")}function h(y,c){return y.get(l(y,c))}function p(y,c,f){d(y,c),c.set(y,f)}function g(y,c,f){return y.set(l(y,c),f),f}function _(y,c,f){if(re())return Reflect.construct.apply(null,arguments);var v=[null];v.push.apply(v,c);var M=new(y.bind.apply(y,v));return M}function x(y,c){for(var f=0;f<c.length;f++){var v=c[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,F(v.key),v)}}function S(y,c,f){return c&&x(y.prototype,c),Object.defineProperty(y,"prototype",{writable:!1}),y}function Y(y,c){var f=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!f){if(Array.isArray(y)||(f=z(y))||c){f&&(y=f);var v=0,M=function(){};return{s:M,n:function(){return v>=y.length?{done:!0}:{done:!1,value:y[v++]}},e:function(Ge){throw Ge},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ce,De=!0,Ze=!1;return{s:function(){f=f.call(y)},n:function(){var Ge=f.next();return De=Ge.done,Ge},e:function(Ge){Ze=!0,ce=Ge},f:function(){try{De||f.return==null||f.return()}finally{if(Ze)throw ce}}}}function U(){return U=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(y,c,f){var v=m(y,c);if(v){var M=Object.getOwnPropertyDescriptor(v,c);return M.get?M.get.call(arguments.length<3?y:f):M.value}},U.apply(null,arguments)}function V(y){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},V(y)}function Q(y,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(c&&c.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),c&&R(y,c)}function re(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(re=function(){return!!y})()}function Re(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function O(y,c){var f=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(f!=null){var v,M,ce,De,Ze=[],Ge=!0,$t=!1;try{if(ce=(f=f.call(y)).next,c!==0)for(;!(Ge=(v=ce.call(f)).done)&&(Ze.push(v.value),Ze.length!==c);Ge=!0);}catch(qn){$t=!0,M=qn}finally{try{if(!Ge&&f.return!=null&&(De=f.return(),Object(De)!==De))return}finally{if($t)throw M}}return Ze}}function H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(y,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(y)}function R(y,c){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,v){return f.__proto__=v,f},R(y,c)}function A(y,c){return n(y)||O(y,c)||z(y,c)||H()}function m(y,c){for(;!{}.hasOwnProperty.call(y,c)&&(y=V(y))!==null;);return y}function b(y){return i(y)||Re(y)||z(y)||w()}function C(y,c){if(typeof y!="object"||!y)return y;var f=y[Symbol.toPrimitive];if(f!==void 0){var v=f.call(y,c);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}function F(y){var c=C(y,"string");return typeof c=="symbol"?c:c+""}function q(y){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},q(y)}function z(y,c){if(y){if(typeof y=="string")return o(y,c);var f={}.toString.call(y).slice(8,-1);return f==="Object"&&y.constructor&&(f=y.constructor.name),f==="Map"||f==="Set"?Array.from(y):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?o(y,c):void 0}}var ie=100,G={},de=function(){G.previousActiveElement instanceof HTMLElement?(G.previousActiveElement.focus(),G.previousActiveElement=null):document.body&&document.body.focus()},xe=function(c){return new Promise(function(f){if(!c)return f();var v=window.scrollX,M=window.scrollY;G.restoreFocusTimeout=setTimeout(function(){de(),f()},ie),window.scrollTo(v,M)})},pe="swal2-",Pe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],K=Pe.reduce(function(y,c){return y[c]=pe+c,y},{}),Be=["success","warning","info","question","error"],Me=Be.reduce(function(y,c){return y[c]=pe+c,y},{}),Z="SweetAlert2:",k=function(c){return c.charAt(0).toUpperCase()+c.slice(1)},T=function(c){console.warn("".concat(Z," ").concat(q(c)==="object"?c.join(" "):c))},B=function(c){console.error("".concat(Z," ").concat(c))},ne=[],X=function(c){ne.includes(c)||(ne.push(c),T(c))},E=function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;X('"'.concat(c,'" is deprecated and will be removed in the next major release.').concat(f?' Use "'.concat(f,'" instead.'):""))},L=function(c){return typeof c=="function"?c():c},ee=function(c){return c&&typeof c.toPromise=="function"},ue=function(c){return ee(c)?c.toPromise():Promise.resolve(c)},he=function(c){return c&&Promise.resolve(c)===c},_e=function(){return document.body.querySelector(".".concat(K.container))},Ce=function(c){var f=_e();return f?f.querySelector(c):null},we=function(c){return Ce(".".concat(c))},ge=function(){return we(K.popup)},fe=function(){return we(K.icon)},Se=function(){return we(K["icon-content"])},Ne=function(){return we(K.title)},$e=function(){return we(K["html-container"])},Ye=function(){return we(K.image)},Ke=function(){return we(K["progress-steps"])},et=function(){return we(K["validation-message"])},qe=function(){return Ce(".".concat(K.actions," .").concat(K.confirm))},tt=function(){return Ce(".".concat(K.actions," .").concat(K.cancel))},ct=function(){return Ce(".".concat(K.actions," .").concat(K.deny))},bt=function(){return we(K["input-label"])},Ot=function(){return Ce(".".concat(K.loader))},_t=function(){return we(K.actions)},bs=function(){return we(K.footer)},Ct=function(){return we(K["timer-progress-bar"])},Mt=function(){return we(K.close)},on=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Nn=function(){var c=ge();if(!c)return[];var f=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),v=Array.from(f).sort(function(De,Ze){var Ge=parseInt(De.getAttribute("tabindex")||"0"),$t=parseInt(Ze.getAttribute("tabindex")||"0");return Ge>$t?1:Ge<$t?-1:0}),M=c.querySelectorAll(on),ce=Array.from(M).filter(function(De){return De.getAttribute("tabindex")!=="-1"});return b(new Set(v.concat(ce))).filter(function(De){return vt(De)})},Bn=function(){return le(document.body,K.shown)&&!le(document.body,K["toast-shown"])&&!le(document.body,K["no-backdrop"])},yn=function(){var c=ge();return c?le(c,K.toast):!1},ci=function(){var c=ge();return c?c.hasAttribute("data-loading"):!1},At=function(c,f){if(c.textContent="",f){var v=new DOMParser,M=v.parseFromString(f,"text/html"),ce=M.querySelector("head");ce&&Array.from(ce.childNodes).forEach(function(Ze){c.appendChild(Ze)});var De=M.querySelector("body");De&&Array.from(De.childNodes).forEach(function(Ze){Ze instanceof HTMLVideoElement||Ze instanceof HTMLAudioElement?c.appendChild(Ze.cloneNode(!0)):c.appendChild(Ze)})}},le=function(c,f){if(!f)return!1;for(var v=f.split(/\s+/),M=0;M<v.length;M++)if(!c.classList.contains(v[M]))return!1;return!0},W=function(c,f){Array.from(c.classList).forEach(function(v){!Object.values(K).includes(v)&&!Object.values(Me).includes(v)&&!Object.values(f.showClass||{}).includes(v)&&c.classList.remove(v)})},ae=function(c,f,v){if(W(c,f),!!f.customClass){var M=f.customClass[v];if(M){if(typeof M!="string"&&!M.forEach){T("Invalid type of customClass.".concat(v,'! Expected string or iterable object, got "').concat(q(M),'"'));return}be(c,M)}}},ye=function(c,f){if(!f)return null;switch(f){case"select":case"textarea":case"file":return c.querySelector(".".concat(K.popup," > .").concat(K[f]));case"checkbox":return c.querySelector(".".concat(K.popup," > .").concat(K.checkbox," input"));case"radio":return c.querySelector(".".concat(K.popup," > .").concat(K.radio," input:checked"))||c.querySelector(".".concat(K.popup," > .").concat(K.radio," input:first-child"));case"range":return c.querySelector(".".concat(K.popup," > .").concat(K.range," input"));default:return c.querySelector(".".concat(K.popup," > .").concat(K.input))}},Ee=function(c){if(c.focus(),c.type!=="file"){var f=c.value;c.value="",c.value=f}},Ie=function(c,f,v){!c||!f||(typeof f=="string"&&(f=f.split(/\s+/).filter(Boolean)),f.forEach(function(M){Array.isArray(c)?c.forEach(function(ce){v?ce.classList.add(M):ce.classList.remove(M)}):v?c.classList.add(M):c.classList.remove(M)}))},be=function(c,f){Ie(c,f,!0)},Ae=function(c,f){Ie(c,f,!1)},Le=function(c,f){for(var v=Array.from(c.children),M=0;M<v.length;M++){var ce=v[M];if(ce instanceof HTMLElement&&le(ce,f))return ce}},je=function(c,f,v){v==="".concat(parseInt(v))&&(v=parseInt(v)),v||parseInt(v)===0?c.style.setProperty(f,typeof v=="number"?"".concat(v,"px"):v):c.style.removeProperty(f)},Oe=function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=f)},Ve=function(c){c&&(c.style.display="none")},st=function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(function(){It(c,c.innerHTML,f)}).observe(c,{childList:!0,subtree:!0})},wt=function(c,f,v,M){var ce=c.querySelector(f);ce&&ce.style.setProperty(v,M)},It=function(c,f){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";f?Oe(c,v):Ve(c)},vt=function(c){return!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length))},Rs=function(){return!vt(qe())&&!vt(ct())&&!vt(tt())},as=function(c){return c.scrollHeight>c.clientHeight},$s=function(c){var f=window.getComputedStyle(c),v=parseFloat(f.getPropertyValue("animation-duration")||"0"),M=parseFloat(f.getPropertyValue("transition-duration")||"0");return v>0||M>0},ps=function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=Ct();v&&vt(v)&&(f&&(v.style.transition="none",v.style.width="100%"),setTimeout(function(){v.style.transition="width ".concat(c/1e3,"s linear"),v.style.width="0%"},10))},bn=function(){var c=Ct();if(c){var f=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";var v=parseInt(window.getComputedStyle(c).width),M=f/v*100;c.style.width="".concat(M,"%")}},mo=function(){return typeof window>"u"||typeof document>"u"},jn=`
 <div aria-labelledby="`.concat(K.title,'" aria-describedby="').concat(K["html-container"],'" class="').concat(K.popup,`" tabindex="-1">
   <button type="button" class="`).concat(K.close,`"></button>
   <ul class="`).concat(K["progress-steps"],`"></ul>
   <div class="`).concat(K.icon,`"></div>
   <img class="`).concat(K.image,`" />
   <h2 class="`).concat(K.title,'" id="').concat(K.title,`"></h2>
   <div class="`).concat(K["html-container"],'" id="').concat(K["html-container"],`"></div>
   <input class="`).concat(K.input,'" id="').concat(K.input,`" />
   <input type="file" class="`).concat(K.file,`" />
   <div class="`).concat(K.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(K.select,'" id="').concat(K.select,`"></select>
   <div class="`).concat(K.radio,`"></div>
   <label class="`).concat(K.checkbox,`">
     <input type="checkbox" id="`).concat(K.checkbox,`" />
     <span class="`).concat(K.label,`"></span>
   </label>
   <textarea class="`).concat(K.textarea,'" id="').concat(K.textarea,`"></textarea>
   <div class="`).concat(K["validation-message"],'" id="').concat(K["validation-message"],`"></div>
   <div class="`).concat(K.actions,`">
     <div class="`).concat(K.loader,`"></div>
     <button type="button" class="`).concat(K.confirm,`"></button>
     <button type="button" class="`).concat(K.deny,`"></button>
     <button type="button" class="`).concat(K.cancel,`"></button>
   </div>
   <div class="`).concat(K.footer,`"></div>
   <div class="`).concat(K["timer-progress-bar-container"],`">
     <div class="`).concat(K["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Qt=function(){var c=_e();return c?(c.remove(),Ae([document.documentElement,document.body],[K["no-backdrop"],K["toast-shown"],K["has-column"]]),!0):!1},Ut=function(){G.currentInstance.resetValidationMessage()},ws=function(){var c=ge(),f=Le(c,K.input),v=Le(c,K.file),M=c.querySelector(".".concat(K.range," input")),ce=c.querySelector(".".concat(K.range," output")),De=Le(c,K.select),Ze=c.querySelector(".".concat(K.checkbox," input")),Ge=Le(c,K.textarea);f.oninput=Ut,v.onchange=Ut,De.onchange=Ut,Ze.onchange=Ut,Ge.oninput=Ut,M.oninput=function(){Ut(),ce.value=M.value},M.onchange=function(){Ut(),ce.value=M.value}},go=function(c){return typeof c=="string"?document.querySelector(c):c},Vn=function(c){var f=ge();f.setAttribute("role",c.toast?"alert":"dialog"),f.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||f.setAttribute("aria-modal","true")},Fs=function(c){window.getComputedStyle(c).direction==="rtl"&&be(_e(),K.rtl)},vr=function(c){var f=Qt();if(mo()){B("SweetAlert2 requires document to initialize");return}var v=document.createElement("div");v.className=K.container,f&&be(v,K["no-transition"]),At(v,jn);var M=go(c.target);M.appendChild(v),Vn(c),Fs(M),ws()},Ht=function(c,f){c instanceof HTMLElement?f.appendChild(c):q(c)==="object"?wn(c,f):c&&At(f,c)},wn=function(c,f){c.jquery?_o(f,c):At(f,c.toString())},_o=function(c,f){if(c.textContent="",0 in f)for(var v=0;v in f;v++)c.appendChild(f[v].cloneNode(!0));else c.appendChild(f.cloneNode(!0))},rn=function(){if(mo())return!1;var y=document.createElement("div");return typeof y.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof y.style.animation<"u"?"animationend":!1}(),Zc=function(c,f){var v=_t(),M=Ot();!v||!M||(!f.showConfirmButton&&!f.showDenyButton&&!f.showCancelButton?Ve(v):Oe(v),ae(v,f,"actions"),ed(v,M,f),At(M,f.loaderHtml||""),ae(M,f,"loader"))};function ed(y,c,f){var v=qe(),M=ct(),ce=tt();!v||!M||!ce||(di(v,"confirm",f),di(M,"deny",f),di(ce,"cancel",f),td(v,M,ce,f),f.reverseButtons&&(f.toast?(y.insertBefore(ce,v),y.insertBefore(M,v)):(y.insertBefore(ce,c),y.insertBefore(M,c),y.insertBefore(v,c))))}function td(y,c,f,v){if(!v.buttonsStyling){Ae([y,c,f],K.styled);return}be([y,c,f],K.styled),v.confirmButtonColor&&(y.style.backgroundColor=v.confirmButtonColor,be(y,K["default-outline"])),v.denyButtonColor&&(c.style.backgroundColor=v.denyButtonColor,be(c,K["default-outline"])),v.cancelButtonColor&&(f.style.backgroundColor=v.cancelButtonColor,be(f,K["default-outline"]))}function di(y,c,f){var v=k(c);It(y,f["show".concat(v,"Button")],"inline-block"),At(y,f["".concat(c,"ButtonText")]||""),y.setAttribute("aria-label",f["".concat(c,"ButtonAriaLabel")]||""),y.className=K[c],ae(y,f,"".concat(c,"Button"))}var sd=function(c,f){var v=Mt();v&&(At(v,f.closeButtonHtml||""),ae(v,f,"closeButton"),It(v,f.showCloseButton),v.setAttribute("aria-label",f.closeButtonAriaLabel||""))},nd=function(c,f){var v=_e();v&&(od(v,f.backdrop),id(v,f.position),rd(v,f.grow),ae(v,f,"container"))};function od(y,c){typeof c=="string"?y.style.background=c:c||be([document.documentElement,document.body],K["no-backdrop"])}function id(y,c){c&&(c in K?be(y,K[c]):(T('The "position" parameter is not valid, defaulting to "center"'),be(y,K.center)))}function rd(y,c){c&&be(y,K["grow-".concat(c)])}var Et={innerParams:new WeakMap,domCache:new WeakMap},ad=["input","file","range","select","radio","checkbox","textarea"],ld=function(c,f){var v=ge();if(v){var M=Et.innerParams.get(c),ce=!M||f.input!==M.input;ad.forEach(function(De){var Ze=Le(v,K[De]);Ze&&(ud(De,f.inputAttributes),Ze.className=K[De],ce&&Ve(Ze))}),f.input&&(ce&&cd(f),hd(f))}},cd=function(c){if(c.input){if(!kt[c.input]){B("Unexpected type of input! Expected ".concat(Object.keys(kt).join(" | "),', got "').concat(c.input,'"'));return}var f=yr(c.input);if(f){var v=kt[c.input](f,c);Oe(f),c.inputAutoFocus&&setTimeout(function(){Ee(v)})}}},dd=function(c){for(var f=0;f<c.attributes.length;f++){var v=c.attributes[f].name;["id","type","value","style"].includes(v)||c.removeAttribute(v)}},ud=function(c,f){var v=ge();if(v){var M=ye(v,c);if(M){dd(M);for(var ce in f)M.setAttribute(ce,f[ce])}}},hd=function(c){if(c.input){var f=yr(c.input);f&&ae(f,c,"input")}},ui=function(c,f){!c.placeholder&&f.inputPlaceholder&&(c.placeholder=f.inputPlaceholder)},Un=function(c,f,v){if(v.inputLabel){var M=document.createElement("label"),ce=K["input-label"];M.setAttribute("for",c.id),M.className=ce,q(v.customClass)==="object"&&be(M,v.customClass.inputLabel),M.innerText=v.inputLabel,f.insertAdjacentElement("beforebegin",M)}},yr=function(c){var f=ge();if(f)return Le(f,K[c]||K.input)},vo=function(c,f){["string","number"].includes(q(f))?c.value="".concat(f):he(f)||T('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(q(f),'"'))},kt={};kt.text=kt.email=kt.password=kt.number=kt.tel=kt.url=kt.search=kt.date=kt["datetime-local"]=kt.time=kt.week=kt.month=function(y,c){return vo(y,c.inputValue),Un(y,y,c),ui(y,c),y.type=c.input,y},kt.file=function(y,c){return Un(y,y,c),ui(y,c),y},kt.range=function(y,c){var f=y.querySelector("input"),v=y.querySelector("output");return vo(f,c.inputValue),f.type=c.input,vo(v,c.inputValue),Un(f,y,c),y},kt.select=function(y,c){if(y.textContent="",c.inputPlaceholder){var f=document.createElement("option");At(f,c.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,y.appendChild(f)}return Un(y,y,c),y},kt.radio=function(y){return y.textContent="",y},kt.checkbox=function(y,c){var f=ye(ge(),"checkbox");f.value="1",f.checked=!!c.inputValue;var v=y.querySelector("span");return At(v,c.inputPlaceholder),f},kt.textarea=function(y,c){vo(y,c.inputValue),ui(y,c),Un(y,y,c);var f=function(M){return parseInt(window.getComputedStyle(M).marginLeft)+parseInt(window.getComputedStyle(M).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var v=parseInt(window.getComputedStyle(ge()).width),M=function(){if(document.body.contains(y)){var De=y.offsetWidth+f(y);De>v?ge().style.width="".concat(De,"px"):je(ge(),"width",c.width)}};new MutationObserver(M).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};var fd=function(c,f){var v=$e();v&&(st(v),ae(v,f,"htmlContainer"),f.html?(Ht(f.html,v),Oe(v,"block")):f.text?(v.textContent=f.text,Oe(v,"block")):Ve(v),ld(c,f))},pd=function(c,f){var v=bs();v&&(st(v),It(v,f.footer,"block"),f.footer&&Ht(f.footer,v),ae(v,f,"footer"))},md=function(c,f){var v=Et.innerParams.get(c),M=fe();if(M){if(v&&f.icon===v.icon){wr(M,f),br(M,f);return}if(!f.icon&&!f.iconHtml){Ve(M);return}if(f.icon&&Object.keys(Me).indexOf(f.icon)===-1){B('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(f.icon,'"')),Ve(M);return}Oe(M),wr(M,f),br(M,f),be(M,f.showClass&&f.showClass.icon)}},br=function(c,f){for(var v=0,M=Object.entries(Me);v<M.length;v++){var ce=A(M[v],2),De=ce[0],Ze=ce[1];f.icon!==De&&Ae(c,Ze)}be(c,f.icon&&Me[f.icon]),yd(c,f),gd(),ae(c,f,"icon")},gd=function(){var c=ge();if(c)for(var f=window.getComputedStyle(c).getPropertyValue("background-color"),v=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),M=0;M<v.length;M++)v[M].style.backgroundColor=f},_d=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,vd=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,wr=function(c,f){if(!(!f.icon&&!f.iconHtml)){var v=c.innerHTML,M="";if(f.iconHtml)M=Er(f.iconHtml);else if(f.icon==="success")M=_d,v=v.replace(/ style=".*?"/g,"");else if(f.icon==="error")M=vd;else if(f.icon){var ce={question:"?",warning:"!",info:"i"};M=Er(ce[f.icon])}v.trim()!==M.trim()&&At(c,M)}},yd=function(c,f){if(f.iconColor){c.style.color=f.iconColor,c.style.borderColor=f.iconColor;for(var v=0,M=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];v<M.length;v++){var ce=M[v];wt(c,ce,"background-color",f.iconColor)}wt(c,".swal2-success-ring","border-color",f.iconColor)}},Er=function(c){return'<div class="'.concat(K["icon-content"],'">').concat(c,"</div>")},bd=function(c,f){var v=Ye();if(v){if(!f.imageUrl){Ve(v);return}Oe(v,""),v.setAttribute("src",f.imageUrl),v.setAttribute("alt",f.imageAlt||""),je(v,"width",f.imageWidth),je(v,"height",f.imageHeight),v.className=K.image,ae(v,f,"image")}},wd=function(c,f){var v=_e(),M=ge();if(!(!v||!M)){if(f.toast){je(v,"width",f.width),M.style.width="100%";var ce=Ot();ce&&M.insertBefore(ce,fe())}else je(M,"width",f.width);je(M,"padding",f.padding),f.color&&(M.style.color=f.color),f.background&&(M.style.background=f.background),Ve(et()),Ed(M,f)}},Ed=function(c,f){var v=f.showClass||{};c.className="".concat(K.popup," ").concat(vt(c)?v.popup:""),f.toast?(be([document.documentElement,document.body],K["toast-shown"]),be(c,K.toast)):be(c,K.modal),ae(c,f,"popup"),typeof f.customClass=="string"&&be(c,f.customClass),f.icon&&be(c,K["icon-".concat(f.icon)])},Id=function(c,f){var v=Ke();if(v){var M=f.progressSteps,ce=f.currentProgressStep;if(!M||M.length===0||ce===void 0){Ve(v);return}Oe(v),v.textContent="",ce>=M.length&&T("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.forEach(function(De,Ze){var Ge=xd(De);if(v.appendChild(Ge),Ze===ce&&be(Ge,K["active-progress-step"]),Ze!==M.length-1){var $t=Cd(f);v.appendChild($t)}})}},xd=function(c){var f=document.createElement("li");return be(f,K["progress-step"]),At(f,c),f},Cd=function(c){var f=document.createElement("li");return be(f,K["progress-step-line"]),c.progressStepsDistance&&je(f,"width",c.progressStepsDistance),f},Sd=function(c,f){var v=Ne();v&&(st(v),It(v,f.title||f.titleText,"block"),f.title&&Ht(f.title,v),f.titleText&&(v.innerText=f.titleText),ae(v,f,"title"))},Ir=function(c,f){wd(c,f),nd(c,f),Id(c,f),md(c,f),bd(c,f),Sd(c,f),sd(c,f),fd(c,f),Zc(c,f),pd(c,f);var v=ge();typeof f.didRender=="function"&&v&&f.didRender(v)},Rd=function(){return vt(ge())},xr=function(){var c;return(c=qe())===null||c===void 0?void 0:c.click()},$d=function(){var c;return(c=ct())===null||c===void 0?void 0:c.click()},kd=function(){var c;return(c=tt())===null||c===void 0?void 0:c.click()},En=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Cr=function(c){c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},Td=function(c,f,v){Cr(c),f.toast||(c.keydownHandler=function(M){return Dd(f,M,v)},c.keydownTarget=f.keydownListenerCapture?window:ge(),c.keydownListenerCapture=f.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},hi=function(c,f){var v,M=Nn();if(M.length){c=c+f,c===M.length?c=0:c===-1&&(c=M.length-1),M[c].focus();return}(v=ge())===null||v===void 0||v.focus()},Sr=["ArrowRight","ArrowDown"],Ad=["ArrowLeft","ArrowUp"],Dd=function(c,f,v){c&&(f.isComposing||f.keyCode===229||(c.stopKeydownPropagation&&f.stopPropagation(),f.key==="Enter"?Pd(f,c):f.key==="Tab"?Od(f):[].concat(Sr,Ad).includes(f.key)?Fd(f.key):f.key==="Escape"&&Ld(f,c,v)))},Pd=function(c,f){if(L(f.allowEnterKey)){var v=ye(ge(),f.input);if(c.target&&v&&c.target instanceof HTMLElement&&c.target.outerHTML===v.outerHTML){if(["textarea","file"].includes(f.input))return;xr(),c.preventDefault()}}},Od=function(c){for(var f=c.target,v=Nn(),M=-1,ce=0;ce<v.length;ce++)if(f===v[ce]){M=ce;break}c.shiftKey?hi(M,-1):hi(M,1),c.stopPropagation(),c.preventDefault()},Fd=function(c){var f=_t(),v=qe(),M=ct(),ce=tt();if(!(!f||!v||!M||!ce)){var De=[v,M,ce];if(!(document.activeElement instanceof HTMLElement&&!De.includes(document.activeElement))){var Ze=Sr.includes(c)?"nextElementSibling":"previousElementSibling",Ge=document.activeElement;if(Ge){for(var $t=0;$t<f.children.length;$t++){if(Ge=Ge[Ze],!Ge)return;if(Ge instanceof HTMLButtonElement&&vt(Ge))break}Ge instanceof HTMLButtonElement&&Ge.focus()}}}},Ld=function(c,f,v){L(f.allowEscapeKey)&&(c.preventDefault(),v(En.esc))},In={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Md=function(){var c=_e(),f=Array.from(document.body.children);f.forEach(function(v){v.contains(c)||(v.hasAttribute("aria-hidden")&&v.setAttribute("data-previous-aria-hidden",v.getAttribute("aria-hidden")||""),v.setAttribute("aria-hidden","true"))})},Rr=function(){var c=Array.from(document.body.children);c.forEach(function(f){f.hasAttribute("data-previous-aria-hidden")?(f.setAttribute("aria-hidden",f.getAttribute("data-previous-aria-hidden")||""),f.removeAttribute("data-previous-aria-hidden")):f.removeAttribute("aria-hidden")})},$r=typeof window<"u"&&!!window.GestureEvent,Nd=function(){if($r&&!le(document.body,K.iosfix)){var c=document.body.scrollTop;document.body.style.top="".concat(c*-1,"px"),be(document.body,K.iosfix),Bd()}},Bd=function(){var c=_e();if(c){var f;c.ontouchstart=function(v){f=jd(v)},c.ontouchmove=function(v){f&&(v.preventDefault(),v.stopPropagation())}}},jd=function(c){var f=c.target,v=_e(),M=$e();return!v||!M||Vd(c)||Ud(c)?!1:f===v||!as(v)&&f instanceof HTMLElement&&f.tagName!=="INPUT"&&f.tagName!=="TEXTAREA"&&!(as(M)&&M.contains(f))},Vd=function(c){return c.touches&&c.touches.length&&c.touches[0].touchType==="stylus"},Ud=function(c){return c.touches&&c.touches.length>1},Yd=function(){if(le(document.body,K.iosfix)){var c=parseInt(document.body.style.top,10);Ae(document.body,K.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},qd=function(){var c=document.createElement("div");c.className=K["scrollbar-measure"],document.body.appendChild(c);var f=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),f},xn=null,Hd=function(c){xn===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(xn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(xn+qd(),"px"))},Kd=function(){xn!==null&&(document.body.style.paddingRight="".concat(xn,"px"),xn=null)};function kr(y,c,f,v){yn()?Ar(y,v):(xe(f).then(function(){return Ar(y,v)}),Cr(G)),$r?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),Bn()&&(Kd(),Yd(),Rr()),Qd()}function Qd(){Ae([document.documentElement,document.body],[K.shown,K["height-auto"],K["no-backdrop"],K["toast-shown"]])}function Ls(y){y=Wd(y);var c=In.swalPromiseResolve.get(this),f=zd(this);this.isAwaitingPromise?y.isDismissed||(Yn(this),c(y)):f&&c(y)}var zd=function(c){var f=ge();if(!f)return!1;var v=Et.innerParams.get(c);if(!v||le(f,v.hideClass.popup))return!1;Ae(f,v.showClass.popup),be(f,v.hideClass.popup);var M=_e();return Ae(M,v.showClass.backdrop),be(M,v.hideClass.backdrop),Gd(c,f,v),!0};function Tr(y){var c=In.swalPromiseReject.get(this);Yn(this),c&&c(y)}var Yn=function(c){c.isAwaitingPromise&&(delete c.isAwaitingPromise,Et.innerParams.get(c)||c._destroy())},Wd=function(c){return typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c)},Gd=function(c,f,v){var M=_e(),ce=rn&&$s(f);typeof v.willClose=="function"&&v.willClose(f),ce?Jd(c,f,M,v.returnFocus,v.didClose):kr(c,M,v.returnFocus,v.didClose)},Jd=function(c,f,v,M,ce){rn&&(G.swalCloseEventFinishedCallback=kr.bind(null,c,v,M,ce),f.addEventListener(rn,function(De){De.target===f&&(G.swalCloseEventFinishedCallback(),delete G.swalCloseEventFinishedCallback)}))},Ar=function(c,f){setTimeout(function(){typeof f=="function"&&f.bind(c.params)(),c._destroy&&c._destroy()})},Cn=function(c){var f=ge();if(f||new Io,f=ge(),!!f){var v=Ot();yn()?Ve(fe()):Xd(f,c),Oe(v),f.setAttribute("data-loading","true"),f.setAttribute("aria-busy","true"),f.focus()}},Xd=function(c,f){var v=_t(),M=Ot();!v||!M||(!f&&vt(qe())&&(f=qe()),Oe(v),f&&(Ve(f),M.setAttribute("data-button-to-replace",f.className),v.insertBefore(M,f)),be([c,v],K.loading))},Zd=function(c,f){f.input==="select"||f.input==="radio"?ou(c,f):["text","email","number","tel","textarea"].some(function(v){return v===f.input})&&(ee(f.inputValue)||he(f.inputValue))&&(Cn(qe()),iu(c,f))},eu=function(c,f){var v=c.getInput();if(!v)return null;switch(f.input){case"checkbox":return tu(v);case"radio":return su(v);case"file":return nu(v);default:return f.inputAutoTrim?v.value.trim():v.value}},tu=function(c){return c.checked?1:0},su=function(c){return c.checked?c.value:null},nu=function(c){return c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null},ou=function(c,f){var v=ge();if(v){var M=function(De){f.input==="select"?ru(v,Dr(De),f):f.input==="radio"&&au(v,Dr(De),f)};ee(f.inputOptions)||he(f.inputOptions)?(Cn(qe()),ue(f.inputOptions).then(function(ce){c.hideLoading(),M(ce)})):q(f.inputOptions)==="object"?M(f.inputOptions):B("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(q(f.inputOptions)))}},iu=function(c,f){var v=c.getInput();v&&(Ve(v),ue(f.inputValue).then(function(M){v.value=f.input==="number"?"".concat(parseFloat(M)||0):"".concat(M),Oe(v),v.focus(),c.hideLoading()}).catch(function(M){B("Error in inputValue promise: ".concat(M)),v.value="",Oe(v),v.focus(),c.hideLoading()}))};function ru(y,c,f){var v=Le(y,K.select);if(v){var M=function(De,Ze,Ge){var $t=document.createElement("option");$t.value=Ge,At($t,Ze),$t.selected=Pr(Ge,f.inputValue),De.appendChild($t)};c.forEach(function(ce){var De=ce[0],Ze=ce[1];if(Array.isArray(Ze)){var Ge=document.createElement("optgroup");Ge.label=De,Ge.disabled=!1,v.appendChild(Ge),Ze.forEach(function($t){return M(Ge,$t[1],$t[0])})}else M(v,Ze,De)}),v.focus()}}function au(y,c,f){var v=Le(y,K.radio);if(v){c.forEach(function(ce){var De=ce[0],Ze=ce[1],Ge=document.createElement("input"),$t=document.createElement("label");Ge.type="radio",Ge.name=K.radio,Ge.value=De,Pr(De,f.inputValue)&&(Ge.checked=!0);var qn=document.createElement("span");At(qn,Ze),qn.className=K.label,$t.appendChild(Ge),$t.appendChild(qn),v.appendChild($t)});var M=v.querySelectorAll("input");M.length&&M[0].focus()}}var Dr=function y(c){var f=[];return c instanceof Map?c.forEach(function(v,M){var ce=v;q(ce)==="object"&&(ce=y(ce)),f.push([M,ce])}):Object.keys(c).forEach(function(v){var M=c[v];q(M)==="object"&&(M=y(M)),f.push([v,M])}),f},Pr=function(c,f){return!!f&&f.toString()===c.toString()},yo=void 0,lu=function(c){var f=Et.innerParams.get(c);c.disableButtons(),f.input?Or(c,"confirm"):pi(c,!0)},cu=function(c){var f=Et.innerParams.get(c);c.disableButtons(),f.returnInputValueOnDeny?Or(c,"deny"):fi(c,!1)},du=function(c,f){c.disableButtons(),f(En.cancel)},Or=function(c,f){var v=Et.innerParams.get(c);if(!v.input){B('The "input" parameter is needed to be set when using returnInputValueOn'.concat(k(f)));return}var M=c.getInput(),ce=eu(c,v);v.inputValidator?uu(c,ce,f):M&&!M.checkValidity()?(c.enableButtons(),c.showValidationMessage(v.validationMessage||M.validationMessage)):f==="deny"?fi(c,ce):pi(c,ce)},uu=function(c,f,v){var M=Et.innerParams.get(c);c.disableInput();var ce=Promise.resolve().then(function(){return ue(M.inputValidator(f,M.validationMessage))});ce.then(function(De){c.enableButtons(),c.enableInput(),De?c.showValidationMessage(De):v==="deny"?fi(c,f):pi(c,f)})},fi=function(c,f){var v=Et.innerParams.get(c||yo);if(v.showLoaderOnDeny&&Cn(ct()),v.preDeny){c.isAwaitingPromise=!0;var M=Promise.resolve().then(function(){return ue(v.preDeny(f,v.validationMessage))});M.then(function(ce){ce===!1?(c.hideLoading(),Yn(c)):c.close({isDenied:!0,value:typeof ce>"u"?f:ce})}).catch(function(ce){return Lr(c||yo,ce)})}else c.close({isDenied:!0,value:f})},Fr=function(c,f){c.close({isConfirmed:!0,value:f})},Lr=function(c,f){c.rejectPromise(f)},pi=function(c,f){var v=Et.innerParams.get(c||yo);if(v.showLoaderOnConfirm&&Cn(),v.preConfirm){c.resetValidationMessage(),c.isAwaitingPromise=!0;var M=Promise.resolve().then(function(){return ue(v.preConfirm(f,v.validationMessage))});M.then(function(ce){vt(et())||ce===!1?(c.hideLoading(),Yn(c)):Fr(c,typeof ce>"u"?f:ce)}).catch(function(ce){return Lr(c||yo,ce)})}else Fr(c,f)};function bo(){var y=Et.innerParams.get(this);if(y){var c=Et.domCache.get(this);Ve(c.loader),yn()?y.icon&&Oe(fe()):hu(c),Ae([c.popup,c.actions],K.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}}var hu=function(c){var f=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));f.length?Oe(f[0],"inline-block"):Rs()&&Ve(c.actions)};function Mr(){var y=Et.innerParams.get(this),c=Et.domCache.get(this);return c?ye(c.popup,y.input):null}function Nr(y,c,f){var v=Et.domCache.get(y);c.forEach(function(M){v[M].disabled=f})}function Br(y,c){var f=ge();if(!(!f||!y))if(y.type==="radio")for(var v=f.querySelectorAll('[name="'.concat(K.radio,'"]')),M=0;M<v.length;M++)v[M].disabled=c;else y.disabled=c}function jr(){Nr(this,["confirmButton","denyButton","cancelButton"],!1)}function Vr(){Nr(this,["confirmButton","denyButton","cancelButton"],!0)}function Ur(){Br(this.getInput(),!1)}function Yr(){Br(this.getInput(),!0)}function qr(y){var c=Et.domCache.get(this),f=Et.innerParams.get(this);At(c.validationMessage,y),c.validationMessage.className=K["validation-message"],f.customClass&&f.customClass.validationMessage&&be(c.validationMessage,f.customClass.validationMessage),Oe(c.validationMessage);var v=this.getInput();v&&(v.setAttribute("aria-invalid","true"),v.setAttribute("aria-describedby",K["validation-message"]),Ee(v),be(v,K.inputerror))}function Hr(){var y=Et.domCache.get(this);y.validationMessage&&Ve(y.validationMessage);var c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),Ae(c,K.inputerror))}var Sn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},fu=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],pu={allowEnterKey:void 0},mu=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Kr=function(c){return Object.prototype.hasOwnProperty.call(Sn,c)},Qr=function(c){return fu.indexOf(c)!==-1},zr=function(c){return pu[c]},gu=function(c){Kr(c)||T('Unknown parameter "'.concat(c,'"'))},_u=function(c){mu.includes(c)&&T('The parameter "'.concat(c,'" is incompatible with toasts'))},vu=function(c){var f=zr(c);f&&E(c,f)},yu=function(c){c.backdrop===!1&&c.allowOutsideClick&&T('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var f in c)gu(f),c.toast&&_u(f),vu(f)};function Wr(y){var c=ge(),f=Et.innerParams.get(this);if(!c||le(c,f.hideClass.popup)){T("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var v=bu(y),M=Object.assign({},f,v);Ir(this,M),Et.innerParams.set(this,M),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}var bu=function(c){var f={};return Object.keys(c).forEach(function(v){Qr(v)?f[v]=c[v]:T("Invalid parameter to update: ".concat(v))}),f};function Gr(){var y=Et.domCache.get(this),c=Et.innerParams.get(this);if(!c){Jr(this);return}y.popup&&G.swalCloseEventFinishedCallback&&(G.swalCloseEventFinishedCallback(),delete G.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),wu(this)}var wu=function(c){Jr(c),delete c.params,delete G.keydownHandler,delete G.keydownTarget,delete G.currentInstance},Jr=function(c){c.isAwaitingPromise?(mi(Et,c),c.isAwaitingPromise=!0):(mi(In,c),mi(Et,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},mi=function(c,f){for(var v in c)c[v].delete(f)},Eu=Object.freeze({__proto__:null,_destroy:Gr,close:Ls,closeModal:Ls,closePopup:Ls,closeToast:Ls,disableButtons:Vr,disableInput:Yr,disableLoading:bo,enableButtons:jr,enableInput:Ur,getInput:Mr,handleAwaitingPromise:Yn,hideLoading:bo,rejectPromise:Tr,resetValidationMessage:Hr,showValidationMessage:qr,update:Wr}),Iu=function(c,f,v){c.toast?xu(c,f,v):(Su(f),Ru(f),$u(c,f,v))},xu=function(c,f,v){f.popup.onclick=function(){c&&(Cu(c)||c.timer||c.input)||v(En.close)}},Cu=function(c){return!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton)},wo=!1,Su=function(c){c.popup.onmousedown=function(){c.container.onmouseup=function(f){c.container.onmouseup=function(){},f.target===c.container&&(wo=!0)}}},Ru=function(c){c.container.onmousedown=function(f){f.target===c.container&&f.preventDefault(),c.popup.onmouseup=function(v){c.popup.onmouseup=function(){},(v.target===c.popup||v.target instanceof HTMLElement&&c.popup.contains(v.target))&&(wo=!0)}}},$u=function(c,f,v){f.container.onclick=function(M){if(wo){wo=!1;return}M.target===f.container&&L(c.allowOutsideClick)&&v(En.backdrop)}},ku=function(c){return q(c)==="object"&&c.jquery},Xr=function(c){return c instanceof Element||ku(c)},Tu=function(c){var f={};return q(c[0])==="object"&&!Xr(c[0])?Object.assign(f,c[0]):["title","html","icon"].forEach(function(v,M){var ce=c[M];typeof ce=="string"||Xr(ce)?f[v]=ce:ce!==void 0&&B("Unexpected type of ".concat(v,'! Expected "string" or "Element", got ').concat(q(ce)))}),f};function Au(){for(var y=this,c=arguments.length,f=new Array(c),v=0;v<c;v++)f[v]=arguments[v];return _(y,f)}function Du(y){var c=function(f){function v(){return u(this,v),r(this,v,arguments)}return Q(v,f),S(v,[{key:"_main",value:function(ce,De){return U(V(v.prototype),"_main",this).call(this,ce,Object.assign({},y,De))}}])}(this);return c}var Pu=function(){return G.timeout&&G.timeout.getTimerLeft()},Zr=function(){if(G.timeout)return bn(),G.timeout.stop()},ea=function(){if(G.timeout){var c=G.timeout.start();return ps(c),c}},Ou=function(){var c=G.timeout;return c&&(c.running?Zr():ea())},Fu=function(c){if(G.timeout){var f=G.timeout.increase(c);return ps(f,!0),f}},Lu=function(){return!!(G.timeout&&G.timeout.isRunning())},ta=!1,gi={};function Mu(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";gi[y]=this,ta||(document.body.addEventListener("click",Nu),ta=!0)}var Nu=function(c){for(var f=c.target;f&&f!==document;f=f.parentNode)for(var v in gi){var M=f.getAttribute(v);if(M){gi[v].fire({template:M});return}}},Bu=Object.freeze({__proto__:null,argsToParams:Tu,bindClickHandler:Mu,clickCancel:kd,clickConfirm:xr,clickDeny:$d,enableLoading:Cn,fire:Au,getActions:_t,getCancelButton:tt,getCloseButton:Mt,getConfirmButton:qe,getContainer:_e,getDenyButton:ct,getFocusableElements:Nn,getFooter:bs,getHtmlContainer:$e,getIcon:fe,getIconContent:Se,getImage:Ye,getInputLabel:bt,getLoader:Ot,getPopup:ge,getProgressSteps:Ke,getTimerLeft:Pu,getTimerProgressBar:Ct,getTitle:Ne,getValidationMessage:et,increaseTimer:Fu,isDeprecatedParameter:zr,isLoading:ci,isTimerRunning:Lu,isUpdatableParameter:Qr,isValidParameter:Kr,isVisible:Rd,mixin:Du,resumeTimer:ea,showLoading:Cn,stopTimer:Zr,toggleTimer:Ou}),ju=function(){function y(c,f){u(this,y),this.callback=c,this.remaining=f,this.running=!1,this.start()}return S(y,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(f){var v=this.running;return v&&this.stop(),this.remaining+=f,v&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),sa=["swal-title","swal-html","swal-footer"],Vu=function(c){var f=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!f)return{};var v=f.content;Wu(v);var M=Object.assign(Uu(v),Yu(v),qu(v),Hu(v),Ku(v),Qu(v),zu(v,sa));return M},Uu=function(c){var f={},v=Array.from(c.querySelectorAll("swal-param"));return v.forEach(function(M){an(M,["name","value"]);var ce=M.getAttribute("name"),De=M.getAttribute("value");!ce||!De||(typeof Sn[ce]=="boolean"?f[ce]=De!=="false":q(Sn[ce])==="object"?f[ce]=JSON.parse(De):f[ce]=De)}),f},Yu=function(c){var f={},v=Array.from(c.querySelectorAll("swal-function-param"));return v.forEach(function(M){var ce=M.getAttribute("name"),De=M.getAttribute("value");!ce||!De||(f[ce]=new Function("return ".concat(De))())}),f},qu=function(c){var f={},v=Array.from(c.querySelectorAll("swal-button"));return v.forEach(function(M){an(M,["type","color","aria-label"]);var ce=M.getAttribute("type");!ce||!["confirm","cancel","deny"].includes(ce)||(f["".concat(ce,"ButtonText")]=M.innerHTML,f["show".concat(k(ce),"Button")]=!0,M.hasAttribute("color")&&(f["".concat(ce,"ButtonColor")]=M.getAttribute("color")),M.hasAttribute("aria-label")&&(f["".concat(ce,"ButtonAriaLabel")]=M.getAttribute("aria-label")))}),f},Hu=function(c){var f={},v=c.querySelector("swal-image");return v&&(an(v,["src","width","height","alt"]),v.hasAttribute("src")&&(f.imageUrl=v.getAttribute("src")||void 0),v.hasAttribute("width")&&(f.imageWidth=v.getAttribute("width")||void 0),v.hasAttribute("height")&&(f.imageHeight=v.getAttribute("height")||void 0),v.hasAttribute("alt")&&(f.imageAlt=v.getAttribute("alt")||void 0)),f},Ku=function(c){var f={},v=c.querySelector("swal-icon");return v&&(an(v,["type","color"]),v.hasAttribute("type")&&(f.icon=v.getAttribute("type")),v.hasAttribute("color")&&(f.iconColor=v.getAttribute("color")),f.iconHtml=v.innerHTML),f},Qu=function(c){var f={},v=c.querySelector("swal-input");v&&(an(v,["type","label","placeholder","value"]),f.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(f.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(f.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(f.inputValue=v.getAttribute("value")));var M=Array.from(c.querySelectorAll("swal-input-option"));return M.length&&(f.inputOptions={},M.forEach(function(ce){an(ce,["value"]);var De=ce.getAttribute("value");if(De){var Ze=ce.innerHTML;f.inputOptions[De]=Ze}})),f},zu=function(c,f){var v={};for(var M in f){var ce=f[M],De=c.querySelector(ce);De&&(an(De,[]),v[ce.replace(/^swal-/,"")]=De.innerHTML.trim())}return v},Wu=function(c){var f=sa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(function(v){var M=v.tagName.toLowerCase();f.includes(M)||T("Unrecognized element <".concat(M,">"))})},an=function(c,f){Array.from(c.attributes).forEach(function(v){f.indexOf(v.name)===-1&&T(['Unrecognized attribute "'.concat(v.name,'" on <').concat(c.tagName.toLowerCase(),">."),"".concat(f.length?"Allowed attributes are: ".concat(f.join(", ")):"To set the value, use HTML within the element.")])})},na=10,Gu=function(c){var f=_e(),v=ge();typeof c.willOpen=="function"&&c.willOpen(v);var M=window.getComputedStyle(document.body),ce=M.overflowY;eh(f,v,c),setTimeout(function(){Xu(f,v)},na),Bn()&&(Zu(f,c.scrollbarPadding,ce),Md()),!yn()&&!G.previousActiveElement&&(G.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(function(){return c.didOpen(v)}),Ae(f,K["no-transition"])},Ju=function y(c){var f=ge();if(!(c.target!==f||!rn)){var v=_e();f.removeEventListener(rn,y),v.style.overflowY="auto"}},Xu=function(c,f){rn&&$s(f)?(c.style.overflowY="hidden",f.addEventListener(rn,Ju)):c.style.overflowY="auto"},Zu=function(c,f,v){Nd(),f&&v!=="hidden"&&Hd(v),setTimeout(function(){c.scrollTop=0})},eh=function(c,f,v){be(c,v.showClass.backdrop),v.animation?(f.style.setProperty("opacity","0","important"),Oe(f,"grid"),setTimeout(function(){be(f,v.showClass.popup),f.style.removeProperty("opacity")},na)):Oe(f,"grid"),be([document.documentElement,document.body],K.shown),v.heightAuto&&v.backdrop&&!v.toast&&be([document.documentElement,document.body],K["height-auto"])},oa={email:function(c,f){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(f||"Invalid email address")},url:function(c,f){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(f||"Invalid URL")}};function th(y){y.inputValidator||(y.input==="email"&&(y.inputValidator=oa.email),y.input==="url"&&(y.inputValidator=oa.url))}function sh(y){(!y.target||typeof y.target=="string"&&!document.querySelector(y.target)||typeof y.target!="string"&&!y.target.appendChild)&&(T('Target parameter is not valid, defaulting to "body"'),y.target="body")}function nh(y){th(y),y.showLoaderOnConfirm&&!y.preConfirm&&T(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),sh(y),typeof y.title=="string"&&(y.title=y.title.split(`
`).join("<br />")),vr(y)}var Es,Eo=new WeakMap,Tt=function(){function y(){if(u(this,y),p(this,Eo,void 0),!(typeof window>"u")){Es=this;for(var c=arguments.length,f=new Array(c),v=0;v<c;v++)f[v]=arguments[v];var M=Object.freeze(this.constructor.argsToParams(f));this.params=M,this.isAwaitingPromise=!1,g(Eo,this,this._main(Es.params))}}return S(y,[{key:"_main",value:function(f){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yu(Object.assign({},v,f)),G.currentInstance){var M=In.swalPromiseResolve.get(G.currentInstance),ce=G.currentInstance.isAwaitingPromise;G.currentInstance._destroy(),ce||M({isDismissed:!0}),Bn()&&Rr()}G.currentInstance=Es;var De=ih(f,v);nh(De),Object.freeze(De),G.timeout&&(G.timeout.stop(),delete G.timeout),clearTimeout(G.restoreFocusTimeout);var Ze=rh(Es);return Ir(Es,De),Et.innerParams.set(Es,De),oh(Es,Ze,De)}},{key:"then",value:function(f){return h(Eo,this).then(f)}},{key:"finally",value:function(f){return h(Eo,this).finally(f)}}])}(),oh=function(c,f,v){return new Promise(function(M,ce){var De=function(Ge){c.close({isDismissed:!0,dismiss:Ge})};In.swalPromiseResolve.set(c,M),In.swalPromiseReject.set(c,ce),f.confirmButton.onclick=function(){lu(c)},f.denyButton.onclick=function(){cu(c)},f.cancelButton.onclick=function(){du(c,De)},f.closeButton.onclick=function(){De(En.close)},Iu(v,f,De),Td(G,v,De),Zd(c,v),Gu(v),ah(G,v,De),lh(f,v),setTimeout(function(){f.container.scrollTop=0})})},ih=function(c,f){var v=Vu(c),M=Object.assign({},Sn,f,v,c);return M.showClass=Object.assign({},Sn.showClass,M.showClass),M.hideClass=Object.assign({},Sn.hideClass,M.hideClass),M.animation===!1&&(M.showClass={backdrop:"swal2-noanimation"},M.hideClass={}),M},rh=function(c){var f={popup:ge(),container:_e(),actions:_t(),confirmButton:qe(),denyButton:ct(),cancelButton:tt(),loader:Ot(),closeButton:Mt(),validationMessage:et(),progressSteps:Ke()};return Et.domCache.set(c,f),f},ah=function(c,f,v){var M=Ct();Ve(M),f.timer&&(c.timeout=new ju(function(){v("timer"),delete c.timeout},f.timer),f.timerProgressBar&&(Oe(M),ae(M,f,"timerProgressBar"),setTimeout(function(){c.timeout&&c.timeout.running&&ps(f.timer)})))},lh=function(c,f){if(!f.toast){if(!L(f.allowEnterKey)){E("allowEnterKey"),uh();return}ch(c)||dh(c,f)||hi(-1,1)}},ch=function(c){var f=c.popup.querySelectorAll("[autofocus]"),v=Y(f),M;try{for(v.s();!(M=v.n()).done;){var ce=M.value;if(ce instanceof HTMLElement&&vt(ce))return ce.focus(),!0}}catch(De){v.e(De)}finally{v.f()}return!1},dh=function(c,f){return f.focusDeny&&vt(c.denyButton)?(c.denyButton.focus(),!0):f.focusCancel&&vt(c.cancelButton)?(c.cancelButton.focus(),!0):f.focusConfirm&&vt(c.confirmButton)?(c.confirmButton.focus(),!0):!1},uh=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var ia=new Date,ra=localStorage.getItem("swal-initiation");ra?(ia.getTime()-Date.parse(ra))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(function(){y.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(ia))}Tt.prototype.disableButtons=Vr,Tt.prototype.enableButtons=jr,Tt.prototype.getInput=Mr,Tt.prototype.disableInput=Yr,Tt.prototype.enableInput=Ur,Tt.prototype.hideLoading=bo,Tt.prototype.disableLoading=bo,Tt.prototype.showValidationMessage=qr,Tt.prototype.resetValidationMessage=Hr,Tt.prototype.close=Ls,Tt.prototype.closePopup=Ls,Tt.prototype.closeModal=Ls,Tt.prototype.closeToast=Ls,Tt.prototype.rejectPromise=Tr,Tt.prototype.update=Wr,Tt.prototype._destroy=Gr,Object.assign(Tt,Bu),Object.keys(Eu).forEach(function(y){Tt[y]=function(){if(Es&&Es[y]){var c;return(c=Es)[y].apply(c,arguments)}return null}}),Tt.DismissReason=En,Tt.version="11.12.3";var Io=Tt;return Io.default=Io,Io}),typeof Wt<"u"&&Wt.Sweetalert2&&(Wt.swal=Wt.sweetAlert=Wt.Swal=Wt.SweetAlert=Wt.Sweetalert2),typeof document<"u"&&function(o,n){var i=o.createElement("style");if(o.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=n);else try{i.innerHTML=n}catch{i.innerText=n}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(Ic);var Sg=Ic.exports;const te=ur(Sg);/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Rn=typeof document<"u";function Rg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const gt=Object.assign;function Si(e,t){const o={};for(const n in t){const i=t[n];o[n]=vs(i)?i.map(e):e(i)}return o}const Zn=()=>{},vs=Array.isArray,xc=/#/g,$g=/&/g,kg=/\//g,Tg=/=/g,Ag=/\?/g,Cc=/\+/g,Dg=/%5B/g,Pg=/%5D/g,Sc=/%5E/g,Og=/%60/g,Rc=/%7B/g,Fg=/%7C/g,$c=/%7D/g,Lg=/%20/g;function hr(e){return encodeURI(""+e).replace(Fg,"|").replace(Dg,"[").replace(Pg,"]")}function Mg(e){return hr(e).replace(Rc,"{").replace($c,"}").replace(Sc,"^")}function Yi(e){return hr(e).replace(Cc,"%2B").replace(Lg,"+").replace(xc,"%23").replace($g,"%26").replace(Og,"`").replace(Rc,"{").replace($c,"}").replace(Sc,"^")}function Ng(e){return Yi(e).replace(Tg,"%3D")}function Bg(e){return hr(e).replace(xc,"%23").replace(Ag,"%3F")}function jg(e){return e==null?"":Bg(e).replace(kg,"%2F")}function ao(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Vg=/\/$/,Ug=e=>e.replace(Vg,"");function Ri(e,t,o="/"){let n,i={},l="",a="";const r=t.indexOf("#");let d=t.indexOf("?");return r<d&&r>=0&&(d=-1),d>-1&&(n=t.slice(0,d),l=t.slice(d+1,r>-1?r:t.length),i=e(l)),r>-1&&(n=n||t.slice(0,r),a=t.slice(r,t.length)),n=Kg(n??t,o),{fullPath:n+(l&&"?")+l+a,path:n,query:i,hash:ao(a)}}function Yg(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function Ja(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function qg(e,t,o){const n=t.matched.length-1,i=o.matched.length-1;return n>-1&&n===i&&Fn(t.matched[n],o.matched[i])&&kc(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Fn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!Hg(e[o],t[o]))return!1;return!0}function Hg(e,t){return vs(e)?Xa(e,t):vs(t)?Xa(t,e):e===t}function Xa(e,t){return vs(t)?e.length===t.length&&e.every((o,n)=>o===t[n]):e.length===1&&e[0]===t}function Kg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let l=o.length-1,a,r;for(a=0;a<n.length;a++)if(r=n[a],r!==".")if(r==="..")l>1&&l--;else break;return o.slice(0,l).join("/")+"/"+n.slice(a).join("/")}const js={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var lo;(function(e){e.pop="pop",e.push="push"})(lo||(lo={}));var eo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(eo||(eo={}));function Qg(e){if(!e)if(Rn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ug(e)}const zg=/^[^#]+#/;function Wg(e,t){return e.replace(zg,"#")+t}function Gg(e,t){const o=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-o.left-(t.left||0),top:n.top-o.top-(t.top||0)}}const ii=()=>({left:window.scrollX,top:window.scrollY});function Jg(e){let t;if("el"in e){const o=e.el,n=typeof o=="string"&&o.startsWith("#"),i=typeof o=="string"?n?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!i)return;t=Gg(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Za(e,t){return(history.state?history.state.position-t:-1)+e}const qi=new Map;function Xg(e,t){qi.set(e,t)}function Zg(e){const t=qi.get(e);return qi.delete(e),t}let e_=()=>location.protocol+"//"+location.host;function Tc(e,t){const{pathname:o,search:n,hash:i}=t,l=e.indexOf("#");if(l>-1){let r=i.includes(e.slice(l))?e.slice(l).length:1,d=i.slice(r);return d[0]!=="/"&&(d="/"+d),Ja(d,"")}return Ja(o,e)+n+i}function t_(e,t,o,n){let i=[],l=[],a=null;const r=({state:g})=>{const _=Tc(e,location),x=o.value,S=t.value;let Y=0;if(g){if(o.value=_,t.value=g,a&&a===x){a=null;return}Y=S?g.position-S.position:0}else n(_);i.forEach(U=>{U(o.value,x,{delta:Y,type:lo.pop,direction:Y?Y>0?eo.forward:eo.back:eo.unknown})})};function d(){a=o.value}function u(g){i.push(g);const _=()=>{const x=i.indexOf(g);x>-1&&i.splice(x,1)};return l.push(_),_}function h(){const{history:g}=window;g.state&&g.replaceState(gt({},g.state,{scroll:ii()}),"")}function p(){for(const g of l)g();l=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:d,listen:u,destroy:p}}function el(e,t,o,n=!1,i=!1){return{back:e,current:t,forward:o,replaced:n,position:window.history.length,scroll:i?ii():null}}function s_(e){const{history:t,location:o}=window,n={value:Tc(e,o)},i={value:t.state};i.value||l(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(d,u,h){const p=e.indexOf("#"),g=p>-1?(o.host&&document.querySelector("base")?e:e.slice(p))+d:e_()+e+d;try{t[h?"replaceState":"pushState"](u,"",g),i.value=u}catch(_){console.error(_),o[h?"replace":"assign"](g)}}function a(d,u){const h=gt({},t.state,el(i.value.back,d,i.value.forward,!0),u,{position:i.value.position});l(d,h,!0),n.value=d}function r(d,u){const h=gt({},i.value,t.state,{forward:d,scroll:ii()});l(h.current,h,!0);const p=gt({},el(n.value,d,null),{position:h.position+1},u);l(d,p,!1),n.value=d}return{location:n,state:i,push:r,replace:a}}function n_(e){e=Qg(e);const t=s_(e),o=t_(e,t.state,t.location,t.replace);function n(l,a=!0){a||o.pauseListeners(),history.go(l)}const i=gt({location:"",base:e,go:n,createHref:Wg.bind(null,e)},t,o);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function o_(e){return typeof e=="string"||e&&typeof e=="object"}function Ac(e){return typeof e=="string"||typeof e=="symbol"}const Dc=Symbol("");var tl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(tl||(tl={}));function Ln(e,t){return gt(new Error,{type:e,[Dc]:!0},t)}function ks(e,t){return e instanceof Error&&Dc in e&&(t==null||!!(e.type&t))}const sl="[^/]+?",i_={sensitive:!1,strict:!1,start:!0,end:!0},r_=/[.+*?^${}()[\]/\\]/g;function a_(e,t){const o=gt({},i_,t),n=[];let i=o.start?"^":"";const l=[];for(const u of e){const h=u.length?[]:[90];o.strict&&!u.length&&(i+="/");for(let p=0;p<u.length;p++){const g=u[p];let _=40+(o.sensitive?.25:0);if(g.type===0)p||(i+="/"),i+=g.value.replace(r_,"\\$&"),_+=40;else if(g.type===1){const{value:x,repeatable:S,optional:Y,regexp:U}=g;l.push({name:x,repeatable:S,optional:Y});const V=U||sl;if(V!==sl){_+=10;try{new RegExp(`(${V})`)}catch(re){throw new Error(`Invalid custom RegExp for param "${x}" (${V}): `+re.message)}}let Q=S?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;p||(Q=Y&&u.length<2?`(?:/${Q})`:"/"+Q),Y&&(Q+="?"),i+=Q,_+=20,Y&&(_+=-8),S&&(_+=-20),V===".*"&&(_+=-50)}h.push(_)}n.push(h)}if(o.strict&&o.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}o.strict||(i+="/?"),o.end?i+="$":o.strict&&(i+="(?:/|$)");const a=new RegExp(i,o.sensitive?"":"i");function r(u){const h=u.match(a),p={};if(!h)return null;for(let g=1;g<h.length;g++){const _=h[g]||"",x=l[g-1];p[x.name]=_&&x.repeatable?_.split("/"):_}return p}function d(u){let h="",p=!1;for(const g of e){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const _ of g)if(_.type===0)h+=_.value;else if(_.type===1){const{value:x,repeatable:S,optional:Y}=_,U=x in u?u[x]:"";if(vs(U)&&!S)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const V=vs(U)?U.join("/"):U;if(!V)if(Y)g.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${x}"`);h+=V}}return h||"/"}return{re:a,score:n,keys:l,parse:r,stringify:d}}function l_(e,t){let o=0;for(;o<e.length&&o<t.length;){const n=t[o]-e[o];if(n)return n;o++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Pc(e,t){let o=0;const n=e.score,i=t.score;for(;o<n.length&&o<i.length;){const l=l_(n[o],i[o]);if(l)return l;o++}if(Math.abs(i.length-n.length)===1){if(nl(n))return 1;if(nl(i))return-1}return i.length-n.length}function nl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const c_={type:0,value:""},d_=/[a-zA-Z0-9_]/;function u_(e){if(!e)return[[]];if(e==="/")return[[c_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${o})/"${u}": ${_}`)}let o=0,n=o;const i=[];let l;function a(){l&&i.push(l),l=[]}let r=0,d,u="",h="";function p(){u&&(o===0?l.push({type:0,value:u}):o===1||o===2||o===3?(l.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:u,regexp:h,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),u="")}function g(){u+=d}for(;r<e.length;){if(d=e[r++],d==="\\"&&o!==2){n=o,o=4;continue}switch(o){case 0:d==="/"?(u&&p(),a()):d===":"?(p(),o=1):g();break;case 4:g(),o=n;break;case 1:d==="("?o=2:d_.test(d)?g():(p(),o=0,d!=="*"&&d!=="?"&&d!=="+"&&r--);break;case 2:d===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+d:o=3:h+=d;break;case 3:p(),o=0,d!=="*"&&d!=="?"&&d!=="+"&&r--,h="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${u}"`),p(),a(),i}function h_(e,t,o){const n=a_(u_(e.path),o),i=gt(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function f_(e,t){const o=[],n=new Map;t=rl({strict:!1,end:!0,sensitive:!1},t);function i(p){return n.get(p)}function l(p,g,_){const x=!_,S=p_(p);S.aliasOf=_&&_.record;const Y=rl(t,p),U=[S];if("alias"in p){const re=typeof p.alias=="string"?[p.alias]:p.alias;for(const Re of re)U.push(gt({},S,{components:_?_.record.components:S.components,path:Re,aliasOf:_?_.record:S}))}let V,Q;for(const re of U){const{path:Re}=re;if(g&&Re[0]!=="/"){const O=g.record.path,H=O[O.length-1]==="/"?"":"/";re.path=g.record.path+(Re&&H+Re)}if(V=h_(re,g,Y),_?_.alias.push(V):(Q=Q||V,Q!==V&&Q.alias.push(V),x&&p.name&&!il(V)&&a(p.name)),Oc(V)&&d(V),S.children){const O=S.children;for(let H=0;H<O.length;H++)l(O[H],V,_&&_.children[H])}_=_||V}return Q?()=>{a(Q)}:Zn}function a(p){if(Ac(p)){const g=n.get(p);g&&(n.delete(p),o.splice(o.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=o.indexOf(p);g>-1&&(o.splice(g,1),p.record.name&&n.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function r(){return o}function d(p){const g=__(p,o);o.splice(g,0,p),p.record.name&&!il(p)&&n.set(p.record.name,p)}function u(p,g){let _,x={},S,Y;if("name"in p&&p.name){if(_=n.get(p.name),!_)throw Ln(1,{location:p});Y=_.record.name,x=gt(ol(g.params,_.keys.filter(Q=>!Q.optional).concat(_.parent?_.parent.keys.filter(Q=>Q.optional):[]).map(Q=>Q.name)),p.params&&ol(p.params,_.keys.map(Q=>Q.name))),S=_.stringify(x)}else if(p.path!=null)S=p.path,_=o.find(Q=>Q.re.test(S)),_&&(x=_.parse(S),Y=_.record.name);else{if(_=g.name?n.get(g.name):o.find(Q=>Q.re.test(g.path)),!_)throw Ln(1,{location:p,currentLocation:g});Y=_.record.name,x=gt({},g.params,p.params),S=_.stringify(x)}const U=[];let V=_;for(;V;)U.unshift(V.record),V=V.parent;return{name:Y,path:S,params:x,matched:U,meta:g_(U)}}e.forEach(p=>l(p));function h(){o.length=0,n.clear()}return{addRoute:l,resolve:u,removeRoute:a,clearRoutes:h,getRoutes:r,getRecordMatcher:i}}function ol(e,t){const o={};for(const n of t)n in e&&(o[n]=e[n]);return o}function p_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:m_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function m_(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const n in e.components)t[n]=typeof o=="object"?o[n]:o;return t}function il(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function g_(e){return e.reduce((t,o)=>gt(t,o.meta),{})}function rl(e,t){const o={};for(const n in e)o[n]=n in t?t[n]:e[n];return o}function __(e,t){let o=0,n=t.length;for(;o!==n;){const l=o+n>>1;Pc(e,t[l])<0?n=l:o=l+1}const i=v_(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function v_(e){let t=e;for(;t=t.parent;)if(Oc(t)&&Pc(e,t)===0)return t}function Oc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function y_(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const l=n[i].replace(Cc," "),a=l.indexOf("="),r=ao(a<0?l:l.slice(0,a)),d=a<0?null:ao(l.slice(a+1));if(r in t){let u=t[r];vs(u)||(u=t[r]=[u]),u.push(d)}else t[r]=d}return t}function al(e){let t="";for(let o in e){const n=e[o];if(o=Ng(o),n==null){n!==void 0&&(t+=(t.length?"&":"")+o);continue}(vs(n)?n.map(l=>l&&Yi(l)):[n&&Yi(n)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+o,l!=null&&(t+="="+l))})}return t}function b_(e){const t={};for(const o in e){const n=e[o];n!==void 0&&(t[o]=vs(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const w_=Symbol(""),ll=Symbol(""),ri=Symbol(""),fr=Symbol(""),Hi=Symbol("");function Kn(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function o(){e=[]}return{add:t,list:()=>e.slice(),reset:o}}function qs(e,t,o,n,i,l=a=>a()){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((r,d)=>{const u=g=>{g===!1?d(Ln(4,{from:o,to:t})):g instanceof Error?d(g):o_(g)?d(Ln(2,{from:t,to:g})):(a&&n.enterCallbacks[i]===a&&typeof g=="function"&&a.push(g),r())},h=l(()=>e.call(n&&n.instances[i],t,o,u));let p=Promise.resolve(h);e.length<3&&(p=p.then(u)),p.catch(g=>d(g))})}function $i(e,t,o,n,i=l=>l()){const l=[];for(const a of e)for(const r in a.components){let d=a.components[r];if(!(t!=="beforeRouteEnter"&&!a.instances[r]))if(E_(d)){const h=(d.__vccOpts||d)[t];h&&l.push(qs(h,o,n,a,r,i))}else{let u=d();l.push(()=>u.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${a.path}"`));const p=Rg(h)?h.default:h;a.components[r]=p;const _=(p.__vccOpts||p)[t];return _&&qs(_,o,n,a,r,i)()}))}}return l}function E_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cl(e){const t=gs(ri),o=gs(fr),n=ot(()=>{const d=Tn(e.to);return t.resolve(d)}),i=ot(()=>{const{matched:d}=n.value,{length:u}=d,h=d[u-1],p=o.matched;if(!h||!p.length)return-1;const g=p.findIndex(Fn.bind(null,h));if(g>-1)return g;const _=dl(d[u-2]);return u>1&&dl(h)===_&&p[p.length-1].path!==_?p.findIndex(Fn.bind(null,d[u-2])):g}),l=ot(()=>i.value>-1&&S_(o.params,n.value.params)),a=ot(()=>i.value>-1&&i.value===o.matched.length-1&&kc(o.params,n.value.params));function r(d={}){return C_(d)?t[Tn(e.replace)?"replace":"push"](Tn(e.to)).catch(Zn):Promise.resolve()}return{route:n,href:ot(()=>n.value.href),isActive:l,isExactActive:a,navigate:r}}const I_=Xl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:cl,setup(e,{slots:t}){const o=Go(cl(e)),{options:n}=gs(ri),i=ot(()=>({[ul(e.activeClass,n.linkActiveClass,"router-link-active")]:o.isActive,[ul(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const l=t.default&&t.default(o);return e.custom?l:dr("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:i.value},l)}}}),x_=I_;function C_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function S_(e,t){for(const o in t){const n=t[o],i=e[o];if(typeof n=="string"){if(n!==i)return!1}else if(!vs(i)||i.length!==n.length||n.some((l,a)=>l!==i[a]))return!1}return!0}function dl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ul=(e,t,o)=>e??t??o,R_=Xl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const n=gs(Hi),i=ot(()=>e.route||n.value),l=gs(ll,0),a=ot(()=>{let u=Tn(l);const{matched:h}=i.value;let p;for(;(p=h[u])&&!p.components;)u++;return u}),r=ot(()=>i.value.matched[a.value]);Fo(ll,ot(()=>a.value+1)),Fo(w_,r),Fo(Hi,i);const d=j();return Rt(()=>[d.value,r.value,e.name],([u,h,p],[g,_,x])=>{h&&(h.instances[p]=u,_&&_!==h&&u&&u===g&&(h.leaveGuards.size||(h.leaveGuards=_.leaveGuards),h.updateGuards.size||(h.updateGuards=_.updateGuards))),u&&h&&(!_||!Fn(h,_)||!g)&&(h.enterCallbacks[p]||[]).forEach(S=>S(u))},{flush:"post"}),()=>{const u=i.value,h=e.name,p=r.value,g=p&&p.components[h];if(!g)return hl(o.default,{Component:g,route:u});const _=p.props[h],x=_?_===!0?u.params:typeof _=="function"?_(u):_:null,Y=dr(g,gt({},x,t,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(p.instances[h]=null)},ref:d}));return hl(o.default,{Component:Y,route:u})||Y}}});function hl(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const $_=R_;function k_(e){const t=f_(e.routes,e),o=e.parseQuery||y_,n=e.stringifyQuery||al,i=e.history,l=Kn(),a=Kn(),r=Kn(),d=Wh(js);let u=js;Rn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Si.bind(null,Z=>""+Z),p=Si.bind(null,jg),g=Si.bind(null,ao);function _(Z,k){let T,B;return Ac(Z)?(T=t.getRecordMatcher(Z),B=k):B=Z,t.addRoute(B,T)}function x(Z){const k=t.getRecordMatcher(Z);k&&t.removeRoute(k)}function S(){return t.getRoutes().map(Z=>Z.record)}function Y(Z){return!!t.getRecordMatcher(Z)}function U(Z,k){if(k=gt({},k||d.value),typeof Z=="string"){const L=Ri(o,Z,k.path),ee=t.resolve({path:L.path},k),ue=i.createHref(L.fullPath);return gt(L,ee,{params:g(ee.params),hash:ao(L.hash),redirectedFrom:void 0,href:ue})}let T;if(Z.path!=null)T=gt({},Z,{path:Ri(o,Z.path,k.path).path});else{const L=gt({},Z.params);for(const ee in L)L[ee]==null&&delete L[ee];T=gt({},Z,{params:p(L)}),k.params=p(k.params)}const B=t.resolve(T,k),ne=Z.hash||"";B.params=h(g(B.params));const X=Yg(n,gt({},Z,{hash:Mg(ne),path:B.path})),E=i.createHref(X);return gt({fullPath:X,hash:ne,query:n===al?b_(Z.query):Z.query||{}},B,{redirectedFrom:void 0,href:E})}function V(Z){return typeof Z=="string"?Ri(o,Z,d.value.path):gt({},Z)}function Q(Z,k){if(u!==Z)return Ln(8,{from:k,to:Z})}function re(Z){return H(Z)}function Re(Z){return re(gt(V(Z),{replace:!0}))}function O(Z){const k=Z.matched[Z.matched.length-1];if(k&&k.redirect){const{redirect:T}=k;let B=typeof T=="function"?T(Z):T;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=V(B):{path:B},B.params={}),gt({query:Z.query,hash:Z.hash,params:B.path!=null?{}:Z.params},B)}}function H(Z,k){const T=u=U(Z),B=d.value,ne=Z.state,X=Z.force,E=Z.replace===!0,L=O(T);if(L)return H(gt(V(L),{state:typeof L=="object"?gt({},ne,L.state):ne,force:X,replace:E}),k||T);const ee=T;ee.redirectedFrom=k;let ue;return!X&&qg(n,B,T)&&(ue=Ln(16,{to:ee,from:B}),xe(B,B,!0,!1)),(ue?Promise.resolve(ue):R(ee,B)).catch(he=>ks(he)?ks(he,2)?he:de(he):ie(he,ee,B)).then(he=>{if(he){if(ks(he,2))return H(gt({replace:E},V(he.to),{state:typeof he.to=="object"?gt({},ne,he.to.state):ne,force:X}),k||ee)}else he=m(ee,B,!0,E,ne);return A(ee,B,he),he})}function w(Z,k){const T=Q(Z,k);return T?Promise.reject(T):Promise.resolve()}function I(Z){const k=K.values().next().value;return k&&typeof k.runWithContext=="function"?k.runWithContext(Z):Z()}function R(Z,k){let T;const[B,ne,X]=T_(Z,k);T=$i(B.reverse(),"beforeRouteLeave",Z,k);for(const L of B)L.leaveGuards.forEach(ee=>{T.push(qs(ee,Z,k))});const E=w.bind(null,Z,k);return T.push(E),Me(T).then(()=>{T=[];for(const L of l.list())T.push(qs(L,Z,k));return T.push(E),Me(T)}).then(()=>{T=$i(ne,"beforeRouteUpdate",Z,k);for(const L of ne)L.updateGuards.forEach(ee=>{T.push(qs(ee,Z,k))});return T.push(E),Me(T)}).then(()=>{T=[];for(const L of X)if(L.beforeEnter)if(vs(L.beforeEnter))for(const ee of L.beforeEnter)T.push(qs(ee,Z,k));else T.push(qs(L.beforeEnter,Z,k));return T.push(E),Me(T)}).then(()=>(Z.matched.forEach(L=>L.enterCallbacks={}),T=$i(X,"beforeRouteEnter",Z,k,I),T.push(E),Me(T))).then(()=>{T=[];for(const L of a.list())T.push(qs(L,Z,k));return T.push(E),Me(T)}).catch(L=>ks(L,8)?L:Promise.reject(L))}function A(Z,k,T){r.list().forEach(B=>I(()=>B(Z,k,T)))}function m(Z,k,T,B,ne){const X=Q(Z,k);if(X)return X;const E=k===js,L=Rn?history.state:{};T&&(B||E?i.replace(Z.fullPath,gt({scroll:E&&L&&L.scroll},ne)):i.push(Z.fullPath,ne)),d.value=Z,xe(Z,k,T,E),de()}let b;function C(){b||(b=i.listen((Z,k,T)=>{if(!Be.listening)return;const B=U(Z),ne=O(B);if(ne){H(gt(ne,{replace:!0}),B).catch(Zn);return}u=B;const X=d.value;Rn&&Xg(Za(X.fullPath,T.delta),ii()),R(B,X).catch(E=>ks(E,12)?E:ks(E,2)?(H(E.to,B).then(L=>{ks(L,20)&&!T.delta&&T.type===lo.pop&&i.go(-1,!1)}).catch(Zn),Promise.reject()):(T.delta&&i.go(-T.delta,!1),ie(E,B,X))).then(E=>{E=E||m(B,X,!1),E&&(T.delta&&!ks(E,8)?i.go(-T.delta,!1):T.type===lo.pop&&ks(E,20)&&i.go(-1,!1)),A(B,X,E)}).catch(Zn)}))}let F=Kn(),q=Kn(),z;function ie(Z,k,T){de(Z);const B=q.list();return B.length?B.forEach(ne=>ne(Z,k,T)):console.error(Z),Promise.reject(Z)}function G(){return z&&d.value!==js?Promise.resolve():new Promise((Z,k)=>{F.add([Z,k])})}function de(Z){return z||(z=!Z,C(),F.list().forEach(([k,T])=>Z?T(Z):k()),F.reset()),Z}function xe(Z,k,T,B){const{scrollBehavior:ne}=e;if(!Rn||!ne)return Promise.resolve();const X=!T&&Zg(Za(Z.fullPath,0))||(B||!T)&&history.state&&history.state.scroll||null;return hs().then(()=>ne(Z,k,X)).then(E=>E&&Jg(E)).catch(E=>ie(E,Z,k))}const pe=Z=>i.go(Z);let Pe;const K=new Set,Be={currentRoute:d,listening:!0,addRoute:_,removeRoute:x,clearRoutes:t.clearRoutes,hasRoute:Y,getRoutes:S,resolve:U,options:e,push:re,replace:Re,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:l.add,beforeResolve:a.add,afterEach:r.add,onError:q.add,isReady:G,install(Z){const k=this;Z.component("RouterLink",x_),Z.component("RouterView",$_),Z.config.globalProperties.$router=k,Object.defineProperty(Z.config.globalProperties,"$route",{enumerable:!0,get:()=>Tn(d)}),Rn&&!Pe&&d.value===js&&(Pe=!0,re(i.location).catch(ne=>{}));const T={};for(const ne in js)Object.defineProperty(T,ne,{get:()=>d.value[ne],enumerable:!0});Z.provide(ri,k),Z.provide(fr,Ml(T)),Z.provide(Hi,d);const B=Z.unmount;K.add(Z),Z.unmount=function(){K.delete(Z),K.size<1&&(u=js,b&&b(),b=null,d.value=js,Pe=!1,z=!1),B()}}};function Me(Z){return Z.reduce((k,T)=>k.then(()=>I(T)),Promise.resolve())}return Be}function T_(e,t){const o=[],n=[],i=[],l=Math.max(t.matched.length,e.matched.length);for(let a=0;a<l;a++){const r=t.matched[a];r&&(e.matched.find(u=>Fn(u,r))?n.push(r):o.push(r));const d=e.matched[a];d&&(t.matched.find(u=>Fn(u,d))||i.push(d))}return[o,n,i]}function ts(){return gs(ri)}function ys(e){return gs(fr)}const Ki="/assets/logo.jpg",A_={name:"Sidebar",components:{MenuLinks:Cg},setup(){const e=ts();return{logout:()=>{sessionStorage.clear(),e.push("/login"),te.fire({title:"Logged Out",text:"You have been logged out successfully.",icon:"success",confirmButtonText:"OK",allowOutsideClick:!1,allowEscapeKey:!1})}}}},D_={class:"AuthUi"},P_={id:"kt_app_sidebar",class:"app-sidebar flex-column shadow-lg","data-kt-drawer":"true","data-kt-drawer-name":"app-sidebar","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"225px","data-kt-drawer-direction":"start","data-kt-drawer-toggle":"#kt_app_sidebar_mobile_toggle",style:{"background-color":"#1e1e2d",color:"white","font-weight":"800"}},O_=We('<div class="app-sidebar-logo px-6" id="kt_app_sidebar_logo shadow-lg"><a href="/"><img style="width:200px;" alt="Logo" src="'+Ki+'" class="h-50px app-sidebar-logo-default"><img style="width:200px;" alt="Logo" src="'+Ki+'" class="h-50px app-sidebar-logo-minimize"></a><div id="kt_app_sidebar_toggle" class="app-sidebar-toggle btn btn-icon btn-shadow btn-sm btn-color-muted btn-active-color-primary h-30px w-30px position-absolute top-50 start-100 translate-middle rotate" data-kt-toggle="true" data-kt-toggle-state="active" data-kt-toggle-target="body" data-kt-toggle-name="app-sidebar-minimize"><i class="ki-duotone text-danger fw-bolder ki-black-left-line fs-3 rotate-180"><span class="path1"></span><span class="path2"></span></i></div></div>',1),F_={class:"app-sidebar-menu overflow-hidden flex-column-fluid shadow-lg"},L_={id:"kt_app_sidebar_menu_wrapper",class:"app-sidebar-wrapper shadow-lg"},M_={id:"kt_app_sidebar_menu_scroll",class:"scroll-y my-5 mx-3","data-kt-scroll":"true","data-kt-scroll-activate":"true","data-kt-scroll-height":"auto","data-kt-scroll-dependencies":"#kt_app_sidebar_logo, #kt_app_sidebar_footer","data-kt-scroll-wrappers":"#kt_app_sidebar_menu","data-kt-scroll-offset":"5px","data-kt-scroll-save-state":"true"},N_={class:"menu menu-column menu-rounded menu-sub-indention fw-semibold fs-6",id:"#kt_app_sidebar_menu","data-kt-menu":"true","data-kt-menu-expand":"false"},B_={"data-kt-menu-trigger":"click",class:"menu-item here show menu-accordion"},j_=We('<span class="menu-link"><span class="menu-icon"><i class="ki-duotone text-danger fw-bolder ki-element-11 fs-2"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></i></span><span class="menu-title">Regional Analytics</span><span class="menu-arrow"></span></span>',1),V_={class:"menu-sub menu-sub-accordion"},U_=s("div",{class:"menu-item"},null,-1),Y_={class:"menu-item"},q_=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),H_=s("span",{class:"menu-title"},"RRF Report",-1),K_=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),Q_=s("span",{class:"menu-title"},"RRF Target Analytics",-1),z_={"data-kt-menu-trigger":"click",class:"menu-item here menu-accordion"},W_=We('<span class="menu-link"><span class="menu-icon"><i class="ki-duotone text-danger fw-bolder ki-element-11 fs-2"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span></i></span><span class="menu-title">Country Analytics</span><span class="menu-arrow"></span></span>',1),G_={class:"menu-sub menu-sub-accordion"},J_=s("div",{class:"menu-item"},null,-1),X_={class:"menu-item"},Z_=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),ev=s("span",{class:"menu-title"},"Quarterly Reports",-1),tv=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),sv=s("span",{class:"menu-title"},"Bi-Annual Reports",-1),nv=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),ov=s("span",{class:"menu-title"},"Annual Reports",-1),iv=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),rv=s("span",{class:"menu-title"},"Regional Reports",-1),av=s("span",{class:"menu-bullet"},[s("span",{class:"bullet bullet-dot"})],-1),lv=s("span",{class:"menu-title"},"Country Analytics",-1),cv=s("div",{class:"menu-item pt-5"},[s("div",{class:"menu-content"},[s("span",{class:"menu-heading fw-bold text-uppercase fs-7"},"Admin")])],-1),dv={class:"menu-item"},uv=We('<a class="menu-link" href="#"><span class="menu-icon"><i class="ki-duotone text-danger fw-bolder ki-rocket fs-2"><span class="path1"></span><span class="path2"></span></i></span><span class="menu-title">User Manual</span></a>',1),hv=s("span",{class:"menu-icon"},[s("i",{class:"fas fa-sign-out-alt fs-2 text-danger"})],-1),fv=s("span",{class:"menu-title"},"Logout",-1);function pv(e,t,o,n,i,l){const a=Qe("router-link"),r=Qe("MenuLinks");return P(),N("div",D_,[s("div",P_,[O_,s("div",F_,[s("div",L_,[s("div",M_,[s("div",N_,[s("div",B_,[j_,s("div",V_,[U_,s("div",Y_,[ke(a,{to:"/RDashboardReport",class:"menu-link"},{default:xt(()=>[q_,H_]),_:1}),ke(a,{to:"/RDashboardReport",class:"menu-link"},{default:xt(()=>[K_,Q_]),_:1})])])]),s("div",z_,[W_,s("div",G_,[J_,s("div",X_,[ke(a,{to:"/IQuarterlyReportsReportEntity",class:"menu-link"},{default:xt(()=>[Z_,ev]),_:1}),ke(a,{to:"/IBiAnnualReportsReportEntity",class:"menu-link"},{default:xt(()=>[tv,sv]),_:1}),ke(a,{to:"/IAnnualReportsReportEntity",class:"menu-link"},{default:xt(()=>[nv,ov]),_:1}),ke(a,{to:"/IRRFReportsReportEntity",class:"menu-link"},{default:xt(()=>[iv,rv]),_:1}),ke(a,{to:"/CountryDashSelectEntity",class:"menu-link"},{default:xt(()=>[av,lv]),_:1})])])]),ke(r),cv,s("div",dv,[uv,ke(a,{class:"menu-link",to:"/login",onClick:n.logout},{default:xt(()=>[hv,fv]),_:1},8,["onClick"])])])])])])])])}const mv=Ue(A_,[["render",pv]]),gv={name:"Footer"};function _v(e,t,o,n,i,l){return P(),N("footer")}const vv=Ue(gv,[["render",_v],["__scopeId","data-v-e1af493b"]]),yv={name:"Main"},bv={class:"app-main flex-column flex-row-fluid",id:"kt_app_main"},wv={class:"d-flex flex-column flex-column-fluid"},Ev={id:"kt_app_content",class:"app-content flex-column-fluid"},Iv={id:"kt_app_content_container",class:"app-container container-fluid"},xv={class:"row g-5 gx-xl-12"},Cv={class:"col-md-12 col-lg-12 col-xl-12 col-xxl-12"};function Sv(e,t,o,n,i,l){const a=Qe("router-view");return P(),N("div",null,[s("div",bv,[s("div",wv,[s("div",Ev,[s("div",Iv,[s("div",xv,[s("div",Cv,[ke(a)])])])])])])])}const Rv=Ue(yv,[["render",Sv],["__scopeId","data-v-6e728434"]]),$v={components:{Header:hm,Sidebar:mv,Footer:vv,Main:Rv}},kv={id:"app"},Tv={class:"d-flex flex-column flex-root app-root",id:"kt_app_root"},Av={class:"app-page flex-column flex-column-fluid",id:"kt_app_page"},Dv={class:"app-wrapper flex-column flex-row-fluid",id:"kt_app_wrapper"},Pv=s("div",{id:"kt_scrolltop",class:"scrolltop","data-kt-scrolltop":"true"},[s("i",{class:"ki-duotone ki-arrow-up"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1);function Ov(e,t,o,n,i,l){const a=Qe("Header"),r=Qe("Sidebar"),d=Qe("Main"),u=Qe("Footer");return P(),N("div",kv,[s("div",Tv,[s("div",Av,[ke(a),s("div",Dv,[ke(r),ke(d),ke(u)])])]),Pv])}const Fv=Ue($v,[["render",Ov]]);class is extends Error{constructor(t){var o,n,i,l;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,is.prototype),t!==null&&typeof t=="object"&&(this.url=typeof t.url=="string"?t.url:"",this.status=typeof t.status=="number"?t.status:0,this.isAbort=!!t.isAbort,this.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?this.response=t.response:t.data!==null&&typeof t.data=="object"?this.response=t.data:this.response={}),this.originalError||t instanceof is||(this.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(o=this.response)==null?void 0:o.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(l=(i=(n=this.originalError)==null?void 0:n.cause)==null?void 0:i.message)!=null&&l.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Ao=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Lv(e,t){const o={};if(typeof e!="string")return o;const n=Object.assign({},{}).decode||Mv;let i=0;for(;i<e.length;){const l=e.indexOf("=",i);if(l===-1)break;let a=e.indexOf(";",i);if(a===-1)a=e.length;else if(a<l){i=e.lastIndexOf(";",l-1)+1;continue}const r=e.slice(i,l).trim();if(o[r]===void 0){let d=e.slice(l+1,a).trim();d.charCodeAt(0)===34&&(d=d.slice(1,-1));try{o[r]=n(d)}catch{o[r]=d}}i=a+1}return o}function fl(e,t,o){const n=Object.assign({},o||{}),i=n.encode||Nv;if(!Ao.test(e))throw new TypeError("argument name is invalid");const l=i(t);if(l&&!Ao.test(l))throw new TypeError("argument val is invalid");let a=e+"="+l;if(n.maxAge!=null){const r=n.maxAge-0;if(isNaN(r)||!isFinite(r))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(r)}if(n.domain){if(!Ao.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!Ao.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(!function(d){return Object.prototype.toString.call(d)==="[object Date]"||d instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function Mv(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function Nv(e){return encodeURIComponent(e)}const Bv=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Fc;function Dn(e){if(e)try{const t=decodeURIComponent(Fc(e.split(".")[1]).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Lc(e,t=0){let o=Dn(e);return!(Object.keys(o).length>0&&(!o.exp||o.exp-t>Date.now()/1e3))}Fc=typeof atob!="function"||Bv?e=>{let t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,i=0,l=0,a="";n=t.charAt(l++);~n&&(o=i%4?64*o+n:n,i++%4)?a+=String.fromCharCode(255&o>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a}:atob;const pl="pb_auth";class jv{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Lc(this.token)}get isAdmin(){return Dn(this.token).type==="admin"}get isAuthRecord(){return Dn(this.token).type==="authRecord"}save(t,o){this.baseToken=t||"",this.baseModel=o||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(t,o=pl){const n=Lv(t||"")[o]||"";let i={};try{i=JSON.parse(n),(typeof i===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)}exportToCookie(t,o=pl){var d,u;const n={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},i=Dn(this.token);n.expires=i!=null&&i.exp?new Date(1e3*i.exp):new Date("1970-01-01"),t=Object.assign({},n,t);const l={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let a=fl(o,JSON.stringify(l),t);const r=typeof Blob<"u"?new Blob([a]).size:a.length;if(l.model&&r>4096){l.model={id:(d=l==null?void 0:l.model)==null?void 0:d.id,email:(u=l==null?void 0:l.model)==null?void 0:u.email};const h=["collectionId","username","verified"];for(const p in this.model)h.includes(p)&&(l.model[p]=this.model[p]);a=fl(o,JSON.stringify(l),t)}return a}onChange(t,o=!1){return this._onChangeCallbacks.push(t),o&&t(this.token,this.model),()=>{for(let n=this._onChangeCallbacks.length-1;n>=0;n--)if(this._onChangeCallbacks[n]==t)return delete this._onChangeCallbacks[n],void this._onChangeCallbacks.splice(n,1)}}triggerChange(){for(const t of this._onChangeCallbacks)t&&t(this.token,this.model)}}class Vv extends jv{constructor(t="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=t,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(t,o){this._storageSet(this.storageKey,{token:t,model:o}),super.save(t,o)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){const o=window.localStorage.getItem(t)||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[t]}_storageSet(t,o){if(typeof window<"u"&&(window!=null&&window.localStorage)){let n=o;typeof o!="string"&&(n=JSON.stringify(o)),window.localStorage.setItem(t,n)}else this.storageFallback[t]=o}_storageRemove(t){var o;typeof window<"u"&&(window!=null&&window.localStorage)&&((o=window.localStorage)==null||o.removeItem(t)),delete this.storageFallback[t]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",t=>{if(t.key!=this.storageKey)return;const o=this._storageGet(this.storageKey)||{};super.save(o.token||"",o.model||null)})}}class vn{constructor(t){this.client=t}}class Uv extends vn{async getAll(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/settings",t)}async update(t,o){return o=Object.assign({method:"PATCH",body:t},o),this.client.send("/api/settings",o)}async testS3(t="storage",o){return o=Object.assign({method:"POST",body:{filesystem:t}},o),this.client.send("/api/settings/test/s3",o).then(()=>!0)}async testEmail(t,o,n){return n=Object.assign({method:"POST",body:{email:t,template:o}},n),this.client.send("/api/settings/test/email",n).then(()=>!0)}async generateAppleClientSecret(t,o,n,i,l,a){return a=Object.assign({method:"POST",body:{clientId:t,teamId:o,keyId:n,privateKey:i,duration:l}},a),this.client.send("/api/settings/apple/generate-client-secret",a)}}class pr extends vn{decode(t){return t}async getFullList(t,o){if(typeof t=="number")return this._getFullList(t,o);let n=500;return(o=Object.assign({},t,o)).batch&&(n=o.batch,delete o.batch),this._getFullList(n,o)}async getList(t=1,o=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:t,perPage:o},n.query),this.client.send(this.baseCrudPath,n).then(i=>{var l;return i.items=((l=i.items)==null?void 0:l.map(a=>this.decode(a)))||[],i})}async getFirstListItem(t,o){return(o=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+t},o)).query=Object.assign({filter:t,skipTotal:1},o.query),this.getList(1,1,o).then(n=>{var i;if(!((i=n==null?void 0:n.items)!=null&&i.length))throw new is({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return n.items[0]})}async getOne(t,o){if(!t)throw new is({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return o=Object.assign({method:"GET"},o),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),o).then(n=>this.decode(n))}async create(t,o){return o=Object.assign({method:"POST",body:t},o),this.client.send(this.baseCrudPath,o).then(n=>this.decode(n))}async update(t,o,n){return n=Object.assign({method:"PATCH",body:o},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(i=>this.decode(i))}async delete(t,o){return o=Object.assign({method:"DELETE"},o),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),o).then(()=>!0)}_getFullList(t=500,o){(o=o||{}).query=Object.assign({skipTotal:1},o.query);let n=[],i=async l=>this.getList(l,t||500,o).then(a=>{const r=a.items;return n=n.concat(r),r.length==a.perPage?i(l+1):n});return i(1)}}function ss(e,t,o,n){const i=n!==void 0;return i||o!==void 0?i?(console.warn(e),t.body=Object.assign({},t.body,o),t.query=Object.assign({},t.query,n),t):Object.assign(t,o):t}function ki(e){var t;(t=e._resetAutoRefresh)==null||t.call(e)}class Yv extends pr{get baseCrudPath(){return"/api/admins"}async update(t,o,n){return super.update(t,o,n).then(i=>{var l,a;return((l=this.client.authStore.model)==null?void 0:l.id)===i.id&&((a=this.client.authStore.model)==null?void 0:a.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,i),i})}async delete(t,o){return super.delete(t,o).then(n=>{var i,l;return n&&((i=this.client.authStore.model)==null?void 0:i.id)===t&&((l=this.client.authStore.model)==null?void 0:l.collectionId)===void 0&&this.client.authStore.clear(),n})}authResponse(t){const o=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,o),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:o})}async authWithPassword(t,o,n,i){let l={method:"POST",body:{identity:t,password:o}};l=ss("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",l,n,i);const a=l.autoRefreshThreshold;delete l.autoRefreshThreshold,l.autoRefresh||ki(this.client);let r=await this.client.send(this.baseCrudPath+"/auth-with-password",l);return r=this.authResponse(r),a&&function(u,h,p,g){ki(u);const _=u.beforeSend,x=u.authStore.model,S=u.authStore.onChange((Y,U)=>{(!Y||(U==null?void 0:U.id)!=(x==null?void 0:x.id)||(U!=null&&U.collectionId||x!=null&&x.collectionId)&&(U==null?void 0:U.collectionId)!=(x==null?void 0:x.collectionId))&&ki(u)});u._resetAutoRefresh=function(){S(),u.beforeSend=_,delete u._resetAutoRefresh},u.beforeSend=async(Y,U)=>{var Re;const V=u.authStore.token;if((Re=U.query)!=null&&Re.autoRefresh)return _?_(Y,U):{url:Y,sendOptions:U};let Q=u.authStore.isValid;if(Q&&Lc(u.authStore.token,h))try{await p()}catch{Q=!1}Q||await g();const re=U.headers||{};for(let O in re)if(O.toLowerCase()=="authorization"&&V==re[O]&&u.authStore.token){re[O]=u.authStore.token;break}return U.headers=re,_?_(Y,U):{url:Y,sendOptions:U}}}(this.client,a,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(t,o,Object.assign({autoRefresh:!0},l))),r}async authRefresh(t,o){let n={method:"POST"};return n=ss("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,t,o),this.client.send(this.baseCrudPath+"/auth-refresh",n).then(this.authResponse.bind(this))}async requestPasswordReset(t,o,n){let i={method:"POST",body:{email:t}};return i=ss("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,o,n),this.client.send(this.baseCrudPath+"/request-password-reset",i).then(()=>!0)}async confirmPasswordReset(t,o,n,i,l){let a={method:"POST",body:{token:t,password:o,passwordConfirm:n}};return a=ss("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",a,i,l),this.client.send(this.baseCrudPath+"/confirm-password-reset",a).then(()=>!0)}}const qv=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Mc(e){if(e){e.query=e.query||{};for(let t in e)qv.includes(t)||(e.query[t]=e[t],delete e[t])}}class Nc extends vn{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(t,o,n){var a;if(!t)throw new Error("topic must be set.");let i=t;if(n){Mc(n);const r="options="+encodeURIComponent(JSON.stringify({query:n.query,headers:n.headers}));i+=(i.includes("?")?"&":"?")+r}const l=function(r){const d=r;let u;try{u=JSON.parse(d==null?void 0:d.data)}catch{}o(u||{})};return this.subscriptions[i]||(this.subscriptions[i]=[]),this.subscriptions[i].push(l),this.isConnected?this.subscriptions[i].length===1?await this.submitSubscriptions():(a=this.eventSource)==null||a.addEventListener(i,l):await this.connect(),async()=>this.unsubscribeByTopicAndListener(t,l)}async unsubscribe(t){var n;let o=!1;if(t){const i=this.getSubscriptionsByTopic(t);for(let l in i)if(this.hasSubscriptionListeners(l)){for(let a of this.subscriptions[l])(n=this.eventSource)==null||n.removeEventListener(l,a);delete this.subscriptions[l],o||(o=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?o&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(t){var n;let o=!1;for(let i in this.subscriptions)if((i+"?").startsWith(t)){o=!0;for(let l of this.subscriptions[i])(n=this.eventSource)==null||n.removeEventListener(i,l);delete this.subscriptions[i]}o&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(t,o){var l;let n=!1;const i=this.getSubscriptionsByTopic(t);for(let a in i){if(!Array.isArray(this.subscriptions[a])||!this.subscriptions[a].length)continue;let r=!1;for(let d=this.subscriptions[a].length-1;d>=0;d--)this.subscriptions[a][d]===o&&(r=!0,delete this.subscriptions[a][d],this.subscriptions[a].splice(d,1),(l=this.eventSource)==null||l.removeEventListener(a,o));r&&(this.subscriptions[a].length||delete this.subscriptions[a],n||this.hasSubscriptionListeners(a)||(n=!0))}this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(t){var o,n;if(this.subscriptions=this.subscriptions||{},t)return!!((o=this.subscriptions[t])!=null&&o.length);for(let i in this.subscriptions)if((n=this.subscriptions[i])!=null&&n.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(t=>{if(!(t!=null&&t.isAbort))throw t})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(t){const o={};t=t.includes("?")?t:t+"?";for(let n in this.subscriptions)(n+"?").startsWith(t)&&(o[n]=this.subscriptions[n]);return o}getNonEmptySubscriptionKeys(){const t=[];for(let o in this.subscriptions)this.subscriptions[o].length&&t.push(o);return t}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let t in this.subscriptions)for(let o of this.subscriptions[t])this.eventSource.addEventListener(t,o)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let t in this.subscriptions)for(let o of this.subscriptions[t])this.eventSource.removeEventListener(t,o)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((t,o)=>{this.pendingConnects.push({resolve:t,reject:o}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=t=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",t=>{const o=t;this.clientId=o==null?void 0:o.lastEventId,this.submitSubscriptions().then(async()=>{let n=3;for(;this.hasUnsentSubscriptions()&&n>0;)n--,await this.submitSubscriptions()}).then(()=>{for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const n=this.getSubscriptionsByTopic("PB_CONNECT");for(let i in n)for(let l of n[i])l(t)}).catch(n=>{this.clientId="",this.connectErrorHandler(n)})})}hasUnsentSubscriptions(){const t=this.getNonEmptySubscriptionKeys();if(t.length!=this.lastSentSubscriptions.length)return!0;for(const o of t)if(!this.lastSentSubscriptions.includes(o))return!0;return!1}connectErrorHandler(t){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let n of this.pendingConnects)n.reject(new is(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const o=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},o)}disconnect(t=!1){var o;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(o=this.eventSource)==null||o.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(let n of this.pendingConnects)n.resolve();this.pendingConnects=[]}}}class Hv extends pr{constructor(t,o){super(t),this.collectionIdOrName=o}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(t,o,n){if(!t)throw new Error("Missing topic.");if(!o)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,o,n)}async unsubscribe(t){return t?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(t,o){if(typeof t=="number")return super.getFullList(t,o);const n=Object.assign({},t,o);return super.getFullList(n)}async getList(t=1,o=30,n){return super.getList(t,o,n)}async getFirstListItem(t,o){return super.getFirstListItem(t,o)}async getOne(t,o){return super.getOne(t,o)}async create(t,o){return super.create(t,o)}async update(t,o,n){return super.update(t,o,n).then(i=>{var l,a,r;return((l=this.client.authStore.model)==null?void 0:l.id)!==(i==null?void 0:i.id)||((a=this.client.authStore.model)==null?void 0:a.collectionId)!==this.collectionIdOrName&&((r=this.client.authStore.model)==null?void 0:r.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,i),i})}async delete(t,o){return super.delete(t,o).then(n=>{var i,l,a;return!n||((i=this.client.authStore.model)==null?void 0:i.id)!==t||((l=this.client.authStore.model)==null?void 0:l.collectionId)!==this.collectionIdOrName&&((a=this.client.authStore.model)==null?void 0:a.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),n})}authResponse(t){const o=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,o),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:o})}async listAuthMethods(t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCollectionPath+"/auth-methods",t).then(o=>Object.assign({},o,{usernamePassword:!!(o!=null&&o.usernamePassword),emailPassword:!!(o!=null&&o.emailPassword),authProviders:Array.isArray(o==null?void 0:o.authProviders)?o==null?void 0:o.authProviders:[]}))}async authWithPassword(t,o,n,i){let l={method:"POST",body:{identity:t,password:o}};return l=ss("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",l,n,i),this.client.send(this.baseCollectionPath+"/auth-with-password",l).then(a=>this.authResponse(a))}async authWithOAuth2Code(t,o,n,i,l,a,r){let d={method:"POST",body:{provider:t,code:o,codeVerifier:n,redirectUrl:i,createData:l}};return d=ss("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",d,a,r),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",d).then(u=>this.authResponse(u))}async authWithOAuth2(...t){if(t.length>1||typeof(t==null?void 0:t[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{});const o=(t==null?void 0:t[0])||{},n=(await this.listAuthMethods()).authProviders.find(d=>d.name===o.provider);if(!n)throw new is(new Error(`Missing or invalid provider "${o.provider}".`));const i=this.client.buildUrl("/api/oauth2-redirect"),l=new Nc(this.client);let a=null;function r(){a==null||a.close(),l.unsubscribe()}return o.urlCallback||(a=ml(void 0)),new Promise(async(d,u)=>{var h;try{await l.subscribe("@oauth2",async x=>{const S=l.clientId;try{if(!x.state||S!==x.state)throw new Error("State parameters don't match.");if(x.error||!x.code)throw new Error("OAuth2 redirect error or missing code: "+x.error);const Y=Object.assign({},o);delete Y.provider,delete Y.scopes,delete Y.createData,delete Y.urlCallback;const U=await this.authWithOAuth2Code(n.name,x.code,n.codeVerifier,i,o.createData,Y);d(U)}catch(Y){u(new is(Y))}r()});const p={state:l.clientId};(h=o.scopes)!=null&&h.length&&(p.scope=o.scopes.join(" "));const g=this._replaceQueryParams(n.authUrl+i,p);await(o.urlCallback||function(x){a?a.location.href=x:a=ml(x)})(g)}catch(p){r(),u(new is(p))}})}async authRefresh(t,o){let n={method:"POST"};return n=ss("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",n,t,o),this.client.send(this.baseCollectionPath+"/auth-refresh",n).then(i=>this.authResponse(i))}async requestPasswordReset(t,o,n){let i={method:"POST",body:{email:t}};return i=ss("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",i,o,n),this.client.send(this.baseCollectionPath+"/request-password-reset",i).then(()=>!0)}async confirmPasswordReset(t,o,n,i,l){let a={method:"POST",body:{token:t,password:o,passwordConfirm:n}};return a=ss("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",a,i,l),this.client.send(this.baseCollectionPath+"/confirm-password-reset",a).then(()=>!0)}async requestVerification(t,o,n){let i={method:"POST",body:{email:t}};return i=ss("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",i,o,n),this.client.send(this.baseCollectionPath+"/request-verification",i).then(()=>!0)}async confirmVerification(t,o,n){let i={method:"POST",body:{token:t}};return i=ss("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",i,o,n),this.client.send(this.baseCollectionPath+"/confirm-verification",i).then(()=>{const l=Dn(t),a=this.client.authStore.model;return a&&!a.verified&&a.id===l.id&&a.collectionId===l.collectionId&&(a.verified=!0,this.client.authStore.save(this.client.authStore.token,a)),!0})}async requestEmailChange(t,o,n){let i={method:"POST",body:{newEmail:t}};return i=ss("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",i,o,n),this.client.send(this.baseCollectionPath+"/request-email-change",i).then(()=>!0)}async confirmEmailChange(t,o,n,i){let l={method:"POST",body:{token:t,password:o}};return l=ss("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",l,n,i),this.client.send(this.baseCollectionPath+"/confirm-email-change",l).then(()=>{const a=Dn(t),r=this.client.authStore.model;return r&&r.id===a.id&&r.collectionId===a.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(t,o){return o=Object.assign({method:"GET"},o),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",o)}async unlinkExternalAuth(t,o,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(o),n).then(()=>!0)}_replaceQueryParams(t,o={}){let n=t,i="";t.indexOf("?")>=0&&(n=t.substring(0,t.indexOf("?")),i=t.substring(t.indexOf("?")+1));const l={},a=i.split("&");for(const r of a){if(r=="")continue;const d=r.split("=");l[decodeURIComponent(d[0].replace(/\+/g," "))]=decodeURIComponent((d[1]||"").replace(/\+/g," "))}for(let r in o)o.hasOwnProperty(r)&&(o[r]==null?delete l[r]:l[r]=o[r]);i="";for(let r in l)l.hasOwnProperty(r)&&(i!=""&&(i+="&"),i+=encodeURIComponent(r.replace(/%20/g,"+"))+"="+encodeURIComponent(l[r].replace(/%20/g,"+")));return i!=""?n+"?"+i:n}}function ml(e){if(typeof window>"u"||!(window!=null&&window.open))throw new is(new Error("Not in a browser context - please pass a custom urlCallback function."));let t=1024,o=768,n=window.innerWidth,i=window.innerHeight;t=t>n?n:t,o=o>i?i:o;let l=n/2-t/2,a=i/2-o/2;return window.open(e,"popup_window","width="+t+",height="+o+",top="+a+",left="+l+",resizable,menubar=no")}class Kv extends pr{get baseCrudPath(){return"/api/collections"}async import(t,o=!1,n){return n=Object.assign({method:"PUT",body:{collections:t,deleteMissing:o}},n),this.client.send(this.baseCrudPath+"/import",n).then(()=>!0)}}class Qv extends vn{async getList(t=1,o=30,n){return(n=Object.assign({method:"GET"},n)).query=Object.assign({page:t,perPage:o},n.query),this.client.send("/api/logs",n)}async getOne(t,o){if(!t)throw new is({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return o=Object.assign({method:"GET"},o),this.client.send("/api/logs/"+encodeURIComponent(t),o)}async getStats(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/stats",t)}}class zv extends vn{async check(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/health",t)}}class Wv extends vn{getUrl(t,o,n={}){if(!o||!(t!=null&&t.id)||!(t!=null&&t.collectionId)&&!(t!=null&&t.collectionName))return"";const i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(t.collectionId||t.collectionName)),i.push(encodeURIComponent(t.id)),i.push(encodeURIComponent(o));let l=this.client.buildUrl(i.join("/"));if(Object.keys(n).length){n.download===!1&&delete n.download;const a=new URLSearchParams(n);l+=(l.includes("?")?"&":"?")+a}return l}async getToken(t){return t=Object.assign({method:"POST"},t),this.client.send("/api/files/token",t).then(o=>(o==null?void 0:o.token)||"")}}class Gv extends vn{async getFullList(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/backups",t)}async create(t,o){return o=Object.assign({method:"POST",body:{name:t}},o),this.client.send("/api/backups",o).then(()=>!0)}async upload(t,o){return o=Object.assign({method:"POST",body:t},o),this.client.send("/api/backups/upload",o).then(()=>!0)}async delete(t,o){return o=Object.assign({method:"DELETE"},o),this.client.send(`/api/backups/${encodeURIComponent(t)}`,o).then(()=>!0)}async restore(t,o){return o=Object.assign({method:"POST"},o),this.client.send(`/api/backups/${encodeURIComponent(t)}/restore`,o).then(()=>!0)}getDownloadUrl(t,o){return this.client.buildUrl(`/api/backups/${encodeURIComponent(o)}?token=${encodeURIComponent(t)}`)}}class Jv{constructor(t="/",o,n="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=n,this.authStore=o||new Vv,this.admins=new Yv(this),this.collections=new Kv(this),this.files=new Wv(this),this.logs=new Qv(this),this.settings=new Uv(this),this.realtime=new Nc(this),this.health=new zv(this),this.backups=new Gv(this)}collection(t){return this.recordServices[t]||(this.recordServices[t]=new Hv(this,t)),this.recordServices[t]}autoCancellation(t){return this.enableAutoCancellation=!!t,this}cancelRequest(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this}cancelAllRequests(){for(let t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this}filter(t,o){if(!o)return t;for(let n in o){let i=o[n];switch(typeof i){case"boolean":case"number":i=""+i;break;case"string":i="'"+i.replace(/'/g,"\\'")+"'";break;default:i=i===null?"null":i instanceof Date?"'"+i.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(i).replace(/'/g,"\\'")+"'"}t=t.replaceAll("{:"+n+"}",i)}return t}getFileUrl(t,o,n={}){return this.files.getUrl(t,o,n)}buildUrl(t){var n;let o=this.baseUrl;return typeof window>"u"||!window.location||o.startsWith("https://")||o.startsWith("http://")||(o=(n=window.location.origin)!=null&&n.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(o+=window.location.pathname||"/",o+=o.endsWith("/")?"":"/"),o+=this.baseUrl),t&&(o+=o.endsWith("/")?"":"/",o+=t.startsWith("/")?t.substring(1):t),o}async send(t,o){o=this.initSendOptions(t,o);let n=this.buildUrl(t);if(this.beforeSend){const i=Object.assign({},await this.beforeSend(n,o));i.url!==void 0||i.options!==void 0?(n=i.url||n,o=i.options||o):Object.keys(i).length&&(o=i,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(o.query!==void 0){const i=this.serializeQueryParams(o.query);i&&(n+=(n.includes("?")?"&":"?")+i),delete o.query}return this.getHeader(o.headers,"Content-Type")=="application/json"&&o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body)),(o.fetch||fetch)(n,o).then(async i=>{let l={};try{l=await i.json()}catch{}if(this.afterSend&&(l=await this.afterSend(i,l)),i.status>=400)throw new is({url:i.url,status:i.status,data:l});return l}).catch(i=>{throw new is(i)})}initSendOptions(t,o){if((o=Object.assign({method:"GET"},o)).body=this.convertToFormDataIfNeeded(o.body),Mc(o),o.query=Object.assign({},o.params,o.query),o.requestKey===void 0&&(o.$autoCancel===!1||o.query.$autoCancel===!1?o.requestKey=null:(o.$cancelKey||o.query.$cancelKey)&&(o.requestKey=o.$cancelKey||o.query.$cancelKey)),delete o.$autoCancel,delete o.query.$autoCancel,delete o.$cancelKey,delete o.query.$cancelKey,this.getHeader(o.headers,"Content-Type")!==null||this.isFormData(o.body)||(o.headers=Object.assign({},o.headers,{"Content-Type":"application/json"})),this.getHeader(o.headers,"Accept-Language")===null&&(o.headers=Object.assign({},o.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(o.headers,"Authorization")===null&&(o.headers=Object.assign({},o.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&o.requestKey!==null){const n=o.requestKey||(o.method||"GET")+t;delete o.requestKey,this.cancelRequest(n);const i=new AbortController;this.cancelControllers[n]=i,o.signal=i.signal}return o}convertToFormDataIfNeeded(t){if(typeof FormData>"u"||t===void 0||typeof t!="object"||t===null||this.isFormData(t)||!this.hasBlobField(t))return t;const o=new FormData;for(const n in t){const i=t[n];if(typeof i!="object"||this.hasBlobField({data:i})){const l=Array.isArray(i)?i:[i];for(let a of l)o.append(n,a)}else{let l={};l[n]=i,o.append("@jsonPayload",JSON.stringify(l))}}return o}hasBlobField(t){for(const o in t){const n=Array.isArray(t[o])?t[o]:[t[o]];for(const i of n)if(typeof Blob<"u"&&i instanceof Blob||typeof File<"u"&&i instanceof File)return!0}return!1}getHeader(t,o){t=t||{},o=o.toLowerCase();for(let n in t)if(n.toLowerCase()==o)return t[n];return null}isFormData(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)}serializeQueryParams(t){const o=[];for(const n in t){if(t[n]===null)continue;const i=t[n],l=encodeURIComponent(n);if(Array.isArray(i))for(const a of i)o.push(l+"="+encodeURIComponent(a));else i instanceof Date?o.push(l+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?o.push(l+"="+encodeURIComponent(JSON.stringify(i))):o.push(l+"="+encodeURIComponent(i))}return o.join("&")}}const se=j(!1),Xv={setup(){return{isLoading:se}}},Zv=e=>(Zt("data-v-1831a2b1"),e=e(),es(),e),ey={key:0,class:"fullscreen-loader"},ty=Zv(()=>s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)),sy=[ty];function ny(e,t,o,n,i,l){return n.isLoading?(P(),N("div",ey,sy)):lt("",!0)}const ze=Ue(Xv,[["render",ny],["__scopeId","data-v-1831a2b1"]]),me=new Jv("https://pocketbase.ecsahc.com");me.autoCancellation(!1);me.beforeSend=function(e,t){return se.value=!0,{url:e,options:t}};me.afterReceive=function(e){if(se.value=!1,!e.ok){const t=new Error(e.statusText);console.error("Error:",t.message),te.fire("Error","Error: "+t.message,"error")}return e};me.afterError=function(e){return se.value=!1,console.error("Request error:",e),te.fire({title:"Error",text:`Failed to send request: ${e.message}. Please check the console for more details.`,icon:"error",confirmButtonText:"OK"}),Promise.reject(e)};const oy={name:"EntityManagement",components:{FullScreenLoader:ze},setup(){const e=j([]),t=j({Entity:"",EntityID:"",EntityProjectDetails:""}),o=j(!1),n=j(""),i=ot(()=>e.value.filter(_=>_.Entity.toLowerCase().includes(n.value.toLowerCase()))),l=async()=>{se.value=!0;try{const _=await me.collection("mpa_entities").getFullList({sort:"-created"});e.value=_}catch(_){console.error("Error fetching entities:",_),te.fire("Error","Error fetching entities: "+_.message,"error")}finally{se.value=!1}},a=(_,x)=>{o.value=_,t.value={...x},t.value.EntityID||(t.value.EntityID=r())},r=()=>Math.floor(Date.now()/1e3),d=async()=>{se.value=!0;try{t.value.id?await me.collection("mpa_entities").update(t.value.id,t.value):await me.collection("mpa_entities").create(t.value),te.fire("Success","Entity has been processed successfully","success"),l()}catch(_){console.error("Error submitting form:",_),te.fire("Error","Error submitting form: "+_.message,"error")}finally{a(!1,{}),se.value=!1}},u=async _=>{se.value=!0;try{await me.collection("mpa_entities").delete(_),te.fire("Deleted!","Your entity has been deleted.","success"),l()}catch(x){console.error("Error deleting entity:",x),te.fire("Error","Error deleting entity: "+x.message,"error")}finally{se.value=!1}},h=_=>{te.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(x=>{x.isConfirmed&&u(_.id)})},p=()=>{const _=["Entity","EntityProjectDetails"],x=[_.join(","),...e.value.map(U=>_.map(V=>JSON.stringify(U[V]||"")).join(","))].join(`
`),S=new Blob([x],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a");if(Y.download!==void 0){const U=URL.createObjectURL(S);Y.setAttribute("href",U),Y.setAttribute("download","entities.csv"),Y.style.visibility="hidden",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}},g=(_,x)=>_.length>x?_.substring(0,x)+"...":_;return dt(l),{entities:e,currentEntity:t,isModalOpen:o,searchQuery:n,filteredEntities:i,fetchEntities:l,showModal:a,generateEntityID:r,submitForm:d,deleteEntity:u,confirmDelete:h,exportToCSV:p,truncateText:g}}},Zs=e=>(Zt("data-v-891d4bf6"),e=e(),es(),e),iy={class:"dashboard"},ry={class:"dashboard-header"},ay=Zs(()=>s("h1",null,"Entity/Country Database",-1)),ly={class:"search-bar"},cy=Zs(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),dy={class:"dashboard-actions"},uy=Zs(()=>s("i",{class:"fas fa-file-export"},null,-1)),hy=Zs(()=>s("i",{class:"fas fa-plus"},null,-1)),fy={class:"indicator-grid card"},py={class:"card-content card-body"},my={style:{color:"#7239EA"}},gy={style:{color:"black"}},_y={class:"card-actions card-footer"},vy=["onClick"],yy=Zs(()=>s("i",{style:{color:"#7239EA"},class:"fas fa-edit"},null,-1)),by=[yy],wy=["onClick"],Ey=Zs(()=>s("i",{style:{color:"#F8285A !important"},class:"fas fa-trash"},null,-1)),Iy=[Ey],xy={class:"form-group"},Cy=Zs(()=>s("label",{for:"Entity"},"Entity",-1)),Sy={class:"form-group"},Ry=Zs(()=>s("label",{for:"EntityProjectDetails"},"Entity Details",-1)),$y={class:"modal-actions"},ky={type:"submit",class:"btn btn-primary"};function Ty(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",iy,[ke(a),s("header",ry,[ay,s("div",ly,[oe(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.searchQuery=r),placeholder:"Search entities...",class:"search-input"},null,512),[[ve,n.searchQuery]]),cy]),s("div",dy,[s("button",{onClick:t[1]||(t[1]=(...r)=>n.exportToCSV&&n.exportToCSV(...r)),class:"btn btn-export"},[uy,J(" Export to CSV ")]),s("button",{onClick:t[2]||(t[2]=r=>n.showModal(!0,{})),class:"btn btn-add"},[hy,J(" New Entity ")])])]),s("div",fy,[(P(!0),N(Te,null,Fe(n.filteredEntities,r=>(P(),N("div",{key:r.id,class:"indicator-card"},[s("div",py,[s("h3",my,D(r.Entity),1),s("p",gy,D(n.truncateText(r.EntityProjectDetails,100)),1),s("div",_y,[s("button",{onClick:d=>n.showModal(!0,r),class:"btn-icon btn-danger btn",title:"Edit"},by,8,vy),s("button",{onClick:d=>n.confirmDelete(r),class:"btn-icon btn-info btn",title:"Delete"},Iy,8,wy)])])]))),128))]),n.isModalOpen?(P(),N("div",{key:0,class:"modal-overlay",onClick:t[8]||(t[8]=r=>n.showModal(!1,{}))},[s("div",{class:"modal-content",onClick:t[7]||(t[7]=Xe(()=>{},["stop"]))},[s("h2",null,D(n.currentEntity.id?"Edit Entity":"Add Entity"),1),s("form",{onSubmit:t[6]||(t[6]=Xe((...r)=>n.submitForm&&n.submitForm(...r),["prevent"]))},[s("div",xy,[Cy,oe(s("input",{id:"Entity","onUpdate:modelValue":t[3]||(t[3]=r=>n.currentEntity.Entity=r),required:""},null,512),[[ve,n.currentEntity.Entity]])]),s("div",Sy,[Ry,oe(s("textarea",{id:"EntityProjectDetails","onUpdate:modelValue":t[4]||(t[4]=r=>n.currentEntity.EntityProjectDetails=r),required:""},null,512),[[ve,n.currentEntity.EntityProjectDetails]])]),s("div",$y,[s("button",ky,D(n.currentEntity.id?"Update":"Add")+" Entity",1),s("button",{type:"button",onClick:t[5]||(t[5]=r=>n.showModal(!1,{})),class:"btn btn-secondary"},"Cancel")])],32)])])):lt("",!0)])}const Ay=Ue(oy,[["render",Ty],["__scopeId","data-v-891d4bf6"]]),Dy={name:"ReportingTimelinesManagement",components:{FullScreenLoader:ze},setup(){const e=j([]),t=j({ReportName:"",Type:"",Description:"",ReportingID:"",Year:"",status:"active"}),o=j(!1),n=j(""),i=j(Array.from({length:10},(x,S)=>2024+S)),l=ot(()=>e.value.filter(x=>x.ReportName.toLowerCase().includes(n.value.toLowerCase()))),a=async()=>{se.value=!0;try{const x=await me.collection("mpa_reporting_timelines").getFullList({sort:"-created"});e.value=x}catch(x){console.error("Error fetching reporting timelines:",x),te.fire("Error","Error fetching reporting timelines: "+x.message,"error")}finally{se.value=!1}},r=(x,S)=>{o.value=x,t.value={...S,status:"active"},t.value.ReportingID||(t.value.ReportingID=d())},d=()=>Math.floor(Date.now()/1e3),u=async()=>{se.value=!0;try{t.value.id?await me.collection("mpa_reporting_timelines").update(t.value.id,t.value):await me.collection("mpa_reporting_timelines").create(t.value),te.fire("Success","Report has been processed successfully","success"),a()}catch(x){console.error("Error submitting form:",x),te.fire("Error","Error submitting form: "+x.message,"error")}finally{r(!1,{}),se.value=!1}},h=async x=>{se.value=!0;try{await me.collection("mpa_reporting_timelines").delete(x),te.fire("Deleted!","Your report has been deleted.","success"),a()}catch(S){console.error("Error deleting report:",S),te.fire("Error","Error deleting report: "+S.message,"error")}finally{se.value=!1}},p=x=>{te.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(S=>{S.isConfirmed&&h(x.id)})},g=()=>{const x=["ReportName","Type","Description","Year"],S=[x.join(","),...e.value.map(V=>x.map(Q=>JSON.stringify(V[Q]||"")).join(","))].join(`
`),Y=new Blob([S],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a");if(U.download!==void 0){const V=URL.createObjectURL(Y);U.setAttribute("href",V),U.setAttribute("download","reporting_timelines.csv"),U.style.visibility="hidden",document.body.appendChild(U),U.click(),document.body.removeChild(U)}},_=(x,S)=>x.length>S?x.substring(0,S)+"...":x;return dt(a),{reportingTimelines:e,currentTimeline:t,isModalOpen:o,searchQuery:n,filteredTimelines:l,fetchReportingTimelines:a,showModal:r,generateReportingID:d,submitForm:u,deleteTimeline:h,confirmDelete:p,exportToCSV:g,truncateText:_,years:i}}},rs=e=>(Zt("data-v-0dbf0b04"),e=e(),es(),e),Py={class:"dashboard"},Oy={class:"dashboard-header"},Fy=rs(()=>s("h1",null,"Reporting Timelines Database",-1)),Ly={class:"search-bar"},My=rs(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),Ny={class:"dashboard-actions"},By=rs(()=>s("i",{class:"fas fa-file-export"},null,-1)),jy=rs(()=>s("i",{class:"fas fa-plus"},null,-1)),Vy={class:"indicator-grid card"},Uy={class:"card-content card-body"},Yy={style:{color:"#7239EA"}},qy={style:{color:"black"}},Hy={class:"card-actions card-footer"},Ky=["onClick"],Qy=rs(()=>s("i",{style:{color:"#7239EA"},class:"fas fa-edit"},null,-1)),zy=[Qy],Wy=["onClick"],Gy=rs(()=>s("i",{style:{color:"#F8285A !important"},class:"fas fa-trash"},null,-1)),Jy=[Gy],Xy={class:"form-group"},Zy=rs(()=>s("label",{for:"ReportName"},"Report Name",-1)),eb={class:"form-group"},tb=rs(()=>s("label",{for:"Type"},"Type",-1)),sb=rs(()=>s("option",{value:"Annual Report"},"Annual Report",-1)),nb=rs(()=>s("option",{value:"Bi-Annual Report"},"Bi-Annual Report",-1)),ob=rs(()=>s("option",{value:"Quarterly Report"},"Quarterly Report",-1)),ib=[sb,nb,ob],rb={class:"form-group"},ab=rs(()=>s("label",{for:"Year"},"Year",-1)),lb=["value"],cb={class:"form-group"},db=rs(()=>s("label",{for:"Description"},"Description",-1)),ub={class:"modal-actions"},hb={type:"submit",class:"btn btn-primary"};function fb(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",Py,[ke(a),s("header",Oy,[Fy,s("div",Ly,[oe(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.searchQuery=r),placeholder:"Search reports...",class:"search-input"},null,512),[[ve,n.searchQuery]]),My]),s("div",Ny,[s("button",{onClick:t[1]||(t[1]=(...r)=>n.exportToCSV&&n.exportToCSV(...r)),class:"btn btn-export"},[By,J(" Export to CSV ")]),s("button",{onClick:t[2]||(t[2]=r=>n.showModal(!0,{})),class:"btn btn-add"},[jy,J(" New Report ")])])]),s("div",Vy,[(P(!0),N(Te,null,Fe(n.filteredTimelines,r=>(P(),N("div",{key:r.id,class:"indicator-card"},[s("div",Uy,[s("h3",Yy,D(r.ReportName),1),s("p",qy,D(n.truncateText(r.Description,100)),1),s("div",Hy,[s("button",{onClick:d=>n.showModal(!0,r),class:"btn-icon btn-danger btn",title:"Edit"},zy,8,Ky),s("button",{onClick:d=>n.confirmDelete(r),class:"btn-icon btn-info btn",title:"Delete"},Jy,8,Wy)])])]))),128))]),n.isModalOpen?(P(),N("div",{key:0,class:"modal-overlay",onClick:t[10]||(t[10]=r=>n.showModal(!1,{}))},[s("div",{class:"modal-content",onClick:t[9]||(t[9]=Xe(()=>{},["stop"]))},[s("h2",null,D(n.currentTimeline.id?"Edit Report":"Add Report"),1),s("form",{onSubmit:t[8]||(t[8]=Xe((...r)=>n.submitForm&&n.submitForm(...r),["prevent"]))},[s("div",Xy,[Zy,oe(s("input",{id:"ReportName","onUpdate:modelValue":t[3]||(t[3]=r=>n.currentTimeline.ReportName=r),required:""},null,512),[[ve,n.currentTimeline.ReportName]])]),s("div",eb,[tb,oe(s("select",{id:"Type","onUpdate:modelValue":t[4]||(t[4]=r=>n.currentTimeline.Type=r),required:""},ib,512),[[it,n.currentTimeline.Type]])]),s("div",rb,[ab,oe(s("select",{id:"Year","onUpdate:modelValue":t[5]||(t[5]=r=>n.currentTimeline.Year=r),required:""},[(P(!0),N(Te,null,Fe(n.years,r=>(P(),N("option",{key:r,value:r},D(r),9,lb))),128))],512),[[it,n.currentTimeline.Year]])]),s("div",cb,[db,oe(s("textarea",{id:"Description","onUpdate:modelValue":t[6]||(t[6]=r=>n.currentTimeline.Description=r),required:""},null,512),[[ve,n.currentTimeline.Description]])]),s("div",ub,[s("button",hb,D(n.currentTimeline.id?"Update":"Add")+" Report",1),s("button",{type:"button",onClick:t[7]||(t[7]=r=>n.showModal(!1,{})),class:"btn btn-secondary"},"Cancel")])],32)])])):lt("",!0)])}const pb=Ue(Dy,[["render",fb],["__scopeId","data-v-0dbf0b04"]]),mb={name:"ReportStatusManagement",components:{FullScreenLoader:ze},setup(){const e=j([]),t=j({ReportName:"",status:"active"}),o=j(!1),n=j(""),i=ot(()=>e.value.filter(u=>u.ReportName.toLowerCase().includes(n.value.toLowerCase()))),l=async()=>{se.value=!0;try{const u=await me.collection("mpa_reporting_timelines").getFullList({sort:"-created"});e.value=u}catch(u){console.error("Error fetching reports:",u),te.fire("Error","Error fetching reports: "+u.message,"error")}finally{se.value=!1}},a=(u,h)=>{o.value=u,t.value={...h}},r=async()=>{se.value=!0;try{await me.collection("mpa_reporting_timelines").update(t.value.id,{status:t.value.status}),te.fire("Success","Report status updated successfully","success"),l()}catch(u){console.error("Error updating report status:",u.message),te.fire("Error","Error updating report status: "+u.message,"error")}finally{a(!1,{}),se.value=!1}},d=()=>{const u=["ReportName","status"],h=[u.join(","),...e.value.map(_=>u.map(x=>JSON.stringify(_[x]||"")).join(","))].join(`
`),p=new Blob([h],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a");if(g.download!==void 0){const _=URL.createObjectURL(p);g.setAttribute("href",_),g.setAttribute("download","reporting_timelines_status.csv"),g.style.visibility="hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g)}};return dt(l),{reports:e,currentReport:t,isModalOpen:o,searchQuery:n,filteredReports:i,fetchReports:l,showModal:a,submitForm:r,exportToCSV:d}}},Os=e=>(Zt("data-v-bac3105e"),e=e(),es(),e),gb={class:"dashboard"},_b={class:"dashboard-header"},vb=Os(()=>s("h1",null,"Reporting Timeline Status Management",-1)),yb={class:"search-bar"},bb=Os(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),wb={class:"dashboard-actions"},Eb=Os(()=>s("i",{class:"fas fa-file-export"},null,-1)),Ib={class:"indicator-grid card"},xb={class:"card-content card-body"},Cb={style:{color:"#7239EA"}},Sb={style:{color:"black"}},Rb={class:"card-actions card-footer"},$b=["onClick"],kb=Os(()=>s("i",{style:{color:"#7239EA"},class:"fas fa-edit"},null,-1)),Tb=[kb],Ab=Os(()=>s("h2",null,"Update Report Status",-1)),Db={class:"form-group"},Pb=Os(()=>s("label",{for:"Status"},"Status",-1)),Ob=Os(()=>s("option",{value:"active"},"Active",-1)),Fb=Os(()=>s("option",{value:"disabled"},"Disabled",-1)),Lb=[Ob,Fb],Mb={class:"modal-actions"},Nb=Os(()=>s("button",{type:"submit",class:"btn btn-primary"},"Update Status",-1));function Bb(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",gb,[ke(a),s("header",_b,[vb,s("div",yb,[oe(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.searchQuery=r),placeholder:"Search reports...",class:"search-input"},null,512),[[ve,n.searchQuery]]),bb]),s("div",wb,[s("button",{onClick:t[1]||(t[1]=(...r)=>n.exportToCSV&&n.exportToCSV(...r)),class:"btn btn-export"},[Eb,J(" Export to CSV ")])])]),s("div",Ib,[(P(!0),N(Te,null,Fe(n.filteredReports,r=>(P(),N("div",{key:r.id,class:"indicator-card"},[s("div",xb,[s("h3",Cb,D(r.ReportName),1),s("p",Sb,D(r.status),1),s("div",Rb,[s("button",{onClick:d=>n.showModal(!0,r),class:"btn-icon btn-primary btn",title:"Update Status"},Tb,8,$b)])])]))),128))]),n.isModalOpen?(P(),N("div",{key:0,class:"modal-overlay",onClick:t[6]||(t[6]=r=>n.showModal(!1,{}))},[s("div",{class:"modal-content",onClick:t[5]||(t[5]=Xe(()=>{},["stop"]))},[Ab,s("form",{onSubmit:t[4]||(t[4]=Xe((...r)=>n.submitForm&&n.submitForm(...r),["prevent"]))},[s("div",Db,[Pb,oe(s("select",{id:"Status","onUpdate:modelValue":t[2]||(t[2]=r=>n.currentReport.status=r),required:""},Lb,512),[[it,n.currentReport.status]])]),s("div",Mb,[Nb,s("button",{type:"button",onClick:t[3]||(t[3]=r=>n.showModal(!1,{})),class:"btn btn-secondary"},"Cancel")])],32)])])):lt("",!0)])}const jb=Ue(mb,[["render",Bb],["__scopeId","data-v-bac3105e"]]),rt=e=>(Zt("data-v-81588274"),e=e(),es(),e),Vb={class:"dashboard"},Ub={class:"dashboard-header"},Yb={class:"search-bar"},qb=rt(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),Hb={class:"dashboard-actions"},Kb=rt(()=>s("option",{value:""},"All Categories",-1)),Qb=rt(()=>s("option",{value:"Country Results Framework"},"Country Results Framework",-1)),zb=rt(()=>s("option",{value:"Regional Results Framework"},"Regional Results Framework",-1)),Wb=[Kb,Qb,zb],Gb=rt(()=>s("i",{class:"fas fa-file-export"},null,-1)),Jb=rt(()=>s("i",{class:"fas fa-plus"},null,-1)),Xb={class:"indicator-grid card"},Zb={class:"card-content card-body"},ew={style:{color:"#7239EA"}},tw={style:{color:"black"}},sw={class:"card-actions card-footer"},nw=["onClick"],ow=rt(()=>s("i",{style:{color:"#7239EA"},class:"fas fa-edit"},null,-1)),iw=[ow],rw=["onClick"],aw=rt(()=>s("i",{style:{color:"#F8285A !important"},class:"fas fa-trash"},null,-1)),lw=[aw],cw=["onClick"],dw=rt(()=>s("i",{style:{color:"#F6C000"},class:"fas fa-eye"},null,-1)),uw=[dw],hw={class:"form-group"},fw=rt(()=>s("label",{for:"indicator"},"Indicator",-1)),pw={class:"form-group"},mw=rt(()=>s("label",{for:"indicatorDefinition"},"Definition",-1)),gw={class:"form-group"},_w=rt(()=>s("label",{for:"indicatorPrimaryCategory"},"Primary Category",-1)),vw=rt(()=>s("option",{value:""},"Select Primary Category",-1)),yw=rt(()=>s("option",{value:"Country Results Framework"},"Country Results Framework",-1)),bw=rt(()=>s("option",{value:"Regional Results Framework"},"Regional Results Framework",-1)),ww=[vw,yw,bw],Ew={class:"form-group"},Iw=rt(()=>s("label",{for:"indicatorSecondaryCategory"},"Secondary Category",-1)),xw=We('<option value="" data-v-81588274>Select Secondary Category</option><option value="Project Development Objective Indicators" data-v-81588274>Project Development Objective Indicators</option><option value="Intermediate Results Indicators" data-v-81588274>Intermediate Results Indicators</option><option value="Regional Project Development Objective Indicators" data-v-81588274>Regional Project Development Objective Indicators</option><option value="Regional Intermediate Results Indicators" data-v-81588274>Regional Intermediate Results Indicators</option>',5),Cw=[xw],Sw={class:"form-group"},Rw=rt(()=>s("label",{for:"indicatorQuestion"},"Question",-1)),$w={class:"form-group"},kw=rt(()=>s("label",{for:"remarksComments"},"Remarks/Comments",-1)),Tw={class:"form-group"},Aw=rt(()=>s("label",{for:"responseType"},"Response Type",-1)),Dw=We('<option value="" data-v-81588274>Select Response Type</option><option value="Yes/No" data-v-81588274>Yes/No</option><option value="Percentage" data-v-81588274>Percentage</option><option value="Number" data-v-81588274>Number</option><option value="Text" data-v-81588274>Text</option><option value="Date" data-v-81588274>Date</option>',6),Pw=[Dw],Ow={class:"form-group"},Fw=rt(()=>s("label",{for:"reportingPeriod"},"Reporting Period",-1)),Lw=rt(()=>s("option",{value:""},"Select Reporting Period",-1)),Mw=rt(()=>s("option",{value:"Annual Report"},"Annual Report",-1)),Nw=rt(()=>s("option",{value:"Bi-Annual Report"},"Bi-Annual Report",-1)),Bw=rt(()=>s("option",{value:"Quarterly Report"},"Quarterly Report",-1)),jw=[Lw,Mw,Nw,Bw],Vw={class:"form-group"},Uw=rt(()=>s("label",{for:"baselinePAD2023"},"Baseline PAD 2023",-1)),Yw={class:"form-group"},qw=rt(()=>s("label",{for:"baseline2024"},"Baseline 2024",-1)),Hw={class:"form-group"},Kw=rt(()=>s("label",{for:"targetYearOne2024"},"Target 2024",-1)),Qw={class:"form-group"},zw=rt(()=>s("label",{for:"targetYearTwo2025"},"Target 2025",-1)),Ww={class:"form-group"},Gw=rt(()=>s("label",{for:"targetYearThree2026"},"Target 2026",-1)),Jw={class:"form-group"},Xw=rt(()=>s("label",{for:"targetYearFour2027"},"Target 2027",-1)),Zw={class:"form-group"},e1=rt(()=>s("label",{for:"targetYearFive2028"},"Target 2028",-1)),t1={class:"form-group"},s1=rt(()=>s("label",{for:"targetYearSix2029"},"Target 2029",-1)),n1={class:"form-group"},o1=rt(()=>s("label",{for:"targetYearSeven2030"},"Target 2030",-1)),i1={class:"modal-actions"},r1={type:"submit",class:"btn btn-primary"},a1=rt(()=>s("h2",null,"Indicator Details",-1)),l1={key:0,class:"indicator-details"},c1={__name:"MgtIndicators",setup(e){const t=ys(),o=j([]),n=j(""),i=j(""),l=j(""),a=j(!1),r=j(!1),d=j(!1),u=j({}),h=[{key:"Indicator",label:"Indicator"},{key:"IndicatorDefinition",label:"Definition"},{key:"IndicatorPrimaryCategory",label:"Primary Category"},{key:"IndicatorSecondaryCategory",label:"Secondary Category"},{key:"IndicatorQuestion",label:"Question"},{key:"RemarksComments",label:"Remarks/Comments"},{key:"ResponseType",label:"Response Type"},{key:"ReportingPeriod",label:"Reporting Period"},{key:"BaselinePAD2023",label:"Baseline PAD 2023"},{key:"Baseline2024",label:"Baseline 2024"},{key:"TargetYearOne2024",label:"Target 2024"},{key:"TargetYearTwo2025",label:"Target 2025"},{key:"TargetYearThree2026",label:"Target 2026"},{key:"TargetYearFour2027",label:"Target 2027"},{key:"TargetYearFive2028",label:"Target 2028"},{key:"TargetYearSix2029",label:"Target 2029"},{key:"TargetYearSeven2030",label:"Target 2030"}],p=w=>{u.value={...w},r.value=!0},g=()=>{r.value=!1,u.value={}},_=ot(()=>o.value.filter(w=>w.Indicator.toLowerCase().includes(i.value.toLowerCase())&&(l.value===""||w.IndicatorPrimaryCategory===l.value))),x=async()=>{try{const w=await me.collection("mpa_entities").getFirstListItem(`EntityID="${t.query.entityid}"`);n.value=w.Entity;const I=await me.collection("mpa_project_indicators").getFullList({filter:`EntityID="${t.query.entityid.toLowerCase()}"`});o.value=I}catch(w){console.error("Error fetching data:",w),te.fire("Error","Failed to fetch indicators","error")}},S=()=>{u.value={Indicator:"",IndicatorDefinition:"",IndicatorPrimaryCategory:"",IndicatorSecondaryCategory:"",IndicatorQuestion:"",RemarksComments:"",ResponseType:"",ReportingPeriod:"",BaselinePAD2023:"",Baseline2024:"",TargetYearOne2024:"",TargetYearTwo2025:"",TargetYearThree2026:"",TargetYearFour2027:"",TargetYearFive2028:"",TargetYearSix2029:"",TargetYearSeven2030:""},d.value=!1,a.value=!0},Y=w=>{u.value={...w},d.value=!0,a.value=!0},U=()=>{a.value=!1,u.value={}},V=async()=>{try{if(d.value)await me.collection("mpa_project_indicators").update(u.value.id,u.value),te.fire("Success","Indicator updated successfully","success");else{const w={...u.value,EntityID:t.query.entityid.toLowerCase(),IID:await re()};await me.collection("mpa_project_indicators").create(w),te.fire("Success","Indicator added successfully","success")}await x(),U()}catch(w){console.error("Error submitting form:",w),te.fire("Error",`Failed to ${d.value?"update":"add"} indicator: ${w.message}`,"error")}},Q=w=>{te.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async I=>{if(I.isConfirmed)try{await me.collection("mpa_project_indicators").delete(w.id),await x(),te.fire("Deleted!","Your indicator has been deleted.","success")}catch(R){console.error("Error deleting indicator:",R),te.fire("Error","Failed to delete indicator","error")}})},re=async()=>Math.floor(Date.now()/1e3).toString(),Re=(w,I)=>w.length>I?w.substring(0,I)+"...":w,O=w=>w==="Country Results Framework"?"country":"regional",H=()=>{const w=["Indicator","IndicatorDefinition","IndicatorPrimaryCategory","IndicatorSecondaryCategory","IndicatorQuestion","RemarksComments","ResponseType","ReportingPeriod","BaselinePAD2023","Baseline2024","TargetYearOne2024","TargetYearTwo2025","TargetYearThree2026","TargetYearFour2027","TargetYearFive2028","TargetYearSix2029","TargetYearSeven2030"],I=[w.join(","),...o.value.map(m=>w.map(b=>JSON.stringify(m[b]||"")).join(","))].join(`
`),R=new Blob([I],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a");if(A.download!==void 0){const m=URL.createObjectURL(R);A.setAttribute("href",m),A.setAttribute("download",`indicators_${n.value}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)}};return dt(x),(w,I)=>(P(),N("div",Vb,[s("header",Ub,[s("h1",null,"Manage Project Indicators for "+D(n.value),1),s("div",Yb,[oe(s("input",{"onUpdate:modelValue":I[0]||(I[0]=R=>i.value=R),placeholder:"Search indicators...",class:"search-input"},null,512),[[ve,i.value]]),qb]),s("div",Hb,[oe(s("select",{"onUpdate:modelValue":I[1]||(I[1]=R=>l.value=R),class:"filter-select"},Wb,512),[[it,l.value]]),s("button",{onClick:H,class:"btn btn-export"},[Gb,J(" Export to CSV ")]),s("button",{onClick:S,class:"btn btn-add"},[Jb,J(" Add Indicator ")])])]),s("div",Xb,[(P(!0),N(Te,null,Fe(_.value,R=>(P(),N("div",{key:R.id,class:"indicator-card"},[s("div",Zb,[s("h3",ew,D(R.Indicator),1),s("p",tw,D(Re(R.IndicatorDefinition,100)),1),s("span",{class:nt(["badge",O(R.IndicatorPrimaryCategory)])},D(R.IndicatorPrimaryCategory),3),s("div",sw,[s("button",{onClick:A=>Y(R),class:"btn-icon btn-danger btn",title:"Edit"},iw,8,nw),s("button",{onClick:A=>Q(R),class:"btn-icon btn-info btn",title:"Delete"},lw,8,rw),s("button",{onClick:A=>p(R),class:"btn-icon btn-info btn",title:"View"},uw,8,cw)])])]))),128))]),a.value?(P(),N("div",{key:0,class:"modal-overlay",onClick:U},[s("div",{class:"modal-content",onClick:I[19]||(I[19]=Xe(()=>{},["stop"]))},[s("h2",null,D(d.value?"Edit Indicator":"Add New Indicator"),1),s("form",{onSubmit:Xe(V,["prevent"])},[s("div",hw,[fw,oe(s("input",{id:"indicator","onUpdate:modelValue":I[2]||(I[2]=R=>u.value.Indicator=R),required:""},null,512),[[ve,u.value.Indicator]])]),s("div",pw,[mw,oe(s("textarea",{id:"indicatorDefinition","onUpdate:modelValue":I[3]||(I[3]=R=>u.value.IndicatorDefinition=R),required:""},null,512),[[ve,u.value.IndicatorDefinition]])]),s("div",gw,[_w,oe(s("select",{id:"indicatorPrimaryCategory","onUpdate:modelValue":I[4]||(I[4]=R=>u.value.IndicatorPrimaryCategory=R),required:""},ww,512),[[it,u.value.IndicatorPrimaryCategory]])]),s("div",Ew,[Iw,oe(s("select",{id:"indicatorSecondaryCategory","onUpdate:modelValue":I[5]||(I[5]=R=>u.value.IndicatorSecondaryCategory=R),required:""},Cw,512),[[it,u.value.IndicatorSecondaryCategory]])]),s("div",Sw,[Rw,oe(s("textarea",{id:"indicatorQuestion","onUpdate:modelValue":I[6]||(I[6]=R=>u.value.IndicatorQuestion=R),required:""},null,512),[[ve,u.value.IndicatorQuestion]])]),s("div",$w,[kw,oe(s("textarea",{id:"remarksComments","onUpdate:modelValue":I[7]||(I[7]=R=>u.value.RemarksComments=R)},null,512),[[ve,u.value.RemarksComments]])]),s("div",Tw,[Aw,oe(s("select",{id:"responseType","onUpdate:modelValue":I[8]||(I[8]=R=>u.value.ResponseType=R),required:""},Pw,512),[[it,u.value.ResponseType]])]),s("div",Ow,[Fw,oe(s("select",{id:"reportingPeriod","onUpdate:modelValue":I[9]||(I[9]=R=>u.value.ReportingPeriod=R),required:""},jw,512),[[it,u.value.ReportingPeriod]])]),s("div",Vw,[Uw,oe(s("input",{id:"baselinePAD2023","onUpdate:modelValue":I[10]||(I[10]=R=>u.value.BaselinePAD2023=R)},null,512),[[ve,u.value.BaselinePAD2023]])]),s("div",Yw,[qw,oe(s("input",{id:"baseline2024","onUpdate:modelValue":I[11]||(I[11]=R=>u.value.Baseline2024=R)},null,512),[[ve,u.value.Baseline2024]])]),s("div",Hw,[Kw,oe(s("input",{id:"targetYearOne2024","onUpdate:modelValue":I[12]||(I[12]=R=>u.value.TargetYearOne2024=R)},null,512),[[ve,u.value.TargetYearOne2024]])]),s("div",Qw,[zw,oe(s("input",{id:"targetYearTwo2025","onUpdate:modelValue":I[13]||(I[13]=R=>u.value.TargetYearTwo2025=R)},null,512),[[ve,u.value.TargetYearTwo2025]])]),s("div",Ww,[Gw,oe(s("input",{id:"targetYearThree2026","onUpdate:modelValue":I[14]||(I[14]=R=>u.value.TargetYearThree2026=R)},null,512),[[ve,u.value.TargetYearThree2026]])]),s("div",Jw,[Xw,oe(s("input",{id:"targetYearFour2027","onUpdate:modelValue":I[15]||(I[15]=R=>u.value.TargetYearFour2027=R)},null,512),[[ve,u.value.TargetYearFour2027]])]),s("div",Zw,[e1,oe(s("input",{id:"targetYearFive2028","onUpdate:modelValue":I[16]||(I[16]=R=>u.value.TargetYearFive2028=R)},null,512),[[ve,u.value.TargetYearFive2028]])]),s("div",t1,[s1,oe(s("input",{id:"targetYearSix2029","onUpdate:modelValue":I[17]||(I[17]=R=>u.value.TargetYearSix2029=R)},null,512),[[ve,u.value.TargetYearSix2029]])]),s("div",n1,[o1,oe(s("input",{id:"targetYearSeven2030","onUpdate:modelValue":I[18]||(I[18]=R=>u.value.TargetYearSeven2030=R)},null,512),[[ve,u.value.TargetYearSeven2030]])]),s("div",i1,[s("button",r1,D(d.value?"Update":"Add"),1),s("button",{type:"button",onClick:U,class:"btn btn-secondary"},"Cancel")])],32)])])):lt("",!0),r.value?(P(),N("div",{key:1,class:"modal-overlay",onClick:g},[s("div",{class:"modal-content view-modal",onClick:I[20]||(I[20]=Xe(()=>{},["stop"]))},[a1,u.value?(P(),N("div",l1,[(P(),N(Te,null,Fe(h,R=>s("div",{key:R.key,class:"detail-item"},[s("strong",null,D(R.label)+":",1),s("span",null,D(u.value[R.key]),1)])),64))])):lt("",!0),s("button",{onClick:g,class:"btn btn-secondary"},"Close")])])):lt("",!0)]))}},d1=Ue(c1,[["__scopeId","data-v-81588274"]]);var Bc={exports:{}};/*! choices.js v10.2.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */(function(e,t){(function(n,i){e.exports=i()})(window,function(){return function(){var o={282:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0}),r.clearChoices=r.activateChoices=r.filterChoices=r.addChoice=void 0;var u=d(883),h=function(x){var S=x.value,Y=x.label,U=x.id,V=x.groupId,Q=x.disabled,re=x.elementId,Re=x.customProperties,O=x.placeholder,H=x.keyCode;return{type:u.ACTION_TYPES.ADD_CHOICE,value:S,label:Y,id:U,groupId:V,disabled:Q,elementId:re,customProperties:Re,placeholder:O,keyCode:H}};r.addChoice=h;var p=function(x){return{type:u.ACTION_TYPES.FILTER_CHOICES,results:x}};r.filterChoices=p;var g=function(x){return x===void 0&&(x=!0),{type:u.ACTION_TYPES.ACTIVATE_CHOICES,active:x}};r.activateChoices=g;var _=function(){return{type:u.ACTION_TYPES.CLEAR_CHOICES}};r.clearChoices=_},783:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0}),r.addGroup=void 0;var u=d(883),h=function(p){var g=p.value,_=p.id,x=p.active,S=p.disabled;return{type:u.ACTION_TYPES.ADD_GROUP,value:g,id:_,active:x,disabled:S}};r.addGroup=h},464:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0}),r.highlightItem=r.removeItem=r.addItem=void 0;var u=d(883),h=function(_){var x=_.value,S=_.label,Y=_.id,U=_.choiceId,V=_.groupId,Q=_.customProperties,re=_.placeholder,Re=_.keyCode;return{type:u.ACTION_TYPES.ADD_ITEM,value:x,label:S,id:Y,choiceId:U,groupId:V,customProperties:Q,placeholder:re,keyCode:Re}};r.addItem=h;var p=function(_,x){return{type:u.ACTION_TYPES.REMOVE_ITEM,id:_,choiceId:x}};r.removeItem=p;var g=function(_,x){return{type:u.ACTION_TYPES.HIGHLIGHT_ITEM,id:_,highlighted:x}};r.highlightItem=g},137:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0}),r.setIsLoading=r.resetTo=r.clearAll=void 0;var u=d(883),h=function(){return{type:u.ACTION_TYPES.CLEAR_ALL}};r.clearAll=h;var p=function(_){return{type:u.ACTION_TYPES.RESET_TO,state:_}};r.resetTo=p;var g=function(_){return{type:u.ACTION_TYPES.SET_IS_LOADING,isLoading:_}};r.setIsLoading=g},373:function(a,r,d){var u=this&&this.__spreadArray||function(A,m,b){if(b||arguments.length===2)for(var C=0,F=m.length,q;C<F;C++)(q||!(C in m))&&(q||(q=Array.prototype.slice.call(m,0,C)),q[C]=m[C]);return A.concat(q||Array.prototype.slice.call(m))},h=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(r,"__esModule",{value:!0});var p=h(d(996)),g=h(d(221)),_=d(282),x=d(783),S=d(464),Y=d(137),U=d(520),V=d(883),Q=d(789),re=d(799),Re=d(655),O=h(d(744)),H=h(d(686)),w="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,I={},R=function(){function A(m,b){m===void 0&&(m="[data-choice]"),b===void 0&&(b={});var C=this;b.allowHTML===void 0&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=p.default.all([Q.DEFAULT_CONFIG,A.defaults.options,b],{arrayMerge:function(xe,pe){return u([],pe,!0)}});var F=(0,re.diff)(this.config,Q.DEFAULT_CONFIG);F.length&&console.warn("Unknown config option(s) passed",F.join(", "));var q=typeof m=="string"?document.querySelector(m):m;if(!(q instanceof HTMLInputElement||q instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=q.type===V.TEXT_TYPE,this._isSelectOneElement=q.type===V.SELECT_ONE_TYPE,this._isSelectMultipleElement=q.type===V.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),b.addItemFilter&&typeof b.addItemFilter!="function"){var z=b.addItemFilter instanceof RegExp?b.addItemFilter:new RegExp(b.addItemFilter);this.config.addItemFilter=z.test.bind(z)}if(this._isTextElement?this.passedElement=new U.WrappedInput({element:q,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new U.WrappedSelect({element:q,classNames:this.config.classNames,template:function(xe){return C._templates.option(xe)}}),this.initialised=!1,this._store=new O.default,this._initialState=Re.defaultState,this._currentState=Re.defaultState,this._prevState=Re.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,re.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var ie=window.getComputedStyle(this.passedElement.element).direction,G=window.getComputedStyle(document.documentElement).direction;ie!==G&&(this._direction=ie)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var de=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(de)}if(this.passedElement.options&&this.passedElement.options.forEach(function(xe){C._presetChoices.push({value:xe.value,label:xe.innerHTML,selected:!!xe.selected,disabled:xe.disabled||xe.parentNode.disabled,placeholder:xe.value===""||xe.hasAttribute("placeholder"),customProperties:(0,re.parseCustomProperties)(xe.dataset.customProperties)})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:m}),this.initialised=!0;return}this.init()}return Object.defineProperty(A,"defaults",{get:function(){return Object.preventExtensions({get options(){return I},get templates(){return H.default}})},enumerable:!1,configurable:!0}),A.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var m=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");m&&this.disable(),this.initialised=!0;var b=this.config.callbackOnInit;b&&typeof b=="function"&&b.call(this)}},A.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=H.default,this.initialised=!1)},A.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},A.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},A.prototype.highlightItem=function(m,b){if(b===void 0&&(b=!0),!m||!m.id)return this;var C=m.id,F=m.groupId,q=F===void 0?-1:F,z=m.value,ie=z===void 0?"":z,G=m.label,de=G===void 0?"":G,xe=q>=0?this._store.getGroupById(q):null;return this._store.dispatch((0,S.highlightItem)(C,!0)),b&&this.passedElement.triggerEvent(V.EVENTS.highlightItem,{id:C,value:ie,label:de,groupValue:xe&&xe.value?xe.value:null}),this},A.prototype.unhighlightItem=function(m){if(!m||!m.id)return this;var b=m.id,C=m.groupId,F=C===void 0?-1:C,q=m.value,z=q===void 0?"":q,ie=m.label,G=ie===void 0?"":ie,de=F>=0?this._store.getGroupById(F):null;return this._store.dispatch((0,S.highlightItem)(b,!1)),this.passedElement.triggerEvent(V.EVENTS.highlightItem,{id:b,value:z,label:G,groupValue:de&&de.value?de.value:null}),this},A.prototype.highlightAll=function(){var m=this;return this._store.items.forEach(function(b){return m.highlightItem(b)}),this},A.prototype.unhighlightAll=function(){var m=this;return this._store.items.forEach(function(b){return m.unhighlightItem(b)}),this},A.prototype.removeActiveItemsByValue=function(m){var b=this;return this._store.activeItems.filter(function(C){return C.value===m}).forEach(function(C){return b._removeItem(C)}),this},A.prototype.removeActiveItems=function(m){var b=this;return this._store.activeItems.filter(function(C){var F=C.id;return F!==m}).forEach(function(C){return b._removeItem(C)}),this},A.prototype.removeHighlightedItems=function(m){var b=this;return m===void 0&&(m=!1),this._store.highlightedActiveItems.forEach(function(C){b._removeItem(C),m&&b._triggerChange(C.value)}),this},A.prototype.showDropdown=function(m){var b=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){b.dropdown.show(),b.containerOuter.open(b.dropdown.distanceFromTopWindow),!m&&b._canSearch&&b.input.focus(),b.passedElement.triggerEvent(V.EVENTS.showDropdown,{})}),this)},A.prototype.hideDropdown=function(m){var b=this;return this.dropdown.isActive?(requestAnimationFrame(function(){b.dropdown.hide(),b.containerOuter.close(),!m&&b._canSearch&&(b.input.removeActiveDescendant(),b.input.blur()),b.passedElement.triggerEvent(V.EVENTS.hideDropdown,{})}),this):this},A.prototype.getValue=function(m){m===void 0&&(m=!1);var b=this._store.activeItems.reduce(function(C,F){var q=m?F.value:F;return C.push(q),C},[]);return this._isSelectOneElement?b[0]:b},A.prototype.setValue=function(m){var b=this;return this.initialised?(m.forEach(function(C){return b._setChoiceOrItem(C)}),this):this},A.prototype.setChoiceByValue=function(m){var b=this;if(!this.initialised||this._isTextElement)return this;var C=Array.isArray(m)?m:[m];return C.forEach(function(F){return b._findAndSelectChoiceByValue(F)}),this},A.prototype.setChoices=function(m,b,C,F){var q=this;if(m===void 0&&(m=[]),b===void 0&&(b="value"),C===void 0&&(C="label"),F===void 0&&(F=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof b!="string"||!b)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(F&&this.clearChoices(),typeof m=="function"){var z=m(this);if(typeof Promise=="function"&&z instanceof Promise)return new Promise(function(ie){return requestAnimationFrame(ie)}).then(function(){return q._handleLoadingState(!0)}).then(function(){return z}).then(function(ie){return q.setChoices(ie,b,C,F)}).catch(function(ie){q.config.silent||console.error(ie)}).then(function(){return q._handleLoadingState(!1)}).then(function(){return q});if(!Array.isArray(z))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof z));return this.setChoices(z,b,C,!1)}if(!Array.isArray(m))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),m.forEach(function(ie){if(ie.choices)q._addGroup({id:ie.id?parseInt("".concat(ie.id),10):null,group:ie,valueKey:b,labelKey:C});else{var G=ie;q._addChoice({value:G[b],label:G[C],isSelected:!!G.selected,isDisabled:!!G.disabled,placeholder:!!G.placeholder,customProperties:G.customProperties})}}),this._stopLoading(),this},A.prototype.clearChoices=function(){return this._store.dispatch((0,_.clearChoices)()),this},A.prototype.clearStore=function(){return this._store.dispatch((0,Y.clearAll)()),this},A.prototype.clearInput=function(){var m=!this._isSelectOneElement;return this.input.clear(m),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,_.activateChoices)(!0))),this},A.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var m=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,b=this._isSelectElement,C=this._currentState.items!==this._prevState.items;m&&(b&&this._renderChoices(),C&&this._renderItems(),this._prevState=this._currentState)}},A.prototype._renderChoices=function(){var m=this,b=this._store,C=b.activeGroups,F=b.activeChoices,q=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return m.choiceList.scrollToTop()}),C.length>=1&&!this._isSearching){var z=F.filter(function(pe){return pe.placeholder===!0&&pe.groupId===-1});z.length>=1&&(q=this._createChoicesFragment(z,q)),q=this._createGroupsFragment(C,F,q)}else F.length>=1&&(q=this._createChoicesFragment(F,q));if(q.childNodes&&q.childNodes.length>0){var ie=this._store.activeItems,G=this._canAddItem(ie,this.input.value);if(G.response)this.choiceList.append(q),this._highlightChoice();else{var de=this._getTemplate("notice",G.notice);this.choiceList.append(de)}}else{var xe=void 0,de=void 0;this._isSearching?(de=typeof this.config.noResultsText=="function"?this.config.noResultsText():this.config.noResultsText,xe=this._getTemplate("notice",de,"no-results")):(de=typeof this.config.noChoicesText=="function"?this.config.noChoicesText():this.config.noChoicesText,xe=this._getTemplate("notice",de,"no-choices")),this.choiceList.append(xe)}},A.prototype._renderItems=function(){var m=this._store.activeItems||[];this.itemList.clear();var b=this._createItemsFragment(m);b.childNodes&&this.itemList.append(b)},A.prototype._createGroupsFragment=function(m,b,C){var F=this;C===void 0&&(C=document.createDocumentFragment());var q=function(z){return b.filter(function(ie){return F._isSelectOneElement?ie.groupId===z.id:ie.groupId===z.id&&(F.config.renderSelectedChoices==="always"||!ie.selected)})};return this.config.shouldSort&&m.sort(this.config.sorter),m.forEach(function(z){var ie=q(z);if(ie.length>=1){var G=F._getTemplate("choiceGroup",z);C.appendChild(G),F._createChoicesFragment(ie,C,!0)}}),C},A.prototype._createChoicesFragment=function(m,b,C){var F=this;b===void 0&&(b=document.createDocumentFragment()),C===void 0&&(C=!1);var q=this.config,z=q.renderSelectedChoices,ie=q.searchResultLimit,G=q.renderChoiceLimit,de=this._isSearching?re.sortByScore:this.config.sorter,xe=function(T){var B=z==="auto"?F._isSelectOneElement||!T.selected:!0;if(B){var ne=F._getTemplate("choice",T,F.config.itemSelectText);b.appendChild(ne)}},pe=m;z==="auto"&&!this._isSelectOneElement&&(pe=m.filter(function(T){return!T.selected}));var Pe=pe.reduce(function(T,B){return B.placeholder?T.placeholderChoices.push(B):T.normalChoices.push(B),T},{placeholderChoices:[],normalChoices:[]}),K=Pe.placeholderChoices,Be=Pe.normalChoices;(this.config.shouldSort||this._isSearching)&&Be.sort(de);var Me=pe.length,Z=this._isSelectOneElement?u(u([],K,!0),Be,!0):Be;this._isSearching?Me=ie:G&&G>0&&!C&&(Me=G);for(var k=0;k<Me;k+=1)Z[k]&&xe(Z[k]);return b},A.prototype._createItemsFragment=function(m,b){var C=this;b===void 0&&(b=document.createDocumentFragment());var F=this.config,q=F.shouldSortItems,z=F.sorter,ie=F.removeItemButton;q&&!this._isSelectOneElement&&m.sort(z),this._isTextElement?this.passedElement.value=m.map(function(de){var xe=de.value;return xe}).join(this.config.delimiter):this.passedElement.options=m;var G=function(de){var xe=C._getTemplate("item",de,ie);b.appendChild(xe)};return m.forEach(G),b},A.prototype._triggerChange=function(m){m!=null&&this.passedElement.triggerEvent(V.EVENTS.change,{value:m})},A.prototype._selectPlaceholderChoice=function(m){this._addItem({value:m.value,label:m.label,choiceId:m.id,groupId:m.groupId,placeholder:m.placeholder}),this._triggerChange(m.value)},A.prototype._handleButtonAction=function(m,b){if(!(!m||!b||!this.config.removeItems||!this.config.removeItemButton)){var C=b.parentNode&&b.parentNode.dataset.id,F=C&&m.find(function(q){return q.id===parseInt(C,10)});F&&(this._removeItem(F),this._triggerChange(F.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},A.prototype._handleItemAction=function(m,b,C){var F=this;if(C===void 0&&(C=!1),!(!m||!b||!this.config.removeItems||this._isSelectOneElement)){var q=b.dataset.id;m.forEach(function(z){z.id===parseInt("".concat(q),10)&&!z.highlighted?F.highlightItem(z):!C&&z.highlighted&&F.unhighlightItem(z)}),this.input.focus()}},A.prototype._handleChoiceAction=function(m,b){if(!(!m||!b)){var C=b.dataset.id,F=C&&this._store.getChoiceById(C);if(F){var q=m[0]&&m[0].keyCode?m[0].keyCode:void 0,z=this.dropdown.isActive;if(F.keyCode=q,this.passedElement.triggerEvent(V.EVENTS.choice,{choice:F}),!F.selected&&!F.disabled){var ie=this._canAddItem(m,F.value);ie.response&&(this._addItem({value:F.value,label:F.label,choiceId:F.id,groupId:F.groupId,customProperties:F.customProperties,placeholder:F.placeholder,keyCode:F.keyCode}),this._triggerChange(F.value))}this.clearInput(),z&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},A.prototype._handleBackspace=function(m){if(!(!this.config.removeItems||!m)){var b=m[m.length-1],C=m.some(function(F){return F.highlighted});this.config.editItems&&!C&&b?(this.input.value=b.value,this.input.setWidth(),this._removeItem(b),this._triggerChange(b.value)):(C||this.highlightItem(b,!1),this.removeHighlightedItems(!0))}},A.prototype._startLoading=function(){this._store.dispatch((0,Y.setIsLoading)(!0))},A.prototype._stopLoading=function(){this._store.dispatch((0,Y.setIsLoading)(!1))},A.prototype._handleLoadingState=function(m){m===void 0&&(m=!0);var b=this.itemList.getChild(".".concat(this.config.classNames.placeholder));m?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?b?b.innerHTML=this.config.loadingText:(b=this._getTemplate("placeholder",this.config.loadingText),b&&this.itemList.append(b)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?b&&(b.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},A.prototype._handleSearch=function(m){if(this.input.isFocussed){var b=this._store.choices,C=this.config,F=C.searchFloor,q=C.searchChoices,z=b.some(function(G){return!G.active});if(m!==null&&typeof m<"u"&&m.length>=F){var ie=q?this._searchChoices(m):0;this.passedElement.triggerEvent(V.EVENTS.search,{value:m,resultCount:ie})}else z&&(this._isSearching=!1,this._store.dispatch((0,_.activateChoices)(!0)))}},A.prototype._canAddItem=function(m,b){var C=!0,F=typeof this.config.addItemText=="function"?this.config.addItemText(b):this.config.addItemText;if(!this._isSelectOneElement){var q=(0,re.existsInArray)(m,b);this.config.maxItemCount>0&&this.config.maxItemCount<=m.length&&(C=!1,F=typeof this.config.maxItemText=="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&q&&C&&(C=!1,F=typeof this.config.uniqueItemText=="function"?this.config.uniqueItemText(b):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&C&&typeof this.config.addItemFilter=="function"&&!this.config.addItemFilter(b)&&(C=!1,F=typeof this.config.customAddItemText=="function"?this.config.customAddItemText(b):this.config.customAddItemText)}return{response:C,notice:F}},A.prototype._searchChoices=function(m){var b=typeof m=="string"?m.trim():m,C=typeof this._currentValue=="string"?this._currentValue.trim():this._currentValue;if(b.length<1&&b==="".concat(C," "))return 0;var F=this._store.searchableChoices,q=b,z=Object.assign(this.config.fuseOptions,{keys:u([],this.config.searchFields,!0),includeMatches:!0}),ie=new g.default(F,z),G=ie.search(q);return this._currentValue=b,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,_.filterChoices)(G)),G.length},A.prototype._addEventListeners=function(){var m=document.documentElement;m.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),m.addEventListener("click",this._onClick,{passive:!0}),m.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},A.prototype._removeEventListeners=function(){var m=document.documentElement;m.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),m.removeEventListener("click",this._onClick),m.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},A.prototype._onKeyDown=function(m){var b=m.keyCode,C=this._store.activeItems,F=this.input.isFocussed,q=this.dropdown.isActive,z=this.itemList.hasChildren(),ie=String.fromCharCode(b),G=/[^\x00-\x1F]/.test(ie),de=V.KEY_CODES.BACK_KEY,xe=V.KEY_CODES.DELETE_KEY,pe=V.KEY_CODES.ENTER_KEY,Pe=V.KEY_CODES.A_KEY,K=V.KEY_CODES.ESC_KEY,Be=V.KEY_CODES.UP_KEY,Me=V.KEY_CODES.DOWN_KEY,Z=V.KEY_CODES.PAGE_UP_KEY,k=V.KEY_CODES.PAGE_DOWN_KEY;switch(!this._isTextElement&&!q&&G&&(this.showDropdown(),this.input.isFocussed||(this.input.value+=m.key.toLowerCase())),b){case Pe:return this._onSelectKey(m,z);case pe:return this._onEnterKey(m,C,q);case K:return this._onEscapeKey(q);case Be:case Z:case Me:case k:return this._onDirectionKey(m,q);case xe:case de:return this._onDeleteKey(m,C,F)}},A.prototype._onKeyUp=function(m){var b=m.target,C=m.keyCode,F=this.input.value,q=this._store.activeItems,z=this._canAddItem(q,F),ie=V.KEY_CODES.BACK_KEY,G=V.KEY_CODES.DELETE_KEY;if(this._isTextElement){var de=z.notice&&F;if(de){var xe=this._getTemplate("notice",z.notice);this.dropdown.element.innerHTML=xe.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var pe=C===ie||C===G,Pe=pe&&b&&!b.value,K=!this._isTextElement&&this._isSearching,Be=this._canSearch&&z.response;Pe&&K?(this._isSearching=!1,this._store.dispatch((0,_.activateChoices)(!0))):Be&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},A.prototype._onSelectKey=function(m,b){var C=m.ctrlKey,F=m.metaKey,q=C||F;if(q&&b){this._canSearch=!1;var z=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;z&&this.highlightAll()}},A.prototype._onEnterKey=function(m,b,C){var F=m.target,q=V.KEY_CODES.ENTER_KEY,z=F&&F.hasAttribute("data-button");if(this._isTextElement&&F&&F.value){var ie=this.input.value,G=this._canAddItem(b,ie);G.response&&(this.hideDropdown(!0),this._addItem({value:ie}),this._triggerChange(ie),this.clearInput())}if(z&&(this._handleButtonAction(b,F),m.preventDefault()),C){var de=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));de&&(b[0]&&(b[0].keyCode=q),this._handleChoiceAction(b,de)),m.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),m.preventDefault())},A.prototype._onEscapeKey=function(m){m&&(this.hideDropdown(!0),this.containerOuter.focus())},A.prototype._onDirectionKey=function(m,b){var C=m.keyCode,F=m.metaKey,q=V.KEY_CODES.DOWN_KEY,z=V.KEY_CODES.PAGE_UP_KEY,ie=V.KEY_CODES.PAGE_DOWN_KEY;if(b||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var G=C===q||C===ie?1:-1,de=F||C===ie||C===z,xe="[data-choice-selectable]",pe=void 0;if(de)G>0?pe=this.dropdown.element.querySelector("".concat(xe,":last-of-type")):pe=this.dropdown.element.querySelector(xe);else{var Pe=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));Pe?pe=(0,re.getAdjacentEl)(Pe,xe,G):pe=this.dropdown.element.querySelector(xe)}pe&&((0,re.isScrolledIntoView)(pe,this.choiceList.element,G)||this.choiceList.scrollToChildElement(pe,G),this._highlightChoice(pe)),m.preventDefault()}},A.prototype._onDeleteKey=function(m,b,C){var F=m.target;!this._isSelectOneElement&&!F.value&&C&&(this._handleBackspace(b),m.preventDefault())},A.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},A.prototype._onTouchEnd=function(m){var b=(m||m.touches[0]).target,C=this._wasTap&&this.containerOuter.element.contains(b);if(C){var F=b===this.containerOuter.element||b===this.containerInner.element;F&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),m.stopPropagation()}this._wasTap=!0},A.prototype._onMouseDown=function(m){var b=m.target;if(b instanceof HTMLElement){if(w&&this.choiceList.element.contains(b)){var C=this.choiceList.element.firstElementChild,F=this._direction==="ltr"?m.offsetX>=C.offsetWidth:m.offsetX<C.offsetLeft;this._isScrollingOnIe=F}if(b!==this.input.element){var q=b.closest("[data-button],[data-item],[data-choice]");if(q instanceof HTMLElement){var z=m.shiftKey,ie=this._store.activeItems,G=q.dataset;"button"in G?this._handleButtonAction(ie,q):"item"in G?this._handleItemAction(ie,q,z):"choice"in G&&this._handleChoiceAction(ie,q)}m.preventDefault()}}},A.prototype._onMouseOver=function(m){var b=m.target;b instanceof HTMLElement&&"choice"in b.dataset&&this._highlightChoice(b)},A.prototype._onClick=function(m){var b=m.target,C=this.containerOuter.element.contains(b);if(C)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):this._isSelectOneElement&&b!==this.input.element&&!this.dropdown.element.contains(b)&&this.hideDropdown();else{var F=this._store.highlightedActiveItems.length>0;F&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},A.prototype._onFocus=function(m){var b,C=this,F=m.target,q=F&&this.containerOuter.element.contains(F);if(q){var z=(b={},b[V.TEXT_TYPE]=function(){F===C.input.element&&C.containerOuter.addFocusState()},b[V.SELECT_ONE_TYPE]=function(){C.containerOuter.addFocusState(),F===C.input.element&&C.showDropdown(!0)},b[V.SELECT_MULTIPLE_TYPE]=function(){F===C.input.element&&(C.showDropdown(!0),C.containerOuter.addFocusState())},b);z[this.passedElement.element.type]()}},A.prototype._onBlur=function(m){var b,C=this,F=m.target,q=F&&this.containerOuter.element.contains(F);if(q&&!this._isScrollingOnIe){var z=this._store.activeItems,ie=z.some(function(de){return de.highlighted}),G=(b={},b[V.TEXT_TYPE]=function(){F===C.input.element&&(C.containerOuter.removeFocusState(),ie&&C.unhighlightAll(),C.hideDropdown(!0))},b[V.SELECT_ONE_TYPE]=function(){C.containerOuter.removeFocusState(),(F===C.input.element||F===C.containerOuter.element&&!C._canSearch)&&C.hideDropdown(!0)},b[V.SELECT_MULTIPLE_TYPE]=function(){F===C.input.element&&(C.containerOuter.removeFocusState(),C.hideDropdown(!0),ie&&C.unhighlightAll())},b);G[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},A.prototype._onFormReset=function(){this._store.dispatch((0,Y.resetTo)(this._initialState))},A.prototype._highlightChoice=function(m){var b=this;m===void 0&&(m=null);var C=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(C.length){var F=m,q=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));q.forEach(function(z){z.classList.remove(b.config.classNames.highlightedState),z.setAttribute("aria-selected","false")}),F?this._highlightPosition=C.indexOf(F):(C.length>this._highlightPosition?F=C[this._highlightPosition]:F=C[C.length-1],F||(F=C[0])),F.classList.add(this.config.classNames.highlightedState),F.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(V.EVENTS.highlightChoice,{el:F}),this.dropdown.isActive&&(this.input.setActiveDescendant(F.id),this.containerOuter.setActiveDescendant(F.id))}},A.prototype._addItem=function(m){var b=m.value,C=m.label,F=C===void 0?null:C,q=m.choiceId,z=q===void 0?-1:q,ie=m.groupId,G=ie===void 0?-1:ie,de=m.customProperties,xe=de===void 0?{}:de,pe=m.placeholder,Pe=pe===void 0?!1:pe,K=m.keyCode,Be=K===void 0?-1:K,Me=typeof b=="string"?b.trim():b,Z=this._store.items,k=F||Me,T=z||-1,B=G>=0?this._store.getGroupById(G):null,ne=Z?Z.length+1:1;this.config.prependValue&&(Me=this.config.prependValue+Me.toString()),this.config.appendValue&&(Me+=this.config.appendValue.toString()),this._store.dispatch((0,S.addItem)({value:Me,label:k,id:ne,choiceId:T,groupId:G,customProperties:xe,placeholder:Pe,keyCode:Be})),this._isSelectOneElement&&this.removeActiveItems(ne),this.passedElement.triggerEvent(V.EVENTS.addItem,{id:ne,value:Me,label:k,customProperties:xe,groupValue:B&&B.value?B.value:null,keyCode:Be})},A.prototype._removeItem=function(m){var b=m.id,C=m.value,F=m.label,q=m.customProperties,z=m.choiceId,ie=m.groupId,G=ie&&ie>=0?this._store.getGroupById(ie):null;!b||!z||(this._store.dispatch((0,S.removeItem)(b,z)),this.passedElement.triggerEvent(V.EVENTS.removeItem,{id:b,value:C,label:F,customProperties:q,groupValue:G&&G.value?G.value:null}))},A.prototype._addChoice=function(m){var b=m.value,C=m.label,F=C===void 0?null:C,q=m.isSelected,z=q===void 0?!1:q,ie=m.isDisabled,G=ie===void 0?!1:ie,de=m.groupId,xe=de===void 0?-1:de,pe=m.customProperties,Pe=pe===void 0?{}:pe,K=m.placeholder,Be=K===void 0?!1:K,Me=m.keyCode,Z=Me===void 0?-1:Me;if(!(typeof b>"u"||b===null)){var k=this._store.choices,T=F||b,B=k?k.length+1:1,ne="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(B);this._store.dispatch((0,_.addChoice)({id:B,groupId:xe,elementId:ne,value:b,label:T,disabled:G,customProperties:Pe,placeholder:Be,keyCode:Z})),z&&this._addItem({value:b,label:T,choiceId:B,customProperties:Pe,placeholder:Be,keyCode:Z})}},A.prototype._addGroup=function(m){var b=this,C=m.group,F=m.id,q=m.valueKey,z=q===void 0?"value":q,ie=m.labelKey,G=ie===void 0?"label":ie,de=(0,re.isType)("Object",C)?C.choices:Array.from(C.getElementsByTagName("OPTION")),xe=F||Math.floor(new Date().valueOf()*Math.random()),pe=C.disabled?C.disabled:!1;if(de){this._store.dispatch((0,x.addGroup)({value:C.label,id:xe,active:!0,disabled:pe}));var Pe=function(K){var Be=K.disabled||K.parentNode&&K.parentNode.disabled;b._addChoice({value:K[z],label:(0,re.isType)("Object",K)?K[G]:K.innerHTML,isSelected:K.selected,isDisabled:Be,groupId:xe,customProperties:K.customProperties,placeholder:K.placeholder})};de.forEach(Pe)}else this._store.dispatch((0,x.addGroup)({value:C.label,id:C.id,active:!1,disabled:C.disabled}))},A.prototype._getTemplate=function(m){for(var b,C=[],F=1;F<arguments.length;F++)C[F-1]=arguments[F];return(b=this._templates[m]).call.apply(b,u([this,this.config],C,!1))},A.prototype._createTemplates=function(){var m=this.config.callbackOnCreateTemplates,b={};m&&typeof m=="function"&&(b=m.call(this,re.strToEl)),this._templates=(0,p.default)(H.default,b)},A.prototype._createElements=function(){this.containerOuter=new U.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new U.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new U.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new U.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new U.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new U.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},A.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},A.prototype._addPredefinedGroups=function(m){var b=this,C=this.passedElement.placeholderOption;C&&C.parentNode&&C.parentNode.tagName==="SELECT"&&this._addChoice({value:C.value,label:C.innerHTML,isSelected:C.selected,isDisabled:C.disabled,placeholder:!0}),m.forEach(function(F){return b._addGroup({group:F,id:F.id||null})})},A.prototype._addPredefinedChoices=function(m){var b=this;this.config.shouldSort&&m.sort(this.config.sorter);var C=m.some(function(q){return q.selected}),F=m.findIndex(function(q){return q.disabled===void 0||!q.disabled});m.forEach(function(q,z){var ie=q.value,G=ie===void 0?"":ie,de=q.label,xe=q.customProperties,pe=q.placeholder;if(b._isSelectElement)if(q.choices)b._addGroup({group:q,id:q.id||null});else{var Pe=b._isSelectOneElement&&!C&&z===F,K=Pe?!0:q.selected,Be=q.disabled;b._addChoice({value:G,label:de,isSelected:!!K,isDisabled:!!Be,placeholder:!!pe,customProperties:xe})}else b._addChoice({value:G,label:de,isSelected:!!q.selected,isDisabled:!!q.disabled,placeholder:!!q.placeholder,customProperties:xe})})},A.prototype._addPredefinedItems=function(m){var b=this;m.forEach(function(C){typeof C=="object"&&C.value&&b._addItem({value:C.value,label:C.label,choiceId:C.id,customProperties:C.customProperties,placeholder:C.placeholder}),typeof C=="string"&&b._addItem({value:C})})},A.prototype._setChoiceOrItem=function(m){var b=this,C=(0,re.getType)(m).toLowerCase(),F={object:function(){m.value&&(b._isTextElement?b._addItem({value:m.value,label:m.label,choiceId:m.id,customProperties:m.customProperties,placeholder:m.placeholder}):b._addChoice({value:m.value,label:m.label,isSelected:!0,isDisabled:!1,customProperties:m.customProperties,placeholder:m.placeholder}))},string:function(){b._isTextElement?b._addItem({value:m}):b._addChoice({value:m,label:m,isSelected:!0,isDisabled:!1})}};F[C]()},A.prototype._findAndSelectChoiceByValue=function(m){var b=this,C=this._store.choices,F=C.find(function(q){return b.config.valueComparer(q.value,m)});F&&!F.selected&&this._addItem({value:F.value,label:F.label,choiceId:F.id,groupId:F.groupId,customProperties:F.customProperties,placeholder:F.placeholder,keyCode:F.keyCode})},A.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var m=this.passedElement.placeholderOption;return m?m.text:null}var b=this.config,C=b.placeholder,F=b.placeholderValue,q=this.passedElement.element.dataset;if(C){if(F)return F;if(q.placeholder)return q.placeholder}return null},A}();r.default=R},613:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0});var u=d(799),h=d(883),p=function(){function g(_){var x=_.element,S=_.type,Y=_.classNames,U=_.position;this.element=x,this.classNames=Y,this.type=S,this.position=U,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return g.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},g.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},g.prototype.shouldFlip=function(_){if(typeof _!="number")return!1;var x=!1;return this.position==="auto"?x=!window.matchMedia("(min-height: ".concat(_+1,"px)")).matches:this.position==="top"&&(x=!0),x},g.prototype.setActiveDescendant=function(_){this.element.setAttribute("aria-activedescendant",_)},g.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},g.prototype.open=function(_){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(_)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},g.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},g.prototype.focus=function(){this.isFocussed||this.element.focus()},g.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},g.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},g.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===h.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},g.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===h.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},g.prototype.wrap=function(_){(0,u.wrap)(_,this.element)},g.prototype.unwrap=function(_){this.element.parentNode&&(this.element.parentNode.insertBefore(_,this.element),this.element.parentNode.removeChild(this.element))},g.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},g.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},g.prototype._onFocus=function(){this.isFocussed=!0},g.prototype._onBlur=function(){this.isFocussed=!1},g}();r.default=p},217:function(a,r){Object.defineProperty(r,"__esModule",{value:!0});var d=function(){function u(h){var p=h.element,g=h.type,_=h.classNames;this.element=p,this.classNames=_,this.type=g,this.isActive=!1}return Object.defineProperty(u.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),u.prototype.getChild=function(h){return this.element.querySelector(h)},u.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},u.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},u}();r.default=d},520:function(a,r,d){var u=this&&this.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(r,"__esModule",{value:!0}),r.WrappedSelect=r.WrappedInput=r.List=r.Input=r.Container=r.Dropdown=void 0;var h=u(d(217));r.Dropdown=h.default;var p=u(d(613));r.Container=p.default;var g=u(d(11));r.Input=g.default;var _=u(d(624));r.List=_.default;var x=u(d(541));r.WrappedInput=x.default;var S=u(d(982));r.WrappedSelect=S.default},11:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0});var u=d(799),h=d(883),p=function(){function g(_){var x=_.element,S=_.type,Y=_.classNames,U=_.preventPaste;this.element=x,this.type=S,this.classNames=Y,this.preventPaste=U,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=x.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(g.prototype,"placeholder",{set:function(_){this.element.placeholder=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"value",{get:function(){return(0,u.sanitise)(this.element.value)},set:function(_){this.element.value=_},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),g.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},g.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},g.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},g.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},g.prototype.focus=function(){this.isFocussed||this.element.focus()},g.prototype.blur=function(){this.isFocussed&&this.element.blur()},g.prototype.clear=function(_){return _===void 0&&(_=!0),this.element.value&&(this.element.value=""),_&&this.setWidth(),this},g.prototype.setWidth=function(){var _=this.element,x=_.style,S=_.value,Y=_.placeholder;x.minWidth="".concat(Y.length+1,"ch"),x.width="".concat(S.length+1,"ch")},g.prototype.setActiveDescendant=function(_){this.element.setAttribute("aria-activedescendant",_)},g.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},g.prototype._onInput=function(){this.type!==h.SELECT_ONE_TYPE&&this.setWidth()},g.prototype._onPaste=function(_){this.preventPaste&&_.preventDefault()},g.prototype._onFocus=function(){this.isFocussed=!0},g.prototype._onBlur=function(){this.isFocussed=!1},g}();r.default=p},624:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0});var u=d(883),h=function(){function p(g){var _=g.element;this.element=_,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return p.prototype.clear=function(){this.element.innerHTML=""},p.prototype.append=function(g){this.element.appendChild(g)},p.prototype.getChild=function(g){return this.element.querySelector(g)},p.prototype.hasChildren=function(){return this.element.hasChildNodes()},p.prototype.scrollToTop=function(){this.element.scrollTop=0},p.prototype.scrollToChildElement=function(g,_){var x=this;if(g){var S=this.element.offsetHeight,Y=this.element.scrollTop+S,U=g.offsetHeight,V=g.offsetTop+U,Q=_>0?this.element.scrollTop+V-Y:g.offsetTop;requestAnimationFrame(function(){x._animateScroll(Q,_)})}},p.prototype._scrollDown=function(g,_,x){var S=(x-g)/_,Y=S>1?S:1;this.element.scrollTop=g+Y},p.prototype._scrollUp=function(g,_,x){var S=(g-x)/_,Y=S>1?S:1;this.element.scrollTop=g-Y},p.prototype._animateScroll=function(g,_){var x=this,S=u.SCROLLING_SPEED,Y=this.element.scrollTop,U=!1;_>0?(this._scrollDown(Y,S,g),Y<g&&(U=!0)):(this._scrollUp(Y,S,g),Y>g&&(U=!0)),U&&requestAnimationFrame(function(){x._animateScroll(g,_)})},p}();r.default=h},730:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0});var u=d(799),h=function(){function p(g){var _=g.element,x=g.classNames;if(this.element=_,this.classNames=x,!(_ instanceof HTMLInputElement)&&!(_ instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(p.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this.element.value},set:function(g){this.element.value=g},enumerable:!1,configurable:!0}),p.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var g=this.element.getAttribute("style");g&&this.element.setAttribute("data-choice-orig-style",g),this.element.setAttribute("data-choice","active")},p.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var g=this.element.getAttribute("data-choice-orig-style");g?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",g)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},p.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},p.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},p.prototype.triggerEvent=function(g,_){(0,u.dispatchEvent)(this.element,g,_)},p}();r.default=h},541:function(a,r,d){var u=this&&this.__extends||function(){var _=function(x,S){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,U){Y.__proto__=U}||function(Y,U){for(var V in U)Object.prototype.hasOwnProperty.call(U,V)&&(Y[V]=U[V])},_(x,S)};return function(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");_(x,S);function Y(){this.constructor=x}x.prototype=S===null?Object.create(S):(Y.prototype=S.prototype,new Y)}}(),h=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(r,"__esModule",{value:!0});var p=h(d(730)),g=function(_){u(x,_);function x(S){var Y=S.element,U=S.classNames,V=S.delimiter,Q=_.call(this,{element:Y,classNames:U})||this;return Q.delimiter=V,Q}return Object.defineProperty(x.prototype,"value",{get:function(){return this.element.value},set:function(S){this.element.setAttribute("value",S),this.element.value=S},enumerable:!1,configurable:!0}),x}(p.default);r.default=g},982:function(a,r,d){var u=this&&this.__extends||function(){var _=function(x,S){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,U){Y.__proto__=U}||function(Y,U){for(var V in U)Object.prototype.hasOwnProperty.call(U,V)&&(Y[V]=U[V])},_(x,S)};return function(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");_(x,S);function Y(){this.constructor=x}x.prototype=S===null?Object.create(S):(Y.prototype=S.prototype,new Y)}}(),h=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(r,"__esModule",{value:!0});var p=h(d(730)),g=function(_){u(x,_);function x(S){var Y=S.element,U=S.classNames,V=S.template,Q=_.call(this,{element:Y,classNames:U})||this;return Q.template=V,Q}return Object.defineProperty(x.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(S){var Y=this,U=document.createDocumentFragment(),V=function(Q){var re=Y.template(Q);U.appendChild(re)};S.forEach(function(Q){return V(Q)}),this.appendDocFragment(U)},enumerable:!1,configurable:!0}),x.prototype.appendDocFragment=function(S){this.element.innerHTML="",this.element.appendChild(S)},x}(p.default);r.default=g},883:function(a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SCROLLING_SPEED=r.SELECT_MULTIPLE_TYPE=r.SELECT_ONE_TYPE=r.TEXT_TYPE=r.KEY_CODES=r.ACTION_TYPES=r.EVENTS=void 0,r.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},r.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},r.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},r.TEXT_TYPE="text",r.SELECT_ONE_TYPE="select-one",r.SELECT_MULTIPLE_TYPE="select-multiple",r.SCROLLING_SPEED=4},789:function(a,r,d){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CONFIG=r.DEFAULT_CLASSNAMES=void 0;var u=d(799);r.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},r.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:u.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(h){return'Press Enter to add <b>"'.concat((0,u.sanitise)(h),'"</b>')},maxItemText:function(h){return"Only ".concat(h," values can be added")},valueComparer:function(h,p){return h===p},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:r.DEFAULT_CLASSNAMES}},18:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},978:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},948:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},359:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},285:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},533:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},187:function(a,r,d){var u=this&&this.__createBinding||(Object.create?function(p,g,_,x){x===void 0&&(x=_);var S=Object.getOwnPropertyDescriptor(g,_);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(p,x,S)}:function(p,g,_,x){x===void 0&&(x=_),p[x]=g[_]}),h=this&&this.__exportStar||function(p,g){for(var _ in p)_!=="default"&&!Object.prototype.hasOwnProperty.call(g,_)&&u(g,p,_)};Object.defineProperty(r,"__esModule",{value:!0}),h(d(18),r),h(d(978),r),h(d(948),r),h(d(359),r),h(d(285),r),h(d(533),r),h(d(287),r),h(d(132),r),h(d(837),r),h(d(598),r),h(d(369),r),h(d(37),r),h(d(47),r),h(d(923),r),h(d(876),r)},287:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},132:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},837:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},598:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},37:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},369:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},47:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},923:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},876:function(a,r){Object.defineProperty(r,"__esModule",{value:!0})},799:function(a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseCustomProperties=r.diff=r.cloneObject=r.existsInArray=r.dispatchEvent=r.sortByScore=r.sortByAlpha=r.strToEl=r.sanitise=r.isScrolledIntoView=r.getAdjacentEl=r.wrap=r.isType=r.getType=r.generateId=r.generateChars=r.getRandomNumber=void 0;var d=function(w,I){return Math.floor(Math.random()*(I-w)+w)};r.getRandomNumber=d;var u=function(w){return Array.from({length:w},function(){return(0,r.getRandomNumber)(0,36).toString(36)}).join("")};r.generateChars=u;var h=function(w,I){var R=w.id||w.name&&"".concat(w.name,"-").concat((0,r.generateChars)(2))||(0,r.generateChars)(4);return R=R.replace(/(:|\.|\[|\]|,)/g,""),R="".concat(I,"-").concat(R),R};r.generateId=h;var p=function(w){return Object.prototype.toString.call(w).slice(8,-1)};r.getType=p;var g=function(w,I){return I!=null&&(0,r.getType)(I)===w};r.isType=g;var _=function(w,I){return I===void 0&&(I=document.createElement("div")),w.parentNode&&(w.nextSibling?w.parentNode.insertBefore(I,w.nextSibling):w.parentNode.appendChild(I)),I.appendChild(w)};r.wrap=_;var x=function(w,I,R){R===void 0&&(R=1);for(var A="".concat(R>0?"next":"previous","ElementSibling"),m=w[A];m;){if(m.matches(I))return m;m=m[A]}return m};r.getAdjacentEl=x;var S=function(w,I,R){if(R===void 0&&(R=1),!w)return!1;var A;return R>0?A=I.scrollTop+I.offsetHeight>=w.offsetTop+w.offsetHeight:A=w.offsetTop>=I.scrollTop,A};r.isScrolledIntoView=S;var Y=function(w){return typeof w!="string"?w:w.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};r.sanitise=Y,r.strToEl=function(){var w=document.createElement("div");return function(I){var R=I.trim();w.innerHTML=R;for(var A=w.children[0];w.firstChild;)w.removeChild(w.firstChild);return A}}();var U=function(w,I){var R=w.value,A=w.label,m=A===void 0?R:A,b=I.value,C=I.label,F=C===void 0?b:C;return m.localeCompare(F,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};r.sortByAlpha=U;var V=function(w,I){var R=w.score,A=R===void 0?0:R,m=I.score,b=m===void 0?0:m;return A-b};r.sortByScore=V;var Q=function(w,I,R){R===void 0&&(R=null);var A=new CustomEvent(I,{detail:R,bubbles:!0,cancelable:!0});return w.dispatchEvent(A)};r.dispatchEvent=Q;var re=function(w,I,R){return R===void 0&&(R="value"),w.some(function(A){return typeof I=="string"?A[R]===I.trim():A[R]===I})};r.existsInArray=re;var Re=function(w){return JSON.parse(JSON.stringify(w))};r.cloneObject=Re;var O=function(w,I){var R=Object.keys(w).sort(),A=Object.keys(I).sort();return R.filter(function(m){return A.indexOf(m)<0})};r.diff=O;var H=function(w){if(typeof w<"u")try{return JSON.parse(w)}catch{return w}return{}};r.parseCustomProperties=H},273:function(a,r){var d=this&&this.__spreadArray||function(h,p,g){if(g||arguments.length===2)for(var _=0,x=p.length,S;_<x;_++)(S||!(_ in p))&&(S||(S=Array.prototype.slice.call(p,0,_)),S[_]=p[_]);return h.concat(S||Array.prototype.slice.call(p))};Object.defineProperty(r,"__esModule",{value:!0}),r.defaultState=void 0,r.defaultState=[];function u(h,p){switch(h===void 0&&(h=r.defaultState),p===void 0&&(p={}),p.type){case"ADD_CHOICE":{var g=p,_={id:g.id,elementId:g.elementId,groupId:g.groupId,value:g.value,label:g.label||g.value,disabled:g.disabled||!1,selected:!1,active:!0,score:9999,customProperties:g.customProperties,placeholder:g.placeholder||!1};return d(d([],h,!0),[_],!1)}case"ADD_ITEM":{var x=p;return x.choiceId>-1?h.map(function(V){var Q=V;return Q.id===parseInt("".concat(x.choiceId),10)&&(Q.selected=!0),Q}):h}case"REMOVE_ITEM":{var S=p;return S.choiceId&&S.choiceId>-1?h.map(function(V){var Q=V;return Q.id===parseInt("".concat(S.choiceId),10)&&(Q.selected=!1),Q}):h}case"FILTER_CHOICES":{var Y=p;return h.map(function(V){var Q=V;return Q.active=Y.results.some(function(re){var Re=re.item,O=re.score;return Re.id===Q.id?(Q.score=O,!0):!1}),Q})}case"ACTIVATE_CHOICES":{var U=p;return h.map(function(V){var Q=V;return Q.active=U.active,Q})}case"CLEAR_CHOICES":return r.defaultState;default:return h}}r.default=u},871:function(a,r){var d=this&&this.__spreadArray||function(h,p,g){if(g||arguments.length===2)for(var _=0,x=p.length,S;_<x;_++)(S||!(_ in p))&&(S||(S=Array.prototype.slice.call(p,0,_)),S[_]=p[_]);return h.concat(S||Array.prototype.slice.call(p))};Object.defineProperty(r,"__esModule",{value:!0}),r.defaultState=void 0,r.defaultState=[];function u(h,p){switch(h===void 0&&(h=r.defaultState),p===void 0&&(p={}),p.type){case"ADD_GROUP":{var g=p;return d(d([],h,!0),[{id:g.id,value:g.value,active:g.active,disabled:g.disabled}],!1)}case"CLEAR_CHOICES":return[];default:return h}}r.default=u},655:function(a,r,d){var u=this&&this.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(r,"__esModule",{value:!0}),r.defaultState=void 0;var h=d(791),p=u(d(52)),g=u(d(871)),_=u(d(273)),x=u(d(502)),S=d(799);r.defaultState={groups:[],items:[],choices:[],loading:!1};var Y=(0,h.combineReducers)({items:p.default,groups:g.default,choices:_.default,loading:x.default}),U=function(V,Q){var re=V;if(Q.type==="CLEAR_ALL")re=r.defaultState;else if(Q.type==="RESET_TO")return(0,S.cloneObject)(Q.state);return Y(re,Q)};r.default=U},52:function(a,r){var d=this&&this.__spreadArray||function(h,p,g){if(g||arguments.length===2)for(var _=0,x=p.length,S;_<x;_++)(S||!(_ in p))&&(S||(S=Array.prototype.slice.call(p,0,_)),S[_]=p[_]);return h.concat(S||Array.prototype.slice.call(p))};Object.defineProperty(r,"__esModule",{value:!0}),r.defaultState=void 0,r.defaultState=[];function u(h,p){switch(h===void 0&&(h=r.defaultState),p===void 0&&(p={}),p.type){case"ADD_ITEM":{var g=p,_=d(d([],h,!0),[{id:g.id,choiceId:g.choiceId,groupId:g.groupId,value:g.value,label:g.label,active:!0,highlighted:!1,customProperties:g.customProperties,placeholder:g.placeholder||!1,keyCode:null}],!1);return _.map(function(S){var Y=S;return Y.highlighted=!1,Y})}case"REMOVE_ITEM":return h.map(function(S){var Y=S;return Y.id===p.id&&(Y.active=!1),Y});case"HIGHLIGHT_ITEM":{var x=p;return h.map(function(S){var Y=S;return Y.id===x.id&&(Y.highlighted=x.highlighted),Y})}default:return h}}r.default=u},502:function(a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.defaultState=void 0,r.defaultState=!1;var d=function(u,h){switch(u===void 0&&(u=r.defaultState),h===void 0&&(h={}),h.type){case"SET_IS_LOADING":return h.isLoading;default:return u}};r.default=d},744:function(a,r,d){var u=this&&this.__spreadArray||function(x,S,Y){if(Y||arguments.length===2)for(var U=0,V=S.length,Q;U<V;U++)(Q||!(U in S))&&(Q||(Q=Array.prototype.slice.call(S,0,U)),Q[U]=S[U]);return x.concat(Q||Array.prototype.slice.call(S))},h=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(r,"__esModule",{value:!0});var p=d(791),g=h(d(655)),_=function(){function x(){this._store=(0,p.createStore)(g.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return x.prototype.subscribe=function(S){this._store.subscribe(S)},x.prototype.dispatch=function(S){this._store.dispatch(S)},Object.defineProperty(x.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"activeItems",{get:function(){return this.items.filter(function(S){return S.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(S){return S.active&&S.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"activeChoices",{get:function(){return this.choices.filter(function(S){return S.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"selectableChoices",{get:function(){return this.choices.filter(function(S){return S.disabled!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter(function(S){return S.placeholder!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"placeholderChoice",{get:function(){return u([],this.choices,!0).reverse().find(function(S){return S.placeholder===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"activeGroups",{get:function(){var S=this,Y=S.groups,U=S.choices;return Y.filter(function(V){var Q=V.active===!0&&V.disabled===!1,re=U.some(function(Re){return Re.active===!0&&Re.disabled===!1});return Q&&re},[])},enumerable:!1,configurable:!0}),x.prototype.isLoading=function(){return this.state.loading},x.prototype.getChoiceById=function(S){return this.activeChoices.find(function(Y){return Y.id===parseInt(S,10)})},x.prototype.getGroupById=function(S){return this.groups.find(function(Y){return Y.id===S})},x}();r.default=_},686:function(a,r){Object.defineProperty(r,"__esModule",{value:!0});var d={containerOuter:function(u,h,p,g,_,x,S){var Y=u.classNames.containerOuter,U=Object.assign(document.createElement("div"),{className:Y});return U.dataset.type=x,h&&(U.dir=h),g&&(U.tabIndex=0),p&&(U.setAttribute("role",_?"combobox":"listbox"),_&&U.setAttribute("aria-autocomplete","list")),U.setAttribute("aria-haspopup","true"),U.setAttribute("aria-expanded","false"),S&&U.setAttribute("aria-labelledby",S),U},containerInner:function(u){var h=u.classNames.containerInner;return Object.assign(document.createElement("div"),{className:h})},itemList:function(u,h){var p=u.classNames,g=p.list,_=p.listSingle,x=p.listItems;return Object.assign(document.createElement("div"),{className:"".concat(g," ").concat(h?_:x)})},placeholder:function(u,h){var p,g=u.allowHTML,_=u.classNames.placeholder;return Object.assign(document.createElement("div"),(p={className:_},p[g?"innerHTML":"innerText"]=h,p))},item:function(u,h,p){var g,_,x=u.allowHTML,S=u.classNames,Y=S.item,U=S.button,V=S.highlightedState,Q=S.itemSelectable,re=S.placeholder,Re=h.id,O=h.value,H=h.label,w=h.customProperties,I=h.active,R=h.disabled,A=h.highlighted,m=h.placeholder,b=Object.assign(document.createElement("div"),(g={className:Y},g[x?"innerHTML":"innerText"]=H,g));if(Object.assign(b.dataset,{item:"",id:Re,value:O,customProperties:w}),I&&b.setAttribute("aria-selected","true"),R&&b.setAttribute("aria-disabled","true"),m&&b.classList.add(re),b.classList.add(A?V:Q),p){R&&b.classList.remove(Q),b.dataset.deletable="";var C="Remove item",F=Object.assign(document.createElement("button"),(_={type:"button",className:U},_[x?"innerHTML":"innerText"]=C,_));F.setAttribute("aria-label","".concat(C,": '").concat(O,"'")),F.dataset.button="",b.appendChild(F)}return b},choiceList:function(u,h){var p=u.classNames.list,g=Object.assign(document.createElement("div"),{className:p});return h||g.setAttribute("aria-multiselectable","true"),g.setAttribute("role","listbox"),g},choiceGroup:function(u,h){var p,g=u.allowHTML,_=u.classNames,x=_.group,S=_.groupHeading,Y=_.itemDisabled,U=h.id,V=h.value,Q=h.disabled,re=Object.assign(document.createElement("div"),{className:"".concat(x," ").concat(Q?Y:"")});return re.setAttribute("role","group"),Object.assign(re.dataset,{group:"",id:U,value:V}),Q&&re.setAttribute("aria-disabled","true"),re.appendChild(Object.assign(document.createElement("div"),(p={className:S},p[g?"innerHTML":"innerText"]=V,p))),re},choice:function(u,h,p){var g,_=u.allowHTML,x=u.classNames,S=x.item,Y=x.itemChoice,U=x.itemSelectable,V=x.selectedState,Q=x.itemDisabled,re=x.placeholder,Re=h.id,O=h.value,H=h.label,w=h.groupId,I=h.elementId,R=h.disabled,A=h.selected,m=h.placeholder,b=Object.assign(document.createElement("div"),(g={id:I},g[_?"innerHTML":"innerText"]=H,g.className="".concat(S," ").concat(Y),g));return A&&b.classList.add(V),m&&b.classList.add(re),b.setAttribute("role",w&&w>0?"treeitem":"option"),Object.assign(b.dataset,{choice:"",id:Re,value:O,selectText:p}),R?(b.classList.add(Q),b.dataset.choiceDisabled="",b.setAttribute("aria-disabled","true")):(b.classList.add(U),b.dataset.choiceSelectable=""),b},input:function(u,h){var p=u.classNames,g=p.input,_=p.inputCloned,x=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(g," ").concat(_),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return x.setAttribute("role","textbox"),x.setAttribute("aria-autocomplete","list"),x.setAttribute("aria-label",h),x},dropdown:function(u){var h=u.classNames,p=h.list,g=h.listDropdown,_=document.createElement("div");return _.classList.add(p,g),_.setAttribute("aria-expanded","false"),_},notice:function(u,h,p){var g,_=u.allowHTML,x=u.classNames,S=x.item,Y=x.itemChoice,U=x.noResults,V=x.noChoices;p===void 0&&(p="");var Q=[S,Y];return p==="no-choices"?Q.push(V):p==="no-results"&&Q.push(U),Object.assign(document.createElement("div"),(g={},g[_?"innerHTML":"innerText"]=h,g.className=Q.join(" "),g))},option:function(u){var h=u.label,p=u.value,g=u.customProperties,_=u.active,x=u.disabled,S=new Option(h,p,!1,_);return g&&(S.dataset.customProperties="".concat(g)),S.disabled=!!x,S}};r.default=d},996:function(a){var r=function(I){return d(I)&&!u(I)};function d(w){return!!w&&typeof w=="object"}function u(w){var I=Object.prototype.toString.call(w);return I==="[object RegExp]"||I==="[object Date]"||g(w)}var h=typeof Symbol=="function"&&Symbol.for,p=h?Symbol.for("react.element"):60103;function g(w){return w.$$typeof===p}function _(w){return Array.isArray(w)?[]:{}}function x(w,I){return I.clone!==!1&&I.isMergeableObject(w)?O(_(w),w,I):w}function S(w,I,R){return w.concat(I).map(function(A){return x(A,R)})}function Y(w,I){if(!I.customMerge)return O;var R=I.customMerge(w);return typeof R=="function"?R:O}function U(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(I){return w.propertyIsEnumerable(I)}):[]}function V(w){return Object.keys(w).concat(U(w))}function Q(w,I){try{return I in w}catch{return!1}}function re(w,I){return Q(w,I)&&!(Object.hasOwnProperty.call(w,I)&&Object.propertyIsEnumerable.call(w,I))}function Re(w,I,R){var A={};return R.isMergeableObject(w)&&V(w).forEach(function(m){A[m]=x(w[m],R)}),V(I).forEach(function(m){re(w,m)||(Q(w,m)&&R.isMergeableObject(I[m])?A[m]=Y(m,R)(w[m],I[m],R):A[m]=x(I[m],R))}),A}function O(w,I,R){R=R||{},R.arrayMerge=R.arrayMerge||S,R.isMergeableObject=R.isMergeableObject||r,R.cloneUnlessOtherwiseSpecified=x;var A=Array.isArray(I),m=Array.isArray(w),b=A===m;return b?A?R.arrayMerge(w,I,R):Re(w,I,R):x(I,R)}O.all=function(I,R){if(!Array.isArray(I))throw new Error("first argument should be an array");return I.reduce(function(A,m){return O(A,m,R)},{})};var H=O;a.exports=H},221:function(a,r,d){d.r(r),d.d(r,{default:function(){return At}});function u(le){return Array.isArray?Array.isArray(le):re(le)==="[object Array]"}const h=1/0;function p(le){if(typeof le=="string")return le;let W=le+"";return W=="0"&&1/le==-h?"-0":W}function g(le){return le==null?"":p(le)}function _(le){return typeof le=="string"}function x(le){return typeof le=="number"}function S(le){return le===!0||le===!1||U(le)&&re(le)=="[object Boolean]"}function Y(le){return typeof le=="object"}function U(le){return Y(le)&&le!==null}function V(le){return le!=null}function Q(le){return!le.trim().length}function re(le){return le==null?le===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(le)}const Re="Incorrect 'index' type",O=le=>`Invalid value for key ${le}`,H=le=>`Pattern length exceeds max of ${le}.`,w=le=>`Missing ${le} property in key`,I=le=>`Property 'weight' in key '${le}' must be a positive integer`,R=Object.prototype.hasOwnProperty;class A{constructor(W){this._keys=[],this._keyMap={};let ae=0;W.forEach(ye=>{let Ee=m(ye);ae+=Ee.weight,this._keys.push(Ee),this._keyMap[Ee.id]=Ee,ae+=Ee.weight}),this._keys.forEach(ye=>{ye.weight/=ae})}get(W){return this._keyMap[W]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function m(le){let W=null,ae=null,ye=null,Ee=1,Ie=null;if(_(le)||u(le))ye=le,W=b(le),ae=C(le);else{if(!R.call(le,"name"))throw new Error(w("name"));const be=le.name;if(ye=be,R.call(le,"weight")&&(Ee=le.weight,Ee<=0))throw new Error(I(be));W=b(be),ae=C(be),Ie=le.getFn}return{path:W,id:ae,weight:Ee,src:ye,getFn:Ie}}function b(le){return u(le)?le:le.split(".")}function C(le){return u(le)?le.join("."):le}function F(le,W){let ae=[],ye=!1;const Ee=(Ie,be,Ae)=>{if(V(Ie))if(!be[Ae])ae.push(Ie);else{let Le=be[Ae];const je=Ie[Le];if(!V(je))return;if(Ae===be.length-1&&(_(je)||x(je)||S(je)))ae.push(g(je));else if(u(je)){ye=!0;for(let Oe=0,Ve=je.length;Oe<Ve;Oe+=1)Ee(je[Oe],be,Ae+1)}else be.length&&Ee(je,be,Ae+1)}};return Ee(le,_(W)?W.split("."):W,0),ye?ae:ae[0]}var de={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(le,W)=>le.score===W.score?le.idx<W.idx?-1:1:le.score<W.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:F,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const xe=/[^ ]+/g;function pe(le=1,W=3){const ae=new Map,ye=Math.pow(10,W);return{get(Ee){const Ie=Ee.match(xe).length;if(ae.has(Ie))return ae.get(Ie);const be=1/Math.pow(Ie,.5*le),Ae=parseFloat(Math.round(be*ye)/ye);return ae.set(Ie,Ae),Ae},clear(){ae.clear()}}}class Pe{constructor({getFn:W=de.getFn,fieldNormWeight:ae=de.fieldNormWeight}={}){this.norm=pe(ae,3),this.getFn=W,this.isCreated=!1,this.setIndexRecords()}setSources(W=[]){this.docs=W}setIndexRecords(W=[]){this.records=W}setKeys(W=[]){this.keys=W,this._keysMap={},W.forEach((ae,ye)=>{this._keysMap[ae.id]=ye})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,_(this.docs[0])?this.docs.forEach((W,ae)=>{this._addString(W,ae)}):this.docs.forEach((W,ae)=>{this._addObject(W,ae)}),this.norm.clear())}add(W){const ae=this.size();_(W)?this._addString(W,ae):this._addObject(W,ae)}removeAt(W){this.records.splice(W,1);for(let ae=W,ye=this.size();ae<ye;ae+=1)this.records[ae].i-=1}getValueForItemAtKeyId(W,ae){return W[this._keysMap[ae]]}size(){return this.records.length}_addString(W,ae){if(!V(W)||Q(W))return;let ye={v:W,i:ae,n:this.norm.get(W)};this.records.push(ye)}_addObject(W,ae){let ye={i:ae,$:{}};this.keys.forEach((Ee,Ie)=>{let be=Ee.getFn?Ee.getFn(W):this.getFn(W,Ee.path);if(V(be)){if(u(be)){let Ae=[];const Le=[{nestedArrIndex:-1,value:be}];for(;Le.length;){const{nestedArrIndex:je,value:Oe}=Le.pop();if(V(Oe))if(_(Oe)&&!Q(Oe)){let Ve={v:Oe,i:je,n:this.norm.get(Oe)};Ae.push(Ve)}else u(Oe)&&Oe.forEach((Ve,st)=>{Le.push({nestedArrIndex:st,value:Ve})})}ye.$[Ie]=Ae}else if(_(be)&&!Q(be)){let Ae={v:be,n:this.norm.get(be)};ye.$[Ie]=Ae}}}),this.records.push(ye)}toJSON(){return{keys:this.keys,records:this.records}}}function K(le,W,{getFn:ae=de.getFn,fieldNormWeight:ye=de.fieldNormWeight}={}){const Ee=new Pe({getFn:ae,fieldNormWeight:ye});return Ee.setKeys(le.map(m)),Ee.setSources(W),Ee.create(),Ee}function Be(le,{getFn:W=de.getFn,fieldNormWeight:ae=de.fieldNormWeight}={}){const{keys:ye,records:Ee}=le,Ie=new Pe({getFn:W,fieldNormWeight:ae});return Ie.setKeys(ye),Ie.setIndexRecords(Ee),Ie}function Me(le,{errors:W=0,currentLocation:ae=0,expectedLocation:ye=0,distance:Ee=de.distance,ignoreLocation:Ie=de.ignoreLocation}={}){const be=W/le.length;if(Ie)return be;const Ae=Math.abs(ye-ae);return Ee?be+Ae/Ee:Ae?1:be}function Z(le=[],W=de.minMatchCharLength){let ae=[],ye=-1,Ee=-1,Ie=0;for(let be=le.length;Ie<be;Ie+=1){let Ae=le[Ie];Ae&&ye===-1?ye=Ie:!Ae&&ye!==-1&&(Ee=Ie-1,Ee-ye+1>=W&&ae.push([ye,Ee]),ye=-1)}return le[Ie-1]&&Ie-ye>=W&&ae.push([ye,Ie-1]),ae}const k=32;function T(le,W,ae,{location:ye=de.location,distance:Ee=de.distance,threshold:Ie=de.threshold,findAllMatches:be=de.findAllMatches,minMatchCharLength:Ae=de.minMatchCharLength,includeMatches:Le=de.includeMatches,ignoreLocation:je=de.ignoreLocation}={}){if(W.length>k)throw new Error(H(k));const Oe=W.length,Ve=le.length,st=Math.max(0,Math.min(ye,Ve));let wt=Ie,It=st;const vt=Ae>1||Le,Rs=vt?Array(Ve):[];let as;for(;(as=le.indexOf(W,It))>-1;){let Qt=Me(W,{currentLocation:as,expectedLocation:st,distance:Ee,ignoreLocation:je});if(wt=Math.min(Qt,wt),It=as+Oe,vt){let Ut=0;for(;Ut<Oe;)Rs[as+Ut]=1,Ut+=1}}It=-1;let $s=[],ps=1,bn=Oe+Ve;const mo=1<<Oe-1;for(let Qt=0;Qt<Oe;Qt+=1){let Ut=0,ws=bn;for(;Ut<ws;)Me(W,{errors:Qt,currentLocation:st+ws,expectedLocation:st,distance:Ee,ignoreLocation:je})<=wt?Ut=ws:bn=ws,ws=Math.floor((bn-Ut)/2+Ut);bn=ws;let go=Math.max(1,st-ws+1),Vn=be?Ve:Math.min(st+ws,Ve)+Oe,Fs=Array(Vn+2);Fs[Vn+1]=(1<<Qt)-1;for(let Ht=Vn;Ht>=go;Ht-=1){let wn=Ht-1,_o=ae[le.charAt(wn)];if(vt&&(Rs[wn]=+!!_o),Fs[Ht]=(Fs[Ht+1]<<1|1)&_o,Qt&&(Fs[Ht]|=($s[Ht+1]|$s[Ht])<<1|1|$s[Ht+1]),Fs[Ht]&mo&&(ps=Me(W,{errors:Qt,currentLocation:wn,expectedLocation:st,distance:Ee,ignoreLocation:je}),ps<=wt)){if(wt=ps,It=wn,It<=st)break;go=Math.max(1,2*st-It)}}if(Me(W,{errors:Qt+1,currentLocation:st,expectedLocation:st,distance:Ee,ignoreLocation:je})>wt)break;$s=Fs}const jn={isMatch:It>=0,score:Math.max(.001,ps)};if(vt){const Qt=Z(Rs,Ae);Qt.length?Le&&(jn.indices=Qt):jn.isMatch=!1}return jn}function B(le){let W={};for(let ae=0,ye=le.length;ae<ye;ae+=1){const Ee=le.charAt(ae);W[Ee]=(W[Ee]||0)|1<<ye-ae-1}return W}class ne{constructor(W,{location:ae=de.location,threshold:ye=de.threshold,distance:Ee=de.distance,includeMatches:Ie=de.includeMatches,findAllMatches:be=de.findAllMatches,minMatchCharLength:Ae=de.minMatchCharLength,isCaseSensitive:Le=de.isCaseSensitive,ignoreLocation:je=de.ignoreLocation}={}){if(this.options={location:ae,threshold:ye,distance:Ee,includeMatches:Ie,findAllMatches:be,minMatchCharLength:Ae,isCaseSensitive:Le,ignoreLocation:je},this.pattern=Le?W:W.toLowerCase(),this.chunks=[],!this.pattern.length)return;const Oe=(st,wt)=>{this.chunks.push({pattern:st,alphabet:B(st),startIndex:wt})},Ve=this.pattern.length;if(Ve>k){let st=0;const wt=Ve%k,It=Ve-wt;for(;st<It;)Oe(this.pattern.substr(st,k),st),st+=k;if(wt){const vt=Ve-k;Oe(this.pattern.substr(vt),vt)}}else Oe(this.pattern,0)}searchIn(W){const{isCaseSensitive:ae,includeMatches:ye}=this.options;if(ae||(W=W.toLowerCase()),this.pattern===W){let It={isMatch:!0,score:0};return ye&&(It.indices=[[0,W.length-1]]),It}const{location:Ee,distance:Ie,threshold:be,findAllMatches:Ae,minMatchCharLength:Le,ignoreLocation:je}=this.options;let Oe=[],Ve=0,st=!1;this.chunks.forEach(({pattern:It,alphabet:vt,startIndex:Rs})=>{const{isMatch:as,score:$s,indices:ps}=T(W,It,vt,{location:Ee+Rs,distance:Ie,threshold:be,findAllMatches:Ae,minMatchCharLength:Le,includeMatches:ye,ignoreLocation:je});as&&(st=!0),Ve+=$s,as&&ps&&(Oe=[...Oe,...ps])});let wt={isMatch:st,score:st?Ve/this.chunks.length:1};return st&&ye&&(wt.indices=Oe),wt}}class X{constructor(W){this.pattern=W}static isMultiMatch(W){return E(W,this.multiRegex)}static isSingleMatch(W){return E(W,this.singleRegex)}search(){}}function E(le,W){const ae=le.match(W);return ae?ae[1]:null}class L extends X{constructor(W){super(W)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(W){const ae=W===this.pattern;return{isMatch:ae,score:ae?0:1,indices:[0,this.pattern.length-1]}}}class ee extends X{constructor(W){super(W)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(W){const ye=W.indexOf(this.pattern)===-1;return{isMatch:ye,score:ye?0:1,indices:[0,W.length-1]}}}class ue extends X{constructor(W){super(W)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(W){const ae=W.startsWith(this.pattern);return{isMatch:ae,score:ae?0:1,indices:[0,this.pattern.length-1]}}}class he extends X{constructor(W){super(W)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(W){const ae=!W.startsWith(this.pattern);return{isMatch:ae,score:ae?0:1,indices:[0,W.length-1]}}}class _e extends X{constructor(W){super(W)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(W){const ae=W.endsWith(this.pattern);return{isMatch:ae,score:ae?0:1,indices:[W.length-this.pattern.length,W.length-1]}}}class Ce extends X{constructor(W){super(W)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(W){const ae=!W.endsWith(this.pattern);return{isMatch:ae,score:ae?0:1,indices:[0,W.length-1]}}}class we extends X{constructor(W,{location:ae=de.location,threshold:ye=de.threshold,distance:Ee=de.distance,includeMatches:Ie=de.includeMatches,findAllMatches:be=de.findAllMatches,minMatchCharLength:Ae=de.minMatchCharLength,isCaseSensitive:Le=de.isCaseSensitive,ignoreLocation:je=de.ignoreLocation}={}){super(W),this._bitapSearch=new ne(W,{location:ae,threshold:ye,distance:Ee,includeMatches:Ie,findAllMatches:be,minMatchCharLength:Ae,isCaseSensitive:Le,ignoreLocation:je})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(W){return this._bitapSearch.searchIn(W)}}class ge extends X{constructor(W){super(W)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(W){let ae=0,ye;const Ee=[],Ie=this.pattern.length;for(;(ye=W.indexOf(this.pattern,ae))>-1;)ae=ye+Ie,Ee.push([ye,ae-1]);const be=!!Ee.length;return{isMatch:be,score:be?0:1,indices:Ee}}}const fe=[L,ge,ue,he,Ce,_e,ee,we],Se=fe.length,Ne=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,$e="|";function Ye(le,W={}){return le.split($e).map(ae=>{let ye=ae.trim().split(Ne).filter(Ie=>Ie&&!!Ie.trim()),Ee=[];for(let Ie=0,be=ye.length;Ie<be;Ie+=1){const Ae=ye[Ie];let Le=!1,je=-1;for(;!Le&&++je<Se;){const Oe=fe[je];let Ve=Oe.isMultiMatch(Ae);Ve&&(Ee.push(new Oe(Ve,W)),Le=!0)}if(!Le)for(je=-1;++je<Se;){const Oe=fe[je];let Ve=Oe.isSingleMatch(Ae);if(Ve){Ee.push(new Oe(Ve,W));break}}}return Ee})}const Ke=new Set([we.type,ge.type]);class et{constructor(W,{isCaseSensitive:ae=de.isCaseSensitive,includeMatches:ye=de.includeMatches,minMatchCharLength:Ee=de.minMatchCharLength,ignoreLocation:Ie=de.ignoreLocation,findAllMatches:be=de.findAllMatches,location:Ae=de.location,threshold:Le=de.threshold,distance:je=de.distance}={}){this.query=null,this.options={isCaseSensitive:ae,includeMatches:ye,minMatchCharLength:Ee,findAllMatches:be,ignoreLocation:Ie,location:Ae,threshold:Le,distance:je},this.pattern=ae?W:W.toLowerCase(),this.query=Ye(this.pattern,this.options)}static condition(W,ae){return ae.useExtendedSearch}searchIn(W){const ae=this.query;if(!ae)return{isMatch:!1,score:1};const{includeMatches:ye,isCaseSensitive:Ee}=this.options;W=Ee?W:W.toLowerCase();let Ie=0,be=[],Ae=0;for(let Le=0,je=ae.length;Le<je;Le+=1){const Oe=ae[Le];be.length=0,Ie=0;for(let Ve=0,st=Oe.length;Ve<st;Ve+=1){const wt=Oe[Ve],{isMatch:It,indices:vt,score:Rs}=wt.search(W);if(It){if(Ie+=1,Ae+=Rs,ye){const as=wt.constructor.type;Ke.has(as)?be=[...be,...vt]:be.push(vt)}}else{Ae=0,Ie=0,be.length=0;break}}if(Ie){let Ve={isMatch:!0,score:Ae/Ie};return ye&&(Ve.indices=be),Ve}}return{isMatch:!1,score:1}}}const qe=[];function tt(...le){qe.push(...le)}function ct(le,W){for(let ae=0,ye=qe.length;ae<ye;ae+=1){let Ee=qe[ae];if(Ee.condition(le,W))return new Ee(le,W)}return new ne(le,W)}const bt={AND:"$and",OR:"$or"},Ot={PATH:"$path",PATTERN:"$val"},_t=le=>!!(le[bt.AND]||le[bt.OR]),bs=le=>!!le[Ot.PATH],Ct=le=>!u(le)&&Y(le)&&!_t(le),Mt=le=>({[bt.AND]:Object.keys(le).map(W=>({[W]:le[W]}))});function on(le,W,{auto:ae=!0}={}){const ye=Ee=>{let Ie=Object.keys(Ee);const be=bs(Ee);if(!be&&Ie.length>1&&!_t(Ee))return ye(Mt(Ee));if(Ct(Ee)){const Le=be?Ee[Ot.PATH]:Ie[0],je=be?Ee[Ot.PATTERN]:Ee[Le];if(!_(je))throw new Error(O(Le));const Oe={keyId:C(Le),pattern:je};return ae&&(Oe.searcher=ct(je,W)),Oe}let Ae={children:[],operator:Ie[0]};return Ie.forEach(Le=>{const je=Ee[Le];u(je)&&je.forEach(Oe=>{Ae.children.push(ye(Oe))})}),Ae};return _t(le)||(le=Mt(le)),ye(le)}function Nn(le,{ignoreFieldNorm:W=de.ignoreFieldNorm}){le.forEach(ae=>{let ye=1;ae.matches.forEach(({key:Ee,norm:Ie,score:be})=>{const Ae=Ee?Ee.weight:null;ye*=Math.pow(be===0&&Ae?Number.EPSILON:be,(Ae||1)*(W?1:Ie))}),ae.score=ye})}function Bn(le,W){const ae=le.matches;W.matches=[],V(ae)&&ae.forEach(ye=>{if(!V(ye.indices)||!ye.indices.length)return;const{indices:Ee,value:Ie}=ye;let be={indices:Ee,value:Ie};ye.key&&(be.key=ye.key.src),ye.idx>-1&&(be.refIndex=ye.idx),W.matches.push(be)})}function yn(le,W){W.score=le.score}function ci(le,W,{includeMatches:ae=de.includeMatches,includeScore:ye=de.includeScore}={}){const Ee=[];return ae&&Ee.push(Bn),ye&&Ee.push(yn),le.map(Ie=>{const{idx:be}=Ie,Ae={item:W[be],refIndex:be};return Ee.length&&Ee.forEach(Le=>{Le(Ie,Ae)}),Ae})}class At{constructor(W,ae={},ye){this.options={...de,...ae},this.options.useExtendedSearch,this._keyStore=new A(this.options.keys),this.setCollection(W,ye)}setCollection(W,ae){if(this._docs=W,ae&&!(ae instanceof Pe))throw new Error(Re);this._myIndex=ae||K(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(W){V(W)&&(this._docs.push(W),this._myIndex.add(W))}remove(W=()=>!1){const ae=[];for(let ye=0,Ee=this._docs.length;ye<Ee;ye+=1){const Ie=this._docs[ye];W(Ie,ye)&&(this.removeAt(ye),ye-=1,Ee-=1,ae.push(Ie))}return ae}removeAt(W){this._docs.splice(W,1),this._myIndex.removeAt(W)}getIndex(){return this._myIndex}search(W,{limit:ae=-1}={}){const{includeMatches:ye,includeScore:Ee,shouldSort:Ie,sortFn:be,ignoreFieldNorm:Ae}=this.options;let Le=_(W)?_(this._docs[0])?this._searchStringList(W):this._searchObjectList(W):this._searchLogical(W);return Nn(Le,{ignoreFieldNorm:Ae}),Ie&&Le.sort(be),x(ae)&&ae>-1&&(Le=Le.slice(0,ae)),ci(Le,this._docs,{includeMatches:ye,includeScore:Ee})}_searchStringList(W){const ae=ct(W,this.options),{records:ye}=this._myIndex,Ee=[];return ye.forEach(({v:Ie,i:be,n:Ae})=>{if(!V(Ie))return;const{isMatch:Le,score:je,indices:Oe}=ae.searchIn(Ie);Le&&Ee.push({item:Ie,idx:be,matches:[{score:je,value:Ie,norm:Ae,indices:Oe}]})}),Ee}_searchLogical(W){const ae=on(W,this.options),ye=(Ae,Le,je)=>{if(!Ae.children){const{keyId:Ve,searcher:st}=Ae,wt=this._findMatches({key:this._keyStore.get(Ve),value:this._myIndex.getValueForItemAtKeyId(Le,Ve),searcher:st});return wt&&wt.length?[{idx:je,item:Le,matches:wt}]:[]}const Oe=[];for(let Ve=0,st=Ae.children.length;Ve<st;Ve+=1){const wt=Ae.children[Ve],It=ye(wt,Le,je);if(It.length)Oe.push(...It);else if(Ae.operator===bt.AND)return[]}return Oe},Ee=this._myIndex.records,Ie={},be=[];return Ee.forEach(({$:Ae,i:Le})=>{if(V(Ae)){let je=ye(ae,Ae,Le);je.length&&(Ie[Le]||(Ie[Le]={idx:Le,item:Ae,matches:[]},be.push(Ie[Le])),je.forEach(({matches:Oe})=>{Ie[Le].matches.push(...Oe)}))}}),be}_searchObjectList(W){const ae=ct(W,this.options),{keys:ye,records:Ee}=this._myIndex,Ie=[];return Ee.forEach(({$:be,i:Ae})=>{if(!V(be))return;let Le=[];ye.forEach((je,Oe)=>{Le.push(...this._findMatches({key:je,value:be[Oe],searcher:ae}))}),Le.length&&Ie.push({idx:Ae,item:be,matches:Le})}),Ie}_findMatches({key:W,value:ae,searcher:ye}){if(!V(ae))return[];let Ee=[];if(u(ae))ae.forEach(({v:Ie,i:be,n:Ae})=>{if(!V(Ie))return;const{isMatch:Le,score:je,indices:Oe}=ye.searchIn(Ie);Le&&Ee.push({score:je,key:W,value:Ie,idx:be,norm:Ae,indices:Oe})});else{const{v:Ie,n:be}=ae,{isMatch:Ae,score:Le,indices:je}=ye.searchIn(Ie);Ae&&Ee.push({score:Le,key:W,value:Ie,norm:be,indices:je})}return Ee}}At.version="6.6.2",At.createIndex=K,At.parseIndex=Be,At.config=de,At.parseQuery=on,tt(et)},791:function(a,r,d){d.r(r),d.d(r,{__DO_NOT_USE__ActionTypes:function(){return V},applyMiddleware:function(){return A},bindActionCreators:function(){return I},combineReducers:function(){return H},compose:function(){return R},createStore:function(){return re},legacy_createStore:function(){return Re}});function u(m){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},u(m)}function h(m,b){if(u(m)!=="object"||m===null)return m;var C=m[Symbol.toPrimitive];if(C!==void 0){var F=C.call(m,b||"default");if(u(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(m)}function p(m){var b=h(m,"string");return u(b)==="symbol"?b:String(b)}function g(m,b,C){return b=p(b),b in m?Object.defineProperty(m,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):m[b]=C,m}function _(m,b){var C=Object.keys(m);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(m);b&&(F=F.filter(function(q){return Object.getOwnPropertyDescriptor(m,q).enumerable})),C.push.apply(C,F)}return C}function x(m){for(var b=1;b<arguments.length;b++){var C=arguments[b]!=null?arguments[b]:{};b%2?_(Object(C),!0).forEach(function(F){g(m,F,C[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(C)):_(Object(C)).forEach(function(F){Object.defineProperty(m,F,Object.getOwnPropertyDescriptor(C,F))})}return m}function S(m){return"Minified Redux error #"+m+"; visit https://redux.js.org/Errors?code="+m+" for the full message or use the non-minified dev environment for full errors. "}var Y=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),U=function(){return Math.random().toString(36).substring(7).split("").join(".")},V={INIT:"@@redux/INIT"+U(),REPLACE:"@@redux/REPLACE"+U(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+U()}};function Q(m){if(typeof m!="object"||m===null)return!1;for(var b=m;Object.getPrototypeOf(b)!==null;)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(m)===b}function re(m,b,C){var F;if(typeof b=="function"&&typeof C=="function"||typeof C=="function"&&typeof arguments[3]=="function")throw new Error(S(0));if(typeof b=="function"&&typeof C>"u"&&(C=b,b=void 0),typeof C<"u"){if(typeof C!="function")throw new Error(S(1));return C(re)(m,b)}if(typeof m!="function")throw new Error(S(2));var q=m,z=b,ie=[],G=ie,de=!1;function xe(){G===ie&&(G=ie.slice())}function pe(){if(de)throw new Error(S(3));return z}function Pe(Z){if(typeof Z!="function")throw new Error(S(4));if(de)throw new Error(S(5));var k=!0;return xe(),G.push(Z),function(){if(k){if(de)throw new Error(S(6));k=!1,xe();var B=G.indexOf(Z);G.splice(B,1),ie=null}}}function K(Z){if(!Q(Z))throw new Error(S(7));if(typeof Z.type>"u")throw new Error(S(8));if(de)throw new Error(S(9));try{de=!0,z=q(z,Z)}finally{de=!1}for(var k=ie=G,T=0;T<k.length;T++){var B=k[T];B()}return Z}function Be(Z){if(typeof Z!="function")throw new Error(S(10));q=Z,K({type:V.REPLACE})}function Me(){var Z,k=Pe;return Z={subscribe:function(B){if(typeof B!="object"||B===null)throw new Error(S(11));function ne(){B.next&&B.next(pe())}ne();var X=k(ne);return{unsubscribe:X}}},Z[Y]=function(){return this},Z}return K({type:V.INIT}),F={dispatch:K,subscribe:Pe,getState:pe,replaceReducer:Be},F[Y]=Me,F}var Re=re;function O(m){Object.keys(m).forEach(function(b){var C=m[b],F=C(void 0,{type:V.INIT});if(typeof F>"u")throw new Error(S(12));if(typeof C(void 0,{type:V.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(S(13))})}function H(m){for(var b=Object.keys(m),C={},F=0;F<b.length;F++){var q=b[F];typeof m[q]=="function"&&(C[q]=m[q])}var z=Object.keys(C),ie;try{O(C)}catch(G){ie=G}return function(de,xe){if(de===void 0&&(de={}),ie)throw ie;for(var pe=!1,Pe={},K=0;K<z.length;K++){var Be=z[K],Me=C[Be],Z=de[Be],k=Me(Z,xe);if(typeof k>"u")throw xe&&xe.type,new Error(S(14));Pe[Be]=k,pe=pe||k!==Z}return pe=pe||z.length!==Object.keys(de).length,pe?Pe:de}}function w(m,b){return function(){return b(m.apply(this,arguments))}}function I(m,b){if(typeof m=="function")return w(m,b);if(typeof m!="object"||m===null)throw new Error(S(16));var C={};for(var F in m){var q=m[F];typeof q=="function"&&(C[F]=w(q,b))}return C}function R(){for(var m=arguments.length,b=new Array(m),C=0;C<m;C++)b[C]=arguments[C];return b.length===0?function(F){return F}:b.length===1?b[0]:b.reduce(function(F,q){return function(){return F(q.apply(void 0,arguments))}})}function A(){for(var m=arguments.length,b=new Array(m),C=0;C<m;C++)b[C]=arguments[C];return function(F){return function(){var q=F.apply(void 0,arguments),z=function(){throw new Error(S(15))},ie={getState:q.getState,dispatch:function(){return z.apply(void 0,arguments)}},G=b.map(function(de){return de(ie)});return z=R.apply(void 0,G)(q.dispatch),x(x({},q),{},{dispatch:z})}}}}},n={};function i(a){var r=n[a];if(r!==void 0)return r.exports;var d=n[a]={exports:{}};return o[a].call(d.exports,d,d.exports,i),d.exports}(function(){i.n=function(a){var r=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(r,{a:r}),r}})(),function(){i.d=function(a,r){for(var d in r)i.o(r,d)&&!i.o(a,d)&&Object.defineProperty(a,d,{enumerable:!0,get:r[d]})}}(),function(){i.o=function(a,r){return Object.prototype.hasOwnProperty.call(a,r)}}(),function(){i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}();var l={};return function(){var a=i(373),r=i.n(a);i(187),i(883),i(789),i(686),l.default=r()}(),l=l.default,l}()})})(Bc);var u1=Bc.exports;const fs=ur(u1),h1={class:"container px-5 py-5"},f1={key:1},p1={class:"card-body shadow-lg pt-3 bg-light px-5 py-5"},m1={class:"row"},g1={class:"col-md-12"},_1={class:"mb-3 col-md-12 py-5 my-5"},v1=s("label",{class:"px-5 my-5 required form-label"}," Select Entity To Attach Indicators To ",-1),y1=s("option",null,null,-1),b1=["value"],w1=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),E1={__name:"SelectEntity",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1);let a=null;const r=async()=>{l.value=!0;try{const h=await me.collection("mpa_entities").getFullList({sort:"-created"});o.value=h}catch(h){console.error("Error fetching entities:",h.message),te.fire("Error","Error fetching entities: "+h.message,"error")}finally{l.value=!1}},d=()=>{n.value?(console.log("Selected EntityID:",n.value),t.push({name:"MgtIndicators",query:{entityid:n.value}})):(console.error("No entity selected"),te.fire("Warning","No entity selected","warning"))},u=()=>{i.value&&!a&&(a=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for an entity",placeholder:!0,placeholderValue:"Select an entity",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),a.passedElement.element.addEventListener("choice",function(h){n.value=h.detail.choice.value},!1))};return dt(()=>{r().then(()=>{u()})}),jt(()=>{a&&a.destroy()}),Rt(n,h=>{a&&h&&a.setChoiceByValue(h)}),(h,p)=>(P(),N("div",h1,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",f1,[s("div",p1,[s("div",m1,[s("div",g1,[s("form",{onSubmit:Xe(d,["prevent"])},[s("div",_1,[v1,oe(s("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),ref_key:"entitySelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[y1,(P(!0),N(Te,null,Fe(o.value,g=>(P(),N("option",{key:g.EntityID,value:g.EntityID},D(g.Entity),9,b1))),128))],512),[[it,n.value]])]),w1],32)])])])]))]))}},I1={class:"container px-5 py-5"},x1={key:1},C1=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Select Annual Reporting Entity</h4><span>Select the entity you want to yearly report on.</span></div></div></div>',1),S1={class:"shadow-lg pt-3 bg-light t px-5 py-5"},R1={class:"row"},$1={class:"col-md-12"},k1={class:"mb-3 col-md-12 py-5 my-5"},T1=s("label",{class:"px-5 my-5 required form-label"},"Entity",-1),A1=s("option",null,null,-1),D1=["value"],P1=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),O1={__name:"SelectAnnualEntity",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1);let a=null;const r=async()=>{l.value=!0;try{const h=await me.collection("mpa_entities").getFullList({filter:'Entity != "RRF"'}),p=sessionStorage.getItem("AuthData");if(!p)throw new Error("No authentication data found");const g=JSON.parse(p),_=g.AccountRole,x=g.EntityID;let S=h;_!=="admin"&&(S=h.filter(Y=>Y.EntityID===x)),o.value=S}catch(h){console.error("Error fetching entities:",h.message),te.fire("Error","Error fetching entities: "+h.message,"error")}finally{l.value=!1}},d=()=>{n.value?(console.log("Selected EntityID:",n.value),t.push({name:"SelectAnnualReport",query:{entityid:n.value}})):(console.error("No entity selected"),te.fire("Warning","No entity selected","warning"))},u=()=>{i.value&&!a&&(a=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for an entity",placeholder:!0,placeholderValue:"Select an entity",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),a.passedElement.element.addEventListener("choice",function(h){n.value=h.detail.choice.value},!1))};return dt(()=>{r().then(()=>{u()})}),jt(()=>{a&&a.destroy()}),Rt(n,h=>{a&&h&&a.setChoiceByValue(h)}),(h,p)=>(P(),N("div",I1,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",x1,[C1,s("div",S1,[s("div",R1,[s("div",$1,[s("form",{onSubmit:Xe(d,["prevent"])},[s("div",k1,[T1,oe(s("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),ref_key:"entitySelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[A1,(P(!0),N(Te,null,Fe(o.value,g=>(P(),N("option",{key:g.EntityID,value:g.EntityID},D(g.Entity),9,D1))),128))],512),[[it,n.value]])]),P1],32)])])])]))]))}},F1={class:"container px-5 py-5"},L1={key:1},M1=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Select Report</h4><span>Select a report you want to file. All reporting actions will be attached to this report.</span></div></div></div>',1),N1={class:"card-body shadow-lg pt-3 bg-light px-5 py-5"},B1={class:"row"},j1={class:"col-md-12"},V1={class:"mb-3 col-md-12 py-5 my-5"},U1=s("label",{class:"px-5 my-5 required form-label"},"Report",-1),Y1=s("option",null,null,-1),q1=["value"],H1=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),K1={__name:"SelectAnnualReport",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1),a=j(null);let r=null;const d=async()=>{l.value=!0;try{const p=await me.collection("mpa_reporting_timelines").getFullList({filter:'status="active" && Type="Annual Report"'});o.value=p}catch(p){console.error("Error fetching reports:",p.message),te.fire("Error","Error fetching reports: "+p.message,"error")}finally{l.value=!1}},u=()=>{n.value?(console.log("Selected ReportingID:",n.value),t.push({name:"ReportAnnual",query:{reportingid:n.value,entityid:a.value}})):(console.error("No report selected"),te.fire("Warning","No report selected","warning"))},h=()=>{i.value&&!r&&(r=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for a report",placeholder:!0,placeholderValue:"Select a report",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),r.passedElement.element.addEventListener("choice",function(p){n.value=p.detail.choice.value},!1))};return dt(()=>{a.value=t.currentRoute.value.query.entityid,d().then(()=>{h()})}),jt(()=>{r&&r.destroy()}),Rt(n,p=>{r&&p&&r.setChoiceByValue(p)}),(p,g)=>(P(),N("div",F1,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",L1,[M1,s("div",N1,[s("div",B1,[s("div",j1,[s("form",{onSubmit:Xe(u,["prevent"])},[s("div",V1,[U1,oe(s("select",{"onUpdate:modelValue":g[0]||(g[0]=_=>n.value=_),ref_key:"reportSelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[Y1,(P(!0),N(Te,null,Fe(o.value,_=>(P(),N("option",{key:_.ReportingID,value:_.ReportingID},D(_.ReportName),9,q1))),128))],512),[[it,n.value]])]),H1],32)])])])]))]))}},Q1={props:["modelValue","type","options"],emits:["update:modelValue"]},z1=["type","value"],W1=["value"],G1=["value"];function J1(e,t,o,n,i,l){return P(),N("div",null,[o.type==="text"||o.type==="number"?(P(),N("input",{key:0,type:o.type,class:"form-control",value:o.modelValue,onInput:t[0]||(t[0]=a=>e.$emit("update:modelValue",a.target.value))},null,40,z1)):lt("",!0),o.type==="select"?(P(),N("select",{key:1,class:"form-select",value:o.modelValue,onChange:t[1]||(t[1]=a=>e.$emit("update:modelValue",a.target.value))},[(P(!0),N(Te,null,Fe(o.options,a=>(P(),N("option",{value:a.value,key:a.value},D(a.text),9,G1))),128))],40,W1)):lt("",!0)])}const en=Ue(Q1,[["render",J1]]),X1={name:"ReportAnnual",components:{CustomInput:en,FullScreenLoader:ze},data(){return{reportid:null,entityid:null,indicators:[],selectedIndicator:null,SelectedEntity:null,updateForm:{IndicatorQuestion:"",Indicator:"",IndicatorDefinition:"",RemarksComments:"",EntityID:"",ReportingID:"",ReportedBy:"",ResponseType:"",Response:""},responseInputType:"text",responseInputProps:{},responseInputOptions:[]}},methods:{async fetchSelectedEntity(){try{se.value=!0;const e=await me.collection("mpa_entities").getFirstListItem(`EntityID="${this.$route.query.entityid}"`);if(!e)throw new Error("Entity not found");console.log("Entity:",e),this.SelectedEntity=e.Entity}catch(e){console.error("Error fetching entity:",e.message),te.fire("Error",`Error fetching entity: ${e.message}`,"error")}finally{se.value=!1}},async fetchIndicators(){se.value=!0;try{const e=await me.collection("mpa_project_indicators").getFullList({filter:`EntityID="${this.entityid}" && ReportingPeriod="Annual Report"`}),t=await me.collection("mpa_indicator_reports").getFullList(),o=e.filter(i=>!t.some(l=>l.EntityID===this.entityid&&l.IID===i.IID&&l.ReportingID===this.reportid));o.length===0&&te.fire("No Unreported Indicators","You currently have no unreported indicators under this report, try another report.","info").then(()=>{this.$router.back()});const n=o.reduce((i,l)=>(i.find(a=>a.IID===l.IID)||i.push(l),i),[]);this.indicators=n}catch(e){console.error("Error fetching indicators:",e.message),te.fire("Error",`Error fetching indicators: ${e.message}`,"error")}finally{se.value=!1}},viewDetails(e){this.selectedIndicator=e},openUpdateModal(e){this.selectedIndicator=e,this.updateForm.IndicatorQuestion=e.IndicatorQuestion,this.updateForm.Indicator=e.Indicator,this.updateForm.IndicatorDefinition=e.IndicatorDefinition,this.updateForm.RemarksComments="Enter Your Comments Here",this.updateForm.EntityID=this.entityid,this.updateForm.ReportingID=this.reportid,this.updateForm.ReportedBy="",this.updateForm.ResponseType=e.ResponseType,this.updateForm.Response="",e.ResponseType==="Number"?(this.responseInputType="number",this.responseInputProps={type:"number"}):e.ResponseType==="Percentage"?(this.responseInputType="number",this.responseInputProps={type:"number",step:"0.01"}):e.ResponseType==="Yes/No"?(this.responseInputType="select",this.responseInputOptions=[{value:"Yes",text:"Yes"},{value:"No",text:"No"}]):(this.responseInputType="text",this.responseInputProps={type:"text"})},async submitUpdate(){try{se.value=!0;let e=this.updateForm.Response;if(this.updateForm.ResponseType==="Percentage"&&(e=`${e}%`),!await me.collection("mpa_indicator_reports").create({RID:this.reportid,IID:this.selectedIndicator.IID,EntityID:this.updateForm.EntityID,ReportingID:this.updateForm.ReportingID,ReportedBy:this.updateForm.ReportedBy,Response:e,Comments:this.updateForm.RemarksComments,ResponseType:this.updateForm.ResponseType,AnsweredQuestion:this.updateForm.IndicatorQuestion}))throw new Error("Error updating indicator report");te.fire("Success","Indicator report updated successfully","success"),location.reload()}catch(e){console.error("Error updating indicator report:",e.message),te.fire("Error",`Error updating indicator report: ${e.message}`,"error")}finally{this.fetchIndicators(),se.value=!1,this.selectedIndicator=null,this.updateForm={IndicatorQuestion:"",Indicator:"",IndicatorDefinition:"",RemarksComments:"",EntityID:"",ReportingID:"",ReportedBy:"",ResponseType:"",Response:""},this.$bvModal.hide("kt_modal_3")}}},created(){this.entityid=this.$route.query.entityid,this.reportid=this.$route.query.reportingid,this.fetchIndicators(),this.fetchSelectedEntity()}},Z1={class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},e0={class:"card-body d-flex flex-column justify-content-between"},t0={class:"text-white fw-bold mb-5"},s0={class:"lh-lg"},n0={class:"fw-bolder text-danger"},o0={class:"col-12 mt-3"},i0={class:"card-body px-5 py-5 bg-light shadow-lg table-responsive"},r0={class:"table table-rounded table-bordered border gy-3 gs-3"},a0=s("thead",null,[s("tr",{class:"fw-bold text-gray-800 border-bottom border-gray-200"},[s("th",{class:"bg-dark text-light fw-bolder"},"Category"),s("th",{class:"bg-warning text-dark fw-bolder"},"Indicator"),s("th",{class:"bg-info text-light fw-bolder"},"Definition"),s("th",{class:"bg-dark text-light fw-bolder"},"Actions")])],-1),l0={class:"bg-warning text-dark fw-bolder"},c0={class:"bg-dark text-light fw-bolder"},d0={class:"bg-info text-light fw-bolder"},u0={class:"d-flex justify-content-end"},h0=["onClick"],f0=["onClick"],p0=s("i",{class:"fas fa-pencil fs-3"},null,-1),m0=[p0],g0={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_2"},_0={class:"modal-dialog modal-fullscreen"},v0={class:"modal-content shadow-none"},y0={class:"modal-header"},b0={class:"modal-title"},w0={class:"text-danger fw-bolder"},E0=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),I0={class:"modal-body"},x0={class:"table table-rounded table-bordered border gy-3 gs-3"},C0=s("thead",null,[s("tr",{class:"fw-bold text-gray-800 border-bottom border-gray-200"},[s("th",{class:"bg-dark text-light fw-bolder"},"Question"),s("th",{class:"bg-dark text-light fw-bolder"}," Remarks/Comments "),s("th",{class:"bg-info text-light fw-bolder"}," Response Type "),s("th",{class:"bg-info text-light fw-bolder"}," Reporting Period ")])],-1),S0={key:0},R0={class:"bg-warning text-dark fw-bolder"},$0={class:"bg-dark text-light fw-bolder"},k0={class:"bg-dark text-light fw-bolder"},T0={class:"bg-info text-light fw-bolder"},A0=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-danger shadow-lg","data-bs-dismiss":"modal"}," Close ")],-1),D0={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_3"},P0={class:"modal-dialog modal-fullscreen"},O0={class:"modal-content shadow-none"},F0={class:"modal-header"},L0={class:"modal-title"},M0={class:"text-danger fw-bolder"},N0=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),B0={class:"modal-body"},j0={class:"row"},V0={class:"col-md-6 mb-3"},U0=s("label",{class:"form-label"},"Indicator",-1),Y0={class:"col-md-6 mb-3"},q0=s("label",{class:"form-label"},"Indicator Question",-1),H0={class:"col-md-6 mb-3"},K0=s("label",{class:"form-label"},"Indicator Definition",-1),Q0={class:"col-md-6 mb-3"},z0=s("label",{class:"form-label"},"Your Remarks/Comments",-1),W0={class:"col-md-6 mb-3 d-none"},G0=s("label",{class:"form-label"},"Entity ID",-1),J0={class:"col-md-6 mb-3 d-none"},X0=s("label",{class:"form-label"},"Report ID",-1),Z0={class:"col-md-6 mb-3 d-none"},e2=s("label",{class:"form-label"},"Reported By",-1),t2={class:"col-md-6 mb-3"},s2=s("label",{class:"form-label"},"Expected Response Type",-1),n2={class:"col-md-6 mb-3"},o2=s("label",{class:"form-label"},"Response",-1),i2=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit","data-bs-dismiss":"modal",class:"btn mx-1 float-end mb-2 btn- btn-danger"}," Save changes ")],-1);function r2(e,t,o,n,i,l){var d,u;const a=Qe("FullScreenLoader"),r=Qe("CustomInput");return P(),N("div",null,[ke(a),s("div",Z1,[s("div",e0,[s("h2",t0,[s("span",s0,[J(" Project annual reporting interface "),s("span",n0,"for the entity "+D(i.SelectedEntity)+" (country specific results framework)",1)])])])]),s("div",o0,[s("div",i0,[s("table",r0,[a0,s("tbody",null,[(P(!0),N(Te,null,Fe(i.indicators,h=>(P(),N("tr",{key:h.id},[s("td",l0,D(h.IndicatorSecondaryCategory),1),s("td",c0,D(h.Indicator),1),s("td",d0,D(h.IndicatorDefinition),1),s("td",null,[s("div",u0,[s("button",{class:"btn btn-sm btn-info text-dark fw-bolder me-2",onClick:p=>l.viewDetails(h),"data-bs-toggle":"modal","data-bs-target":"#kt_modal_2"}," More ",8,h0),s("button",{class:"btn btn-sm btn-danger shadow-lg text-light fw-bolder me-2",onClick:p=>l.openUpdateModal(h),"data-bs-toggle":"modal","data-bs-target":"#kt_modal_3"},m0,8,f0)])])]))),128))])]),s("div",g0,[s("div",_0,[s("div",v0,[s("div",y0,[s("h5",b0,[J(" Details for the Indicator "),s("span",w0,D((d=i.selectedIndicator)==null?void 0:d.Indicator),1)]),E0]),s("div",I0,[s("table",x0,[C0,s("tbody",null,[i.selectedIndicator?(P(),N("tr",S0,[s("td",R0,D(i.selectedIndicator.IndicatorQuestion),1),s("td",$0,D(i.selectedIndicator.RemarksComments),1),s("td",k0,D(i.selectedIndicator.ResponseType),1),s("td",T0,D(i.selectedIndicator.ReportingPeriod),1)])):lt("",!0)])])]),A0])])]),s("div",D0,[s("div",P0,[s("div",O0,[s("div",F0,[s("h5",L0,[J(" Report the indicator : "),s("span",M0,D((u=i.selectedIndicator)==null?void 0:u.Indicator),1)]),N0]),s("div",B0,[s("form",{onSubmit:t[9]||(t[9]=Xe((...h)=>l.submitUpdate&&l.submitUpdate(...h),["prevent"]))},[s("div",j0,[s("div",V0,[U0,oe(s("textarea",{style:{height:"100px",color:"red"},class:"form-control","onUpdate:modelValue":t[0]||(t[0]=h=>i.updateForm.Indicator=h)},null,512),[[ve,i.updateForm.Indicator]])]),s("div",Y0,[q0,oe(s("textarea",{style:{height:"100px"},class:"form-control","onUpdate:modelValue":t[1]||(t[1]=h=>i.updateForm.IndicatorQuestion=h)},null,512),[[ve,i.updateForm.IndicatorQuestion]])]),s("div",H0,[K0,oe(s("textarea",{style:{color:"red",height:"100px"},class:"form-control","onUpdate:modelValue":t[2]||(t[2]=h=>i.updateForm.IndicatorDefinition=h),readonly:""},null,512),[[ve,i.updateForm.IndicatorDefinition]])]),s("div",Q0,[z0,oe(s("textarea",{style:{height:"100px"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=h=>i.updateForm.RemarksComments=h)},null,512),[[ve,i.updateForm.RemarksComments]])]),s("div",W0,[G0,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=h=>i.updateForm.EntityID=h),readonly:""},null,512),[[ve,i.updateForm.EntityID]])]),s("div",J0,[X0,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=h=>i.updateForm.ReportingID=h),readonly:""},null,512),[[ve,i.updateForm.ReportingID]])]),s("div",Z0,[e2,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=h=>i.updateForm.ReportedBy=h)},null,512),[[ve,i.updateForm.ReportedBy]])]),s("div",t2,[s2,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=h=>i.updateForm.ResponseType=h),readonly:""},null,512),[[ve,i.updateForm.ResponseType]])]),s("div",n2,[o2,ke(r,{modelValue:i.updateForm.Response,"onUpdate:modelValue":t[8]||(t[8]=h=>i.updateForm.Response=h),type:i.responseInputType,options:i.responseInputOptions},null,8,["modelValue","type","options"])])]),i2],32)])])])])])])])}const a2=Ue(X1,[["render",r2]]),l2={class:"container px-5 py-5"},c2={key:1},d2=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Select Bi-Annual Reporting Entity</h4><span>Select the entity you want to bi-yearly report on.</span></div></div></div>',1),u2={class:"card-body shadow-lg pt-3 bg-light px-5 py-5"},h2={class:"row"},f2={class:"col-md-12"},p2={class:"mb-3 col-md-12 py-5 my-5"},m2=s("label",{class:"px-5 my-5 required form-label"},"Entity",-1),g2=s("option",null,null,-1),_2=["value"],v2=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),y2={__name:"SelectEntity",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1);let a=null;const r=async()=>{l.value=!0;try{const h=await me.collection("mpa_entities").getFullList({filter:'Entity != "RRF"'}),p=sessionStorage.getItem("AuthData");if(!p)throw new Error("No authentication data found");const g=JSON.parse(p),_=g.AccountRole,x=g.EntityID;let S=h;_!=="admin"&&(S=h.filter(Y=>Y.EntityID===x)),o.value=S}catch(h){console.error("Error fetching entities:",h.message),te.fire("Error","Error fetching entities: "+h.message,"error")}finally{l.value=!1}},d=()=>{n.value?(console.log("Selected EntityID:",n.value),t.push({name:"SelectReportBiAnnual",query:{entityid:n.value}})):(console.error("No entity selected"),te.fire("Warning","No entity selected","warning"))},u=()=>{i.value&&!a&&(a=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for an entity",placeholder:!0,placeholderValue:"Select an entity",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),a.passedElement.element.addEventListener("choice",function(h){n.value=h.detail.choice.value},!1))};return dt(()=>{r().then(()=>{u()})}),jt(()=>{a&&a.destroy()}),Rt(n,h=>{a&&h&&a.setChoiceByValue(h)}),(h,p)=>(P(),N("div",l2,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",c2,[d2,s("div",u2,[s("div",h2,[s("div",f2,[s("form",{onSubmit:Xe(d,["prevent"])},[s("div",p2,[m2,oe(s("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),ref_key:"entitySelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[g2,(P(!0),N(Te,null,Fe(o.value,g=>(P(),N("option",{key:g.EntityID,value:g.EntityID},D(g.Entity),9,_2))),128))],512),[[it,n.value]])]),v2],32)])])])]))]))}},b2={class:"container px-5 py-5"},w2={key:1},E2=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Select Bi-Annual Report</h4><span>Select a bi annual report you want to file. All reporting actions will be attached to this report.</span></div></div></div>',1),I2={class:"card-body shadow-lg pt-3 bg-light px-5 py-5"},x2={class:"row"},C2={class:"col-md-12"},S2={class:"mb-3 col-md-12 py-5 my-5"},R2=s("label",{class:"px-5 my-5 required form-label"},"Report",-1),$2=s("option",null,null,-1),k2=["value"],T2=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),A2={__name:"SelectReport",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1),a=j(null);let r=null;const d=async()=>{l.value=!0;try{const p=await me.collection("mpa_reporting_timelines").getFullList({filter:'status="active" && Type="Bi-Annual Report"'});o.value=p}catch(p){console.error("Error fetching reports:",p.message),te.fire("Error","Error fetching reports: "+p.message,"error")}finally{l.value=!1}},u=()=>{n.value?(console.log("Selected ReportingID:",n.value),t.push({name:"ReportBiAnnual",query:{reportingid:n.value,entityid:a.value}})):(console.error("No report selected"),te.fire("Warning","No report selected","warning"))},h=()=>{i.value&&!r&&(r=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for a report",placeholder:!0,placeholderValue:"Select a report",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),r.passedElement.element.addEventListener("choice",function(p){n.value=p.detail.choice.value},!1))};return dt(()=>{a.value=t.currentRoute.value.query.entityid,d().then(()=>{h()})}),jt(()=>{r&&r.destroy()}),Rt(n,p=>{r&&p&&r.setChoiceByValue(p)}),(p,g)=>(P(),N("div",b2,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",w2,[E2,s("div",I2,[s("div",x2,[s("div",C2,[s("form",{onSubmit:Xe(u,["prevent"])},[s("div",S2,[R2,oe(s("select",{"onUpdate:modelValue":g[0]||(g[0]=_=>n.value=_),ref_key:"reportSelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[$2,(P(!0),N(Te,null,Fe(o.value,_=>(P(),N("option",{key:_.ReportingID,value:_.ReportingID},D(_.ReportName),9,k2))),128))],512),[[it,n.value]])]),T2],32)])])])]))]))}},D2={name:"ReportAnnual",components:{CustomInput:en,FullScreenLoader:ze},data(){return{reportid:null,entityid:null,indicators:[],selectedIndicator:null,SelectedEntity:null,updateForm:{IndicatorQuestion:"",Indicator:"",IndicatorDefinition:"",RemarksComments:"",EntityID:"",ReportingID:"",ReportedBy:"",ResponseType:"",Response:""},responseInputType:"text",responseInputProps:{},responseInputOptions:[]}},methods:{async fetchSelectedEntity(){try{se.value=!0;const e=await me.collection("mpa_entities").getFirstListItem(`EntityID="${this.$route.query.entityid}"`);if(!e)throw new Error("Entity not found");console.log("Entity:",e),this.SelectedEntity=e.Entity}catch(e){console.error("Error fetching entity:",e.message),te.fire("Error",`Error fetching entity: ${e.message}`,"error")}finally{se.value=!1}},async fetchIndicators(){se.value=!0;try{const e=await me.collection("mpa_project_indicators").getFullList({filter:`EntityID="${this.entityid}" && ReportingPeriod="Bi-Annual Report"`}),t=await me.collection("mpa_indicator_reports").getFullList(),o=e.filter(i=>!t.some(l=>l.EntityID===this.entityid&&l.IID===i.IID&&l.ReportingID===this.reportid));o.length===0&&te.fire("No Unreported Indicators","You currently have no unreported indicators under this report, try another report.","info").then(()=>{this.$router.back()});const n=o.reduce((i,l)=>(i.find(a=>a.IID===l.IID)||i.push(l),i),[]);this.indicators=n}catch(e){console.error("Error fetching indicators:",e.message),te.fire("Error",`Error fetching indicators: ${e.message}`,"error")}finally{se.value=!1}},viewDetails(e){this.selectedIndicator=e},openUpdateModal(e){this.selectedIndicator=e,this.updateForm.IndicatorQuestion=e.IndicatorQuestion,this.updateForm.Indicator=e.Indicator,this.updateForm.IndicatorDefinition=e.IndicatorDefinition,this.updateForm.RemarksComments="Enter Your Comments Here",this.updateForm.EntityID=this.entityid,this.updateForm.ReportingID=this.reportid,this.updateForm.ReportedBy="",this.updateForm.ResponseType=e.ResponseType,this.updateForm.Response="",e.ResponseType==="Number"?(this.responseInputType="number",this.responseInputProps={type:"number"}):e.ResponseType==="Percentage"?(this.responseInputType="number",this.responseInputProps={type:"number",step:"0.01"}):e.ResponseType==="Yes/No"?(this.responseInputType="select",this.responseInputOptions=[{value:"Yes",text:"Yes"},{value:"No",text:"No"}]):(this.responseInputType="text",this.responseInputProps={type:"text"})},async submitUpdate(){try{se.value=!0;let e=this.updateForm.Response;if(this.updateForm.ResponseType==="Percentage"&&(e=`${e}%`),!await me.collection("mpa_indicator_reports").create({RID:this.reportid,IID:this.selectedIndicator.IID,EntityID:this.updateForm.EntityID,ReportingID:this.updateForm.ReportingID,ReportedBy:this.updateForm.ReportedBy,Response:e,Comments:this.updateForm.RemarksComments,ResponseType:this.updateForm.ResponseType,AnsweredQuestion:this.updateForm.IndicatorQuestion}))throw new Error("Error updating indicator report");te.fire("Success","Indicator report updated successfully","success"),location.reload()}catch(e){console.error("Error updating indicator report:",e.message),te.fire("Error",`Error updating indicator report: ${e.message}`,"error")}finally{this.fetchIndicators(),se.value=!1,this.selectedIndicator=null,this.updateForm={IndicatorQuestion:"",Indicator:"",IndicatorDefinition:"",RemarksComments:"",EntityID:"",ReportingID:"",ReportedBy:"",ResponseType:"",Response:""},this.$bvModal.hide("kt_modal_3")}}},created(){this.entityid=this.$route.query.entityid,this.reportid=this.$route.query.reportingid,this.fetchIndicators(),this.fetchSelectedEntity()}},P2={class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},O2={class:"card-body d-flex flex-column justify-content-between"},F2={class:"text-white fw-bold mb-5"},L2={class:"lh-lg"},M2={class:"fw-bolder text-danger"},N2={class:"card-body pt-3 fw-bolder text-white shadow-lg table-responsive"},B2={class:"alert alert-primary shadow-lg"},j2=s("span",{class:"float-end svg-icon svg-icon-2hx svg-icon-primary me-3"},[s("i",{class:"fas fa-info fa-2x","aria-hidden":"true"})],-1),V2={class:"d-flex flex-column"},U2={class:"mb-1 text-dark"},Y2={class:"fw-bolder text-danger"},q2=s("span",null,"View and edit project indicators",-1),H2={class:"col-12 mt-3"},K2={class:"card-body px-5 py-5 bg-light shadow-lg table-responsive"},Q2={class:"table table-rounded table-bordered border gy-3 gs-3"},z2=s("thead",null,[s("tr",{class:"fw-bold text-gray-800 border-bottom border-gray-200"},[s("th",{class:"fw-bolder"},"Category"),s("th",{class:"fw-bolder"},"Indicator"),s("th",{class:"fw-bolder"},"Definition"),s("th",{class:"fw-bolder"},"Actions")])],-1),W2={class:"text-dark fw-bolder"},G2={class:"fw-bolder"},J2={class:"fw-bolder"},X2={class:"d-flex justify-content-end"},Z2=["onClick"],eE=["onClick"],tE=s("i",{class:"fas fa-pencil fs-3"},null,-1),sE=[tE],nE={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_2"},oE={class:"modal-dialog modal-fullscreen"},iE={class:"modal-content shadow-none"},rE={class:"modal-header"},aE={class:"modal-title"},lE={class:"text-danger fw-bolder"},cE=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),dE={class:"modal-body"},uE={class:"table table-rounded table-bordered border gy-3 gs-3"},hE=s("thead",null,[s("tr",{class:"fw-bold text-gray-800 border-bottom border-gray-200"},[s("th",{class:"bg-dark text-light fw-bolder"},"Question"),s("th",{class:"bg-dark text-light fw-bolder"}," Remarks/Comments "),s("th",{class:"bg-info text-light fw-bolder"}," Response Type "),s("th",{class:"bg-info text-light fw-bolder"}," Reporting Period ")])],-1),fE={key:0},pE={class:"bg-warning text-dark fw-bolder"},mE={class:"bg-dark text-light fw-bolder"},gE={class:"bg-dark text-light fw-bolder"},_E={class:"bg-info text-light fw-bolder"},vE=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-danger shadow-lg","data-bs-dismiss":"modal"}," Close ")],-1),yE={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_3"},bE={class:"modal-dialog modal-fullscreen"},wE={class:"modal-content shadow-none"},EE={class:"modal-header"},IE={class:"modal-title"},xE={class:"text-danger fw-bolder"},CE=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),SE={class:"modal-body"},RE={class:"row"},$E={class:"col-md-6 mb-3"},kE=s("label",{class:"form-label"},"Indicator",-1),TE={class:"col-md-6 mb-3"},AE=s("label",{class:"form-label"},"Indicator Question",-1),DE={class:"col-md-6 mb-3"},PE=s("label",{class:"form-label"},"Indicator Definition",-1),OE={class:"col-md-6 mb-3"},FE=s("label",{class:"form-label"},"Your Remarks/Comments",-1),LE={class:"col-md-6 mb-3 d-none"},ME=s("label",{class:"form-label"},"Entity ID",-1),NE={class:"col-md-6 mb-3 d-none"},BE=s("label",{class:"form-label"},"Report ID",-1),jE={class:"col-md-6 mb-3 d-none"},VE=s("label",{class:"form-label"},"Reported By",-1),UE={class:"col-md-6 mb-3"},YE=s("label",{class:"form-label"},"Expected Response Type",-1),qE={class:"col-md-6 mb-3"},HE=s("label",{class:"form-label"},"Response",-1),KE=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit","data-bs-dismiss":"modal",class:"btn mx-1 float-end mb-2 btn- btn-danger"}," Save changes ")],-1);function QE(e,t,o,n,i,l){var d,u;const a=Qe("FullScreenLoader"),r=Qe("CustomInput");return P(),N("div",null,[ke(a),s("div",P2,[s("div",O2,[s("h2",F2,[s("span",L2,[J(" Project bi-annual reporting interface "),s("span",M2,"for the entity "+D(i.SelectedEntity)+" (country specific results framework)",1)])])])]),s("div",N2,[s("div",B2,[j2,s("div",V2,[s("h4",U2,[J(" Project indicator Reporting Interface "),s("span",Y2,"for the entity "+D(i.SelectedEntity)+" (Country Specific Results Framework)",1)]),q2])])]),s("div",H2,[s("div",K2,[s("table",Q2,[z2,s("tbody",null,[(P(!0),N(Te,null,Fe(i.indicators,h=>(P(),N("tr",{key:h.id},[s("td",W2,D(h.IndicatorSecondaryCategory),1),s("td",G2,D(h.Indicator),1),s("td",J2,D(h.IndicatorDefinition),1),s("td",null,[s("div",X2,[s("button",{class:"btn btn-sm fw-bolder me-2",onClick:p=>l.viewDetails(h),"data-bs-toggle":"modal","data-bs-target":"#kt_modal_2"}," More ",8,Z2),s("button",{class:"btn btn-sm shadow-lg fw-bolder me-2",onClick:p=>l.openUpdateModal(h),"data-bs-toggle":"modal","data-bs-target":"#kt_modal_3"},sE,8,eE)])])]))),128))])]),s("div",nE,[s("div",oE,[s("div",iE,[s("div",rE,[s("h5",aE,[J(" Details for the Indicator "),s("span",lE,D((d=i.selectedIndicator)==null?void 0:d.Indicator),1)]),cE]),s("div",dE,[s("table",uE,[hE,s("tbody",null,[i.selectedIndicator?(P(),N("tr",fE,[s("td",pE,D(i.selectedIndicator.IndicatorQuestion),1),s("td",mE,D(i.selectedIndicator.RemarksComments),1),s("td",gE,D(i.selectedIndicator.ResponseType),1),s("td",_E,D(i.selectedIndicator.ReportingPeriod),1)])):lt("",!0)])])]),vE])])]),s("div",yE,[s("div",bE,[s("div",wE,[s("div",EE,[s("h5",IE,[J(" Report the indicator : "),s("span",xE,D((u=i.selectedIndicator)==null?void 0:u.Indicator),1)]),CE]),s("div",SE,[s("form",{onSubmit:t[9]||(t[9]=Xe((...h)=>l.submitUpdate&&l.submitUpdate(...h),["prevent"]))},[s("div",RE,[s("div",$E,[kE,oe(s("textarea",{style:{height:"100px",color:"red"},class:"form-control","onUpdate:modelValue":t[0]||(t[0]=h=>i.updateForm.Indicator=h)},null,512),[[ve,i.updateForm.Indicator]])]),s("div",TE,[AE,oe(s("textarea",{style:{height:"100px"},class:"form-control","onUpdate:modelValue":t[1]||(t[1]=h=>i.updateForm.IndicatorQuestion=h)},null,512),[[ve,i.updateForm.IndicatorQuestion]])]),s("div",DE,[PE,oe(s("textarea",{style:{color:"red",height:"100px"},class:"form-control","onUpdate:modelValue":t[2]||(t[2]=h=>i.updateForm.IndicatorDefinition=h),readonly:""},null,512),[[ve,i.updateForm.IndicatorDefinition]])]),s("div",OE,[FE,oe(s("textarea",{style:{height:"100px"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=h=>i.updateForm.RemarksComments=h)},null,512),[[ve,i.updateForm.RemarksComments]])]),s("div",LE,[ME,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=h=>i.updateForm.EntityID=h),readonly:""},null,512),[[ve,i.updateForm.EntityID]])]),s("div",NE,[BE,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=h=>i.updateForm.ReportingID=h),readonly:""},null,512),[[ve,i.updateForm.ReportingID]])]),s("div",jE,[VE,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=h=>i.updateForm.ReportedBy=h)},null,512),[[ve,i.updateForm.ReportedBy]])]),s("div",UE,[YE,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=h=>i.updateForm.ResponseType=h),readonly:""},null,512),[[ve,i.updateForm.ResponseType]])]),s("div",qE,[HE,ke(r,{modelValue:i.updateForm.Response,"onUpdate:modelValue":t[8]||(t[8]=h=>i.updateForm.Response=h),type:i.responseInputType,options:i.responseInputOptions},null,8,["modelValue","type","options"])])]),KE],32)])])])])])])])}const zE=Ue(D2,[["render",QE]]);class fo{constructor(t=0,o="Network Error"){this.status=t,this.text=o}}const WE=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},Nt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:WE()},mr=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},GE=(e,t="https://api.emailjs.com")=>{if(!e)return;const o=mr(e);Nt.publicKey=o.publicKey,Nt.blockHeadless=o.blockHeadless,Nt.storageProvider=o.storageProvider,Nt.blockList=o.blockList,Nt.limitRate=o.limitRate,Nt.origin=o.origin||t},jc=async(e,t,o={})=>{const n=await fetch(Nt.origin+e,{method:"POST",headers:o,body:t}),i=await n.text(),l=new fo(n.status,i);if(n.ok)return l;throw l},Vc=(e,t,o)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o||typeof o!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},JE=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Uc=e=>e.webdriver||!e.languages||e.languages.length===0,Yc=()=>new fo(451,"Unavailable For Headless Browser"),XE=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},ZE=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},eI=(e,t)=>e instanceof FormData?e.get(t):e[t],qc=(e,t)=>{if(ZE(e))return!1;XE(e.list,e.watchVariable);const o=eI(t,e.watchVariable);return typeof o!="string"?!1:e.list.includes(o)},Hc=()=>new fo(403,"Forbidden"),tI=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},sI=async(e,t,o)=>{const n=Number(await o.get(e)||0);return t-Date.now()+n},Kc=async(e,t,o)=>{if(!t.throttle||!o)return!1;tI(t.throttle,t.id);const n=t.id||e;return await sI(n,t.throttle,o)>0?!0:(await o.set(n,Date.now().toString()),!1)},Qc=()=>new fo(429,"Too Many Requests"),nI=async(e,t,o,n)=>{const i=mr(n),l=i.publicKey||Nt.publicKey,a=i.blockHeadless||Nt.blockHeadless,r=i.storageProvider||Nt.storageProvider,d={...Nt.blockList,...i.blockList},u={...Nt.limitRate,...i.limitRate};return a&&Uc(navigator)?Promise.reject(Yc()):(Vc(l,e,t),JE(o),o&&qc(d,o)?Promise.reject(Hc()):await Kc(location.pathname,u,r)?Promise.reject(Qc()):jc("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:t,template_params:o}),{"Content-type":"application/json"}))},oI=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},iI=e=>typeof e=="string"?document.querySelector(e):e,rI=async(e,t,o,n)=>{const i=mr(n),l=i.publicKey||Nt.publicKey,a=i.blockHeadless||Nt.blockHeadless,r=Nt.storageProvider||i.storageProvider,d={...Nt.blockList,...i.blockList},u={...Nt.limitRate,...i.limitRate};if(a&&Uc(navigator))return Promise.reject(Yc());const h=iI(o);Vc(l,e,t),oI(h);const p=new FormData(h);return qc(d,p)?Promise.reject(Hc()):await Kc(location.pathname,u,r)?Promise.reject(Qc()):(p.append("lib_version","4.4.1"),p.append("service_id",e),p.append("template_id",t),p.append("user_id",l),jc("/api/v1.0/email/send-form",p))},zc={init:GE,send:nI,sendForm:rI,EmailJSResponseStatus:fo},gr=async(e,t,o,n)=>{const i="service_xjdwxt8",l="template_b8gvtwg",a="xWOiexQqcfZQ5cchR",r={to_email:e,to_name:t,user_code:o,user_password:n};try{await zc.send(i,l,r,a),console.log("Email sent successfully")}catch(d){console.error("Error sending email:",d),te.fire({title:"Error",text:`Failed to send email: ${d.message}. Please check the console for more details.`,icon:"error",confirmButtonText:"OK"})}},aI={components:{FullScreenLoader:ze},setup(){const e=j([]),t=j([]),o=j(!1),n=j(!1),i=j(!1),l=j({name:"",EntityID:"",UserCode:"",Phone:"",Nationality:"",PhoneNumber:"",Address:"",ParentOrganization:"",Sex:"Male",JobTitle:"",AccountRole:"admin",UserID:"",email:"",password:""}),a=j(null),r=[{key:"name",label:"Name"},{key:"EntityID",label:"Entity"},{key:"UserCode",label:"User Code"},{key:"Phone",label:"Phone"},{key:"Nationality",label:"Nationality"},{key:"PhoneNumber",label:"Phone Number"},{key:"Address",label:"Address"},{key:"ParentOrganization",label:"Parent Organization"},{key:"Sex",label:"Sex"},{key:"JobTitle",label:"Job Title"},{key:"AccountRole",label:"Account Role"},{key:"email",label:"Email"},{key:"password",label:"Password"}];dt(async()=>{se.value=!0,await u(),await d(),h()}),jt(()=>{p()});const d=async()=>{try{se.value=!0;const R=await me.collection("mpa_users").getFullList({sort:"-created",filter:'AccountRole="admin"'});e.value=R.map(A=>({id:A.id,name:A.name,EntityID:A.EntityID,UserCode:A.UserCode,Phone:A.Phone,Nationality:A.Nationality,PhoneNumber:A.PhoneNumber,Address:A.Address,ParentOrganization:A.ParentOrganization,Sex:A.Sex,JobTitle:A.JobTitle,AccountRole:"admin",UserID:A.UserID,email:A.email,password:A.password}))}catch(R){console.error("Fetch users error:",R),te.fire("Error",`Failed to fetch users data: ${R.message}`,"error")}finally{se.value=!1}},u=async()=>{try{se.value=!0;const R=await me.collection("mpa_entities").getFullList({sort:"Entity"});t.value=R.map(A=>({Entity:A.Entity,EntityID:A.EntityID}))}catch(R){console.error("Fetch entities error:",R),te.fire("Error",`Failed to fetch entities data: ${R.message}`,"error")}finally{se.value=!1}},h=()=>{me.autoCancellation(!1),me.collection("mpa_users").subscribe("*",g)},p=()=>{me.collection("mpa_users").unsubscribe("*")},g=R=>{switch(R.action){case"create":e.value.push(R.record);break;case"update":const A=e.value.findIndex(m=>m.id===R.record.id);A!==-1&&(e.value[A]=R.record);break;case"delete":e.value=e.value.filter(m=>m.id!==R.record.id);break}},_=R=>{o.value=!0,l.value={...R},n.value=!0},x=()=>{o.value=!1,l.value={name:"",EntityID:"",UserCode:w(),Phone:"",Nationality:"",PhoneNumber:"",Address:"",ParentOrganization:"",Sex:"Male",JobTitle:"",AccountRole:"admin",UserID:H(),email:"",password:I()},n.value=!0},S=async()=>{try{se.value=!0,o.value?await U():await Y()}catch(R){console.error("Submit form error:",R),te.fire("Error",`Failed to submit form: ${R.message}`,"error")}finally{se.value=!1}},Y=async()=>{try{se.value=!0;const R=await me.collection("mpa_users").create(l.value);te.fire("Success","User created successfully.","success"),n.value=!1,await gr(l.value.email,l.value.name,l.value.UserCode,l.value.password)}catch(R){console.error("Create user error:",R),te.fire({title:"Error",text:`Failed to create user: ${R.message}. Please check the console for more details.`,icon:"error",confirmButtonText:"OK"})}finally{se.value=!1}},U=async()=>{try{se.value=!0,await me.collection("mpa_users").update(l.value.id,l.value),te.fire("Success","User updated successfully.","success"),n.value=!1}catch(R){console.error("Update user error:",R),te.fire("Error",`Failed to update user: ${R.message}`,"error")}finally{se.value=!1}},V=async R=>{try{(await te.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed&&(se.value=!0,await me.collection("mpa_users").delete(R),te.fire("Deleted!","User has been deleted.","success"))}catch(A){console.error("Delete user error:",A),te.fire("Error",`Failed to delete user: ${A.message}`,"error")}finally{se.value=!1}},Q=R=>{a.value={...R},i.value=!0},re=()=>{i.value=!1,a.value=null},Re=()=>{n.value=!1,l.value={}},O=()=>{const R=Math.floor(Math.random()*1e4),A=Date.now()%1e5;return(R+A).toString().slice(0,6).padStart(6,"0")},H=()=>O(),w=()=>O(),I=()=>O();return{users:e,entities:t,isEditMode:o,isModalOpen:n,showViewModal:i,formData:l,currentUser:a,formFields:r,openCreateModal:x,submitForm:S,openEditModal:_,deleteUser:V,openViewModal:Q,closeViewModal:re,closeModal:Re}}},Lt=e=>(Zt("data-v-2859375f"),e=e(),es(),e),lI={class:"dashboard"},cI={class:"dashboard-header"},dI=Lt(()=>s("h1",null,"Manage Regional Admin Users",-1)),uI={class:"dashboard-actions"},hI={class:"row"},fI={class:"col-12"},pI={class:"dashboard-actions"},mI=Lt(()=>s("i",{class:"fas fa-plus"},null,-1)),gI={class:"indicator-grid card"},_I={class:"card-content card-body"},vI={style:{color:"#7239EA"}},yI={style:{color:"black"}},bI={style:{color:"black"}},wI={class:"card-actions card-footer"},EI=["onClick"],II=Lt(()=>s("i",{style:{color:"#7239EA"},class:"fas fa-edit"},null,-1)),xI=[II],CI=["onClick"],SI=Lt(()=>s("i",{style:{color:"#F8285A !important"},class:"fas fa-trash"},null,-1)),RI=[SI],$I=["onClick"],kI=Lt(()=>s("i",{style:{color:"#F6C000"},class:"fas fa-eye"},null,-1)),TI=[kI],AI={class:"form-group"},DI=Lt(()=>s("label",{for:"name"},"Name",-1)),PI={class:"form-group"},OI=Lt(()=>s("label",{for:"EntityID"},"Entity",-1)),FI=["value"],LI={class:"form-group"},MI=Lt(()=>s("label",{for:"Phone"},"Phone",-1)),NI={class:"form-group"},BI=Lt(()=>s("label",{for:"Nationality"},"Nationality",-1)),jI=["value"],VI={class:"form-group"},UI=Lt(()=>s("label",{for:"PhoneNumber"},"Phone Number",-1)),YI={class:"form-group"},qI=Lt(()=>s("label",{for:"Address"},"Address",-1)),HI={class:"form-group"},KI=Lt(()=>s("label",{for:"ParentOrganization"},"Parent Organization",-1)),QI={class:"form-group"},zI=Lt(()=>s("label",{for:"Sex"},"Sex",-1)),WI=Lt(()=>s("option",{value:"Male"},"Male",-1)),GI=Lt(()=>s("option",{value:"Female"},"Female",-1)),JI=[WI,GI],XI={class:"form-group"},ZI=Lt(()=>s("label",{for:"JobTitle"},"Job Title",-1)),ex={class:"form-group"},tx=Lt(()=>s("label",{for:"email"},"Email",-1)),sx={class:"modal-actions"},nx={type:"submit",class:"btn btn-primary"},ox=Lt(()=>s("h2",null,"User Details",-1)),ix={key:0,class:"indicator-details"};function rx(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",lI,[e.isLoading?(P(),Vt(a,{key:0})):lt("",!0),s("header",cI,[dI,s("div",uI,[s("div",hI,[s("div",fI,[s("div",pI,[s("button",{class:"btn btn-primary btn-add",onClick:t[0]||(t[0]=(...r)=>n.openCreateModal&&n.openCreateModal(...r))},[mI,J(" Create ")])])])])])]),s("div",gI,[(P(!0),N(Te,null,Fe(n.users,r=>(P(),N("div",{key:r.id,class:"indicator-card"},[s("div",_I,[s("h3",vI,D(r.name),1),s("p",yI,"User Code: "+D(r.UserCode),1),s("p",bI,"Account Role: "+D(r.AccountRole),1),s("div",wI,[s("button",{onClick:d=>n.openEditModal(r),class:"btn-icon btn-danger btn",title:"Edit"},xI,8,EI),s("button",{onClick:d=>e.confirmDelete(r),class:"btn-icon btn-info btn",title:"Delete"},RI,8,CI),s("button",{onClick:d=>n.openViewModal(r),class:"btn-icon btn-info btn",title:"View"},TI,8,$I)])])]))),128))]),n.isModalOpen?(P(),N("div",{key:1,class:"modal-overlay",onClick:t[14]||(t[14]=(...r)=>n.closeModal&&n.closeModal(...r))},[s("div",{class:"modal-content",onClick:t[13]||(t[13]=Xe(()=>{},["stop"]))},[s("h2",null,D(n.isEditMode?"Edit Regional Admin User":"Create Regional Admin User"),1),s("form",{onSubmit:t[12]||(t[12]=Xe((...r)=>n.submitForm&&n.submitForm(...r),["prevent"]))},[s("div",AI,[DI,oe(s("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=r=>n.formData.name=r),required:""},null,512),[[ve,n.formData.name]])]),s("div",PI,[OI,oe(s("select",{id:"EntityID","onUpdate:modelValue":t[2]||(t[2]=r=>n.formData.EntityID=r),required:""},[(P(!0),N(Te,null,Fe(n.entities,r=>(P(),N("option",{key:r.EntityID,value:r.EntityID},D(r.Entity),9,FI))),128))],512),[[it,n.formData.EntityID]])]),s("div",LI,[MI,oe(s("input",{id:"Phone","onUpdate:modelValue":t[3]||(t[3]=r=>n.formData.Phone=r)},null,512),[[ve,n.formData.Phone]])]),s("div",NI,[BI,oe(s("select",{id:"Nationality","onUpdate:modelValue":t[4]||(t[4]=r=>n.formData.Nationality=r),required:""},[(P(!0),N(Te,null,Fe(n.entities,r=>(P(),N("option",{key:r.EntityID,value:r.Entity},D(r.Entity),9,jI))),128))],512),[[it,n.formData.Nationality]])]),s("div",VI,[UI,oe(s("input",{id:"PhoneNumber","onUpdate:modelValue":t[5]||(t[5]=r=>n.formData.PhoneNumber=r)},null,512),[[ve,n.formData.PhoneNumber]])]),s("div",YI,[qI,oe(s("input",{id:"Address","onUpdate:modelValue":t[6]||(t[6]=r=>n.formData.Address=r)},null,512),[[ve,n.formData.Address]])]),s("div",HI,[KI,oe(s("input",{id:"ParentOrganization","onUpdate:modelValue":t[7]||(t[7]=r=>n.formData.ParentOrganization=r)},null,512),[[ve,n.formData.ParentOrganization]])]),s("div",QI,[zI,oe(s("select",{id:"Sex","onUpdate:modelValue":t[8]||(t[8]=r=>n.formData.Sex=r)},JI,512),[[it,n.formData.Sex]])]),s("div",XI,[ZI,oe(s("input",{id:"JobTitle","onUpdate:modelValue":t[9]||(t[9]=r=>n.formData.JobTitle=r)},null,512),[[ve,n.formData.JobTitle]])]),s("div",ex,[tx,oe(s("input",{id:"email",type:"email","onUpdate:modelValue":t[10]||(t[10]=r=>n.formData.email=r)},null,512),[[ve,n.formData.email]])]),s("div",sx,[s("button",nx,D(n.isEditMode?"Update":"Create"),1),s("button",{type:"button",onClick:t[11]||(t[11]=(...r)=>n.closeModal&&n.closeModal(...r)),class:"btn btn-secondary"},"Cancel")])],32)])])):lt("",!0),n.showViewModal?(P(),N("div",{key:2,class:"modal-overlay",onClick:t[17]||(t[17]=(...r)=>n.closeViewModal&&n.closeViewModal(...r))},[s("div",{class:"modal-content view-modal",onClick:t[16]||(t[16]=Xe(()=>{},["stop"]))},[ox,n.currentUser?(P(),N("div",ix,[(P(!0),N(Te,null,Fe(n.formFields,r=>(P(),N("div",{key:r.key,class:"detail-item"},[s("strong",null,D(r.label)+":",1),s("span",null,D(n.currentUser[r.key]),1)]))),128))])):lt("",!0),s("button",{onClick:t[15]||(t[15]=(...r)=>n.closeViewModal&&n.closeViewModal(...r)),class:"btn btn-secondary"},"Close")])])):lt("",!0)])}const ax=Ue(aI,[["render",rx],["__scopeId","data-v-2859375f"]]),lx={components:{CustomInput:en},name:"ReportAnnual",setup(){const e=ys(),t=j(e.query.entityid),o=j(e.query.reportingid),n=j([]),i=j(null),l=j(null),a=j(null),r=j([]),d=j({}),u=j("text"),h=j({}),p=j([]);se.value=!0;const g=O=>te.fire("Error",O,"error"),_=O=>te.fire("Success",O,"success"),x=async(O,H="")=>{try{return se.value=!0,await me.collection(O).getFullList(200,{filter:H})}catch(w){return g(`Error fetching ${O}: ${w.message}`),[]}finally{se.value=!1}},S=async()=>{const O=await x("mpa_entities",`EntityID="${t.value}"`);l.value=O.length?O[0].Entity:null},Y=async()=>{const O=await x("mpa_reporting_timelines",`ReportingID="${e.query.reportingid}"`);a.value=O.length?O[0].ReportName:null},U=async()=>{try{const O=`EntityID='${e.query.entityid}' && ReportingPeriod='Quarterly Report' && ReportingID='${e.query.reportingid}' && Year='${e.query.year}'`,w=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:O})).filter((I,R,A)=>R===A.findIndex(m=>m.IID===I.IID));if(!w.length){te.fire("No Unreported Indicators","You currently have no unreported indicators under this report, try another report.","info").then(()=>this.$router.back()),se.value=!1;return}n.value=w,r.value=w,hs(()=>V())}catch(O){console.error("Error fetching indicators:",O),te.fire({icon:"error",title:"Error",text:"Failed to fetch indicators data. Please try again later."})}finally{se.value=!1}},V=()=>{$.fn.DataTable.isDataTable("#datatable")&&$("#datatable").DataTable().destroy();const O=n.value.map(H=>[H.IndicatorSecondaryCategory,H.Indicator,H.Response,H.AnsweredQuestion,H.Comments,`<div class="d-flex justify-content-end">
          <button data-bs-toggle="modal" data-bs-target="#kt_modal_3" class="btn btn-sm btn-danger shadow-lg fw-bolder me-2 open-update" data-id="${H.id}"><i class="fas fa-pencil fs-3"></i></button>
        </div>`]);$("#datatable").DataTable({data:O,columns:[{title:"Category"},{title:"Indicator"},{title:"Reported Response"},{title:"Question"},{title:"Comment"},{title:"Actions"}],dom:"Bfrtip",buttons:["csv","excel","pdf","copy","print"],responsive:!0,paging:!0,pageLength:10}),$("#datatable").on("click",".view-details",H=>Q($(H.currentTarget).data("id"))),$("#datatable").on("click",".open-update",H=>re($(H.currentTarget).data("id")))},Q=O=>{i.value=n.value.find(H=>H.id===O)},re=O=>{i.value=n.value.find(H=>H.id===O),Object.assign(d.value,i.value,{EntityID:t.value,ReportingID:o.value,ReportedBy:""}),u.value=i.value.ResponseType==="Number"||i.value.ResponseType==="Percentage"?"number":i.value.ResponseType==="Yes/No"?"select":"text",h.value=u.value==="number"?{type:"number",step:u.value==="Percentage"?"0.01":"1"}:{type:"text"},p.value=u.value==="select"?[{value:"Yes",text:"Yes"},{value:"No",text:"No"}]:[]},Re=async()=>{try{se.value=!0;const O=d.value.ResponseType==="Percentage"?`${d.value.Response}%`:d.value.Response,H=await me.collection("mpa_indicator_reports").getFirstListItem(`RID="${d.value.RID}" && IID="${d.value.IID}"`);H&&await me.collection("mpa_indicator_reports").update(H.id,{Response:O,Comments:d.value.Comments,IndicatorScore:d.value.IndicatorScore,AnsweredQuestion:d.value.IndicatorQuestion}),_("Indicator report updated successfully"),U()}catch(O){console.error("Error Details:",O),g(`Error updating indicator report: ${O.message}`)}finally{se.value=!1,i.value=null,d.value={}}};return dt(()=>{t.value=e.query.entityid,o.value=e.query.reportingid,S(),U(),Y()}),{entityid:t,reportid:o,indicators:n,selectedIndicator:i,SelectedEntity:l,updateForm:d,responseInputType:u,responseInputProps:h,responseInputOptions:p,fetchSelectedEntity:S,fetchIndicators:U,initializeDataTable:V,viewDetails:Q,SelectedReport:a,openUpdateModal:re,submitUpdate:Re,isLoading:se}}},cx={class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},dx={class:"card-body d-flex flex-column justify-content-between"},ux={class:"text-white fw-bold mb-5"},hx={class:"lh-lg"},fx=s("span",{class:"fw-bolder text-warning"}," country specific results framework",-1),px={class:"col-12 mt-3"},mx={class:"card-body px-5 py-5 bg-light shadow-lg table-responsive"},gx={id:"datatable",ref:"datatable",class:"t table-bordered"},_x={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_3"},vx={class:"modal-dialog modal-fullscreen"},yx={class:"modal-content shadow-none"},bx={class:"modal-header"},wx={class:"modal-title"},Ex={class:"text-danger fw-bolder"},Ix=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),xx={class:"modal-body"},Cx={class:"row"},Sx={class:"col-md-6 mb-3"},Rx=s("label",{class:"form-label"},"Indicator",-1),$x={class:"col-md-6 mb-3"},kx=s("label",{class:"form-label"},"Indicator Question",-1),Tx={class:"col-md-6 mb-3"},Ax=s("label",{class:"form-label"},"Indicator Definition",-1),Dx={class:"col-md-6 mb-3"},Px=s("label",{class:"form-label"},"Your Remarks/Comments",-1),Ox={class:"col-md-6 mb-3 d-none"},Fx=s("label",{class:"form-label"},"Entity ID",-1),Lx={class:"col-md-6 mb-3 d-none"},Mx=s("label",{class:"form-label"},"Report ID",-1),Nx={class:"col-md-6 mb-3 d-none"},Bx=s("label",{class:"form-label"},"Reported By",-1),jx={class:"col-md-6 mb-3"},Vx=s("label",{class:"form-label"},"Expected Response Type",-1),Ux={class:"col-md-6 mb-3"},Yx=s("label",{class:"form-label"},"Response",-1),qx=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit","data-bs-dismiss":"modal",class:"btn mx-1 float-end mb-2 btn- btn-danger"}," Save changes ")],-1);function Hx(e,t,o,n,i,l){var d;const a=Qe("FullScreenLoader"),r=Qe("CustomInput");return P(),N("div",null,[ke(a),s("div",cx,[s("div",dx,[s("h3",ux,[s("span",hx,[J(" Project "+D(n.SelectedReport)+" for "+D(n.SelectedEntity)+" ",1),fx])])])]),s("div",px,[s("div",mx,[s("table",gx,null,512),s("div",_x,[s("div",vx,[s("div",yx,[s("div",bx,[s("h5",wx,[J(" View reported indicator : "),s("span",Ex,D((d=n.selectedIndicator)==null?void 0:d.Indicator),1)]),Ix]),s("div",xx,[s("form",{onSubmit:t[9]||(t[9]=Xe((...u)=>n.submitUpdate&&n.submitUpdate(...u),["prevent"]))},[s("div",Cx,[s("div",Sx,[Rx,oe(s("textarea",{style:{height:"200px",color:"red"},class:"form-control","onUpdate:modelValue":t[0]||(t[0]=u=>n.updateForm.Indicator=u)},null,512),[[ve,n.updateForm.Indicator]])]),s("div",$x,[kx,oe(s("textarea",{style:{height:"200px"},class:"form-control","onUpdate:modelValue":t[1]||(t[1]=u=>n.updateForm.IndicatorQuestion=u)},null,512),[[ve,n.updateForm.IndicatorQuestion]])]),s("div",Tx,[Ax,oe(s("textarea",{style:{color:"red",height:"200px"},class:"form-control","onUpdate:modelValue":t[2]||(t[2]=u=>n.updateForm.IndicatorDefinition=u),readonly:""},null,512),[[ve,n.updateForm.IndicatorDefinition]])]),s("div",Dx,[Px,oe(s("textarea",{style:{height:"200px"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=u=>n.updateForm.Comments=u)},null,512),[[ve,n.updateForm.Comments]])]),s("div",Ox,[Fx,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=u=>n.updateForm.EntityID=u),readonly:""},null,512),[[ve,n.updateForm.EntityID]])]),s("div",Lx,[Mx,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=u=>n.updateForm.ReportingID=u),readonly:""},null,512),[[ve,n.updateForm.ReportingID]])]),s("div",Nx,[Bx,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=u=>n.updateForm.ReportedBy=u)},null,512),[[ve,n.updateForm.ReportedBy]])]),s("div",jx,[Vx,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=u=>n.updateForm.ResponseType=u),readonly:""},null,512),[[ve,n.updateForm.ResponseType]])]),s("div",Ux,[Yx,ke(r,{modelValue:n.updateForm.Response,"onUpdate:modelValue":t[8]||(t[8]=u=>n.updateForm.Response=u),type:n.responseInputType,options:n.responseInputOptions},null,8,["modelValue","type","options"])])]),qx],32)])])])])])])])}const Kx=Ue(lx,[["render",Hx]]),tn="/assets/map.png",Qx={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null}},methods:{async fetchEntities(){se.value=!0;try{const e=await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework'`}),t=sessionStorage.getItem("AuthData");if(!t)throw new Error("No authentication data found");const o=JSON.parse(t),n=o.AccountRole,i=o.EntityID;let l=e;n!=="admin"&&(l=e.filter(r=>r.EntityID===i));const a=l.reduce((r,d)=>(r.find(u=>u.Entity===d.Entity)||r.push(d),r),[]);this.entities=a,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectEntity(e){this.$router.push({name:"ABiAnnualSelectYear",query:{entityid:e}})}},created(){this.fetchEntities()}},zx=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator Bi-annual Reports")])])],-1),Wx={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},Gx={class:"card card-flush h-lg-100"},Jx=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the entity whose Bi-annual reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only entities with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),Xx={class:"card-body pt-0"},Zx={class:"m-0"},eC={class:"d-flex flex-stack"},tC=s("img",{src:tn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),sC={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},nC={class:"me-5"},oC={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},iC={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},rC={class:"d-flex align-items-center"},aC={class:"m-0"},lC={class:"badge badge-light-success fs-base"},cC=["onClick"],dC=s("div",{class:"separator separator-dashed my-3"},null,-1);function uC(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),zx,s("div",Wx,[s("div",Gx,[Jx,s("div",Xx,[s("div",Zx,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",eC,[tC,s("div",sC,[s("div",nC,[s("a",oC,D(r.Entity),1),s("span",iC,D(r.EntityProjectDetails),1)]),s("div",rC,[s("div",aC,[s("span",lC,[s("button",{onClick:d=>l.selectEntity(r.EntityID),class:"btn btn-sm btn-light"}," Select Entity ",8,cC)])])])])]),dC]))),128))])])])])])}const hC=Ue(Qx,[["render",uC]]),sn="/assets/year.jpg",fC={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null,year:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}"`})).reduce((o,n)=>(o.find(i=>i.Year===n.Year)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectYear(e){this.$router.push({name:"ABiAnnualSelectReport",query:{entityid:this.$route.query.entityid,year:e}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},pC=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active project report Years")])])],-1),mC={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},gC={class:"card card-flush h-lg-100"},_C=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the project year to attach reports to </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project years with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),vC={class:"card-body pt-0"},yC={class:"m-0"},bC={class:"d-flex flex-stack"},wC=s("img",{src:sn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),EC={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},IC={class:"me-5"},xC={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},CC=s("span",{class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},"WB MPA Project Year",-1),SC={class:"d-flex align-items-center"},RC={class:"m-0"},$C={class:"badge badge-light-success fs-base"},kC=["onClick"],TC=s("div",{class:"separator separator-dashed my-3"},null,-1);function AC(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),pC,s("div",mC,[s("div",gC,[_C,s("div",vC,[s("div",yC,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",bC,[wC,s("div",EC,[s("div",IC,[s("a",xC,D(r.Year),1),CC]),s("div",SC,[s("div",RC,[s("span",$C,[s("button",{onClick:d=>l.selectYear(r.Year),class:"btn btn-sm btn-light"}," Select Year ",8,kC)])])])])]),TC]))),128))])])])])])}const DC=Ue(fC,[["render",AC]]),nn="/assets/report.jpg",PC={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}" && ReportingPeriod = "Bi-Annual Report" && Year = "${this.$route.query.year}"`,sort:"ReportName"})).reduce((o,n)=>(o.find(i=>i.ReportingID===n.ReportingID)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectReport(e){this.$router.push({name:"ABiViewAnnualReport",query:{entityid:this.$route.query.entityid,reportingid:e,year:this.$route.query.year}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},OC=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator Bi-annual Reports")])])],-1),FC={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},LC={class:"card card-flush h-lg-100"},MC=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the specific project report to view </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),NC={class:"card-body pt-0"},BC={class:"m-0"},jC={class:"d-flex flex-stack"},VC=s("img",{src:nn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),UC={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},YC={class:"me-5"},qC={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},HC={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},KC={class:"d-flex align-items-center"},QC={class:"m-0"},zC={class:"badge badge-light-success fs-base"},WC=["onClick"],GC=s("div",{class:"separator separator-dashed my-3"},null,-1);function JC(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),OC,s("div",FC,[s("div",LC,[MC,s("div",NC,[s("div",BC,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",jC,[VC,s("div",UC,[s("div",YC,[s("a",qC,D(r.ReportName),1),s("span",HC,"Type of report : "+D(r.Type),1)]),s("div",KC,[s("div",QC,[s("span",zC,[s("button",{onClick:d=>l.selectReport(r.ReportingID),class:"btn btn-sm btn-light"}," Select Report ",8,WC)])])])])]),GC]))),128))])])])])])}const XC=Ue(PC,[["render",JC]]),ZC={components:{CustomInput:en},name:"ReportAnnual",setup(){const e=ys(),t=j(e.query.entityid),o=j(e.query.reportingid),n=j([]),i=j(null),l=j(null),a=j(null),r=j([]),d=j({}),u=j("text"),h=j({}),p=j([]);se.value=!0;const g=O=>te.fire("Error",O,"error"),_=O=>te.fire("Success",O,"success"),x=async(O,H="")=>{try{return se.value=!0,await me.collection(O).getFullList(200,{filter:H})}catch(w){return g(`Error fetching ${O}: ${w.message}`),[]}finally{se.value=!1}},S=async()=>{const O=await x("mpa_entities",`EntityID="${t.value}"`);l.value=O.length?O[0].Entity:null},Y=async()=>{const O=await x("mpa_reporting_timelines",`ReportingID="${e.query.reportingid}"`);a.value=O.length?O[0].ReportName:null},U=async()=>{try{const O=`EntityID='${e.query.entityid}' && IndicatorPrimaryCategory='Country Results Framework' && ReportingPeriod='Bi-Annual Report' && ReportingID='${e.query.reportingid}' && Year='${e.query.year}'`,w=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:O})).filter((I,R,A)=>R===A.findIndex(m=>m.IID===I.IID));if(!w.length){te.fire("No Unreported Indicators","You currently have no unreported indicators under this report, try another report.","info").then(()=>this.$router.back()),se.value=!1;return}n.value=w,r.value=w,hs(()=>V())}catch(O){console.error("Error fetching indicators:",O),te.fire({icon:"error",title:"Error",text:"Failed to fetch indicators data. Please try again later."})}finally{se.value=!1}},V=()=>{$.fn.DataTable.isDataTable("#datatable")&&$("#datatable").DataTable().destroy();const O=n.value.map(H=>[H.IndicatorSecondaryCategory,H.Indicator,H.Response,H.AnsweredQuestion,H.Comments,`<div class="d-flex justify-content-end">
          <button data-bs-toggle="modal" data-bs-target="#kt_modal_3" class="btn btn-sm btn-danger shadow-lg fw-bolder me-2 open-update" data-id="${H.id}"><i class="fas fa-pencil fs-3"></i></button>
        </div>`]);$("#datatable").DataTable({data:O,scrollX:!0,columns:[{title:"Category"},{title:"Indicator"},{title:"Reported Response"},{title:"Question"},{title:"Comment"},{title:"Actions"}],dom:"Bfrtip",buttons:["csv","excel","pdf","copy","print"],responsive:!0,paging:!0,pageLength:10}),$("#datatable").on("click",".view-details",H=>Q($(H.currentTarget).data("id"))),$("#datatable").on("click",".open-update",H=>re($(H.currentTarget).data("id")))},Q=O=>{i.value=n.value.find(H=>H.id===O)},re=O=>{i.value=n.value.find(H=>H.id===O),Object.assign(d.value,i.value,{EntityID:t.value,ReportingID:o.value,ReportedBy:""}),u.value=i.value.ResponseType==="Number"||i.value.ResponseType==="Percentage"?"number":i.value.ResponseType==="Yes/No"?"select":"text",h.value=u.value==="number"?{type:"number",step:u.value==="Percentage"?"0.01":"1"}:{type:"text"},p.value=u.value==="select"?[{value:"Yes",text:"Yes"},{value:"No",text:"No"}]:[]},Re=async()=>{try{se.value=!0;const O=d.value.ResponseType==="Percentage"?`${d.value.Response}%`:d.value.Response,H=await me.collection("mpa_indicator_reports").getFirstListItem(`RID="${d.value.RID}" && IID="${d.value.IID}"`);H&&await me.collection("mpa_indicator_reports").update(H.id,{Response:O,Comments:d.value.Comments,IndicatorScore:d.value.IndicatorScore,AnsweredQuestion:d.value.IndicatorQuestion}),_("Indicator report updated successfully"),U()}catch(O){console.error("Error Details:",O),g(`Error updating indicator report: ${O.message}`)}finally{se.value=!1,i.value=null,d.value={}}};return dt(()=>{t.value=e.query.entityid,o.value=e.query.reportingid,S(),U(),Y()}),{entityid:t,reportid:o,indicators:n,selectedIndicator:i,SelectedEntity:l,updateForm:d,responseInputType:u,responseInputProps:h,responseInputOptions:p,fetchSelectedEntity:S,fetchIndicators:U,initializeDataTable:V,viewDetails:Q,SelectedReport:a,openUpdateModal:re,submitUpdate:Re,isLoading:se}}},eS={class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},tS={class:"card-body d-flex flex-column justify-content-between"},sS={class:"text-white fw-bold mb-5"},nS={class:"lh-lg"},oS=s("span",{class:"fw-bolder text-warning"}," country specific results framework",-1),iS={class:"col-12 mt-3"},rS={class:"card-body px-5 py-5 bg-light shadow-lg table-responsive"},aS={id:"datatable",ref:"datatable",class:"t table-bordered"},lS={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_3"},cS={class:"modal-dialog modal-fullscreen"},dS={class:"modal-content shadow-none"},uS={class:"modal-header"},hS={class:"modal-title"},fS={class:"text-danger fw-bolder"},pS=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),mS={class:"modal-body"},gS={class:"row"},_S={class:"col-md-6 mb-3"},vS=s("label",{class:"form-label"},"Indicator",-1),yS={class:"col-md-6 mb-3"},bS=s("label",{class:"form-label"},"Indicator Question",-1),wS={class:"col-md-6 mb-3"},ES=s("label",{class:"form-label"},"Indicator Definition",-1),IS={class:"col-md-6 mb-3"},xS=s("label",{class:"form-label"},"Your Remarks/Comments",-1),CS={class:"col-md-6 mb-3 d-none"},SS=s("label",{class:"form-label"},"Entity ID",-1),RS={class:"col-md-6 mb-3 d-none"},$S=s("label",{class:"form-label"},"Report ID",-1),kS={class:"col-md-6 mb-3 d-none"},TS=s("label",{class:"form-label"},"Reported By",-1),AS={class:"col-md-6 mb-3"},DS=s("label",{class:"form-label"},"Expected Response Type",-1),PS={class:"col-md-6 mb-3"},OS=s("label",{class:"form-label"},"Response",-1),FS=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit","data-bs-dismiss":"modal",class:"btn mx-1 float-end mb-2 btn- btn-danger"}," Save changes ")],-1);function LS(e,t,o,n,i,l){var d;const a=Qe("FullScreenLoader"),r=Qe("CustomInput");return P(),N("div",null,[ke(a),s("div",eS,[s("div",tS,[s("h3",sS,[s("span",nS,[J(" Project "+D(n.SelectedReport)+" for "+D(n.SelectedEntity)+" ",1),oS])])])]),s("div",iS,[s("div",rS,[s("table",aS,null,512),s("div",lS,[s("div",cS,[s("div",dS,[s("div",uS,[s("h5",hS,[J(" View reported the indicator : "),s("span",fS,D((d=n.selectedIndicator)==null?void 0:d.Indicator),1)]),pS]),s("div",mS,[s("form",{onSubmit:t[9]||(t[9]=Xe((...u)=>n.submitUpdate&&n.submitUpdate(...u),["prevent"]))},[s("div",gS,[s("div",_S,[vS,oe(s("textarea",{style:{height:"200px",color:"red"},class:"form-control","onUpdate:modelValue":t[0]||(t[0]=u=>n.updateForm.Indicator=u)},null,512),[[ve,n.updateForm.Indicator]])]),s("div",yS,[bS,oe(s("textarea",{style:{height:"200px"},class:"form-control","onUpdate:modelValue":t[1]||(t[1]=u=>n.updateForm.IndicatorQuestion=u)},null,512),[[ve,n.updateForm.IndicatorQuestion]])]),s("div",wS,[ES,oe(s("textarea",{style:{color:"red",height:"200px"},class:"form-control","onUpdate:modelValue":t[2]||(t[2]=u=>n.updateForm.IndicatorDefinition=u),readonly:""},null,512),[[ve,n.updateForm.IndicatorDefinition]])]),s("div",IS,[xS,oe(s("textarea",{style:{height:"200px"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=u=>n.updateForm.Comments=u)},null,512),[[ve,n.updateForm.Comments]])]),s("div",CS,[SS,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=u=>n.updateForm.EntityID=u),readonly:""},null,512),[[ve,n.updateForm.EntityID]])]),s("div",RS,[$S,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=u=>n.updateForm.ReportingID=u),readonly:""},null,512),[[ve,n.updateForm.ReportingID]])]),s("div",kS,[TS,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=u=>n.updateForm.ReportedBy=u)},null,512),[[ve,n.updateForm.ReportedBy]])]),s("div",AS,[DS,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=u=>n.updateForm.ResponseType=u),readonly:""},null,512),[[ve,n.updateForm.ResponseType]])]),s("div",PS,[OS,ke(r,{modelValue:n.updateForm.Response,"onUpdate:modelValue":t[8]||(t[8]=u=>n.updateForm.Response=u),type:n.responseInputType,options:n.responseInputOptions},null,8,["modelValue","type","options"])])]),FS],32)])])])])])])])}const MS=Ue(ZC,[["render",LS]]),NS={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null}},methods:{async fetchEntities(){se.value=!0;try{const e=await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework'`}),t=sessionStorage.getItem("AuthData");if(!t)throw new Error("No authentication data found");const o=JSON.parse(t),n=o.AccountRole,i=o.EntityID;let l=e;n!=="admin"&&(l=e.filter(r=>r.EntityID===i));const a=l.reduce((r,d)=>(r.find(u=>u.Entity===d.Entity)||r.push(d),r),[]);this.entities=a,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectEntity(e){this.$router.push({name:"AAnnualSelectYear",query:{entityid:e}})}},created(){this.fetchEntities()}},BS=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator Annual Reports")])])],-1),jS={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},VS={class:"card card-flush h-lg-100"},US=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the entity whose Annual reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only entities with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),YS={class:"card-body pt-0"},qS={class:"m-0"},HS={class:"d-flex flex-stack"},KS=s("img",{src:tn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),QS={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},zS={class:"me-5"},WS={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},GS={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},JS={class:"d-flex align-items-center"},XS={class:"m-0"},ZS={class:"badge badge-light-success fs-base"},eR=["onClick"],tR=s("div",{class:"separator separator-dashed my-3"},null,-1);function sR(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),BS,s("div",jS,[s("div",VS,[US,s("div",YS,[s("div",qS,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",HS,[KS,s("div",QS,[s("div",zS,[s("a",WS,D(r.Entity),1),s("span",GS,D(r.EntityProjectDetails),1)]),s("div",JS,[s("div",XS,[s("span",ZS,[s("button",{onClick:d=>l.selectEntity(r.EntityID),class:"btn btn-sm btn-light"}," Select Entity ",8,eR)])])])])]),tR]))),128))])])])])])}const nR=Ue(NS,[["render",sR]]),oR={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null,year:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}"`})).reduce((o,n)=>(o.find(i=>i.Year===n.Year)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectYear(e){this.$router.push({name:"ABiAnnualSelectReport",query:{entityid:this.$route.query.entityid,year:e}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},iR=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active project report Years")])])],-1),rR={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},aR={class:"card card-flush h-lg-100"},lR=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the project year to attach reports to </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project years with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),cR={class:"card-body pt-0"},dR={class:"m-0"},uR={class:"d-flex flex-stack"},hR=s("img",{src:sn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),fR={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},pR={class:"me-5"},mR={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},gR=s("span",{class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},"WB MPA Project Year",-1),_R={class:"d-flex align-items-center"},vR={class:"m-0"},yR={class:"badge badge-light-success fs-base"},bR=["onClick"],wR=s("div",{class:"separator separator-dashed my-3"},null,-1);function ER(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),iR,s("div",rR,[s("div",aR,[lR,s("div",cR,[s("div",dR,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",uR,[hR,s("div",fR,[s("div",pR,[s("a",mR,D(r.Year),1),gR]),s("div",_R,[s("div",vR,[s("span",yR,[s("button",{onClick:d=>l.selectYear(r.Year),class:"btn btn-sm btn-light"}," Select Year ",8,bR)])])])])]),wR]))),128))])])])])])}const IR=Ue(oR,[["render",ER]]),xR={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}" && ReportingPeriod = "Annual Report" && Year = "${this.$route.query.year}"`,sort:"ReportName"})).reduce((o,n)=>(o.find(i=>i.ReportingID===n.ReportingID)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectReport(e){this.$router.push({name:"AViewAnnualReport",query:{entityid:this.$route.query.entityid,reportingid:e,year:this.$route.query.year}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},CR=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator Annual Reports")])])],-1),SR={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},RR={class:"card card-flush h-lg-100"},$R=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the specific project report to view </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),kR={class:"card-body pt-0"},TR={class:"m-0"},AR={class:"d-flex flex-stack"},DR=s("img",{src:nn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),PR={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},OR={class:"me-5"},FR={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},LR={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},MR={class:"d-flex align-items-center"},NR={class:"m-0"},BR={class:"badge badge-light-success fs-base"},jR=["onClick"],VR=s("div",{class:"separator separator-dashed my-3"},null,-1);function UR(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),CR,s("div",SR,[s("div",RR,[$R,s("div",kR,[s("div",TR,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",AR,[DR,s("div",PR,[s("div",OR,[s("a",FR,D(r.ReportName),1),s("span",LR,"Type of report : "+D(r.Type),1)]),s("div",MR,[s("div",NR,[s("span",BR,[s("button",{onClick:d=>l.selectReport(r.ReportingID),class:"btn btn-sm btn-light"}," Select Report ",8,jR)])])])])]),VR]))),128))])])])])])}const YR=Ue(xR,[["render",UR]]),qR={components:{CustomInput:en},name:"ReportAnnual",setup(){const e=ys(),t=j(e.query.entityid),o=j(e.query.reportingid),n=j([]),i=j(null),l=j(null),a=j(null),r=j([]),d=j({}),u=j("text"),h=j({}),p=j([]);se.value=!0;const g=O=>te.fire("Error",O,"error"),_=O=>te.fire("Success",O,"success"),x=async(O,H="")=>{try{return se.value=!0,await me.collection(O).getFullList(200,{filter:H})}catch(w){return g(`Error fetching ${O}: ${w.message}`),[]}finally{se.value=!1}},S=async()=>{const O=await x("mpa_entities",`EntityID="${t.value}"`);l.value=O.length?O[0].Entity:null},Y=async()=>{const O=await x("mpa_reporting_timelines",`ReportingID="${e.query.reportingid}"`);a.value=O.length?O[0].ReportName:null},U=async()=>{try{const O=`EntityID='${e.query.entityid}' && IndicatorPrimaryCategory='Country Results Framework' && ReportingPeriod='Annual Report' && ReportingID='${e.query.reportingid}' && Year='${e.query.year}'`,w=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:O})).filter((I,R,A)=>R===A.findIndex(m=>m.IID===I.IID));if(!w.length){te.fire("No Unreported Indicators","You currently have no unreported indicators under this report, try another report.","info").then(()=>this.$router.back()),se.value=!1;return}n.value=w,r.value=w,hs(()=>V())}catch(O){console.error("Error fetching indicators:",O),te.fire({icon:"error",title:"Error",text:"Failed to fetch indicators data. Please try again later."})}finally{se.value=!1}},V=()=>{$.fn.DataTable.isDataTable("#datatable")&&$("#datatable").DataTable().destroy();const O=n.value.map(H=>[H.IndicatorSecondaryCategory,H.Indicator,H.Response,H.AnsweredQuestion,H.Comments,`<div class="d-flex justify-content-end">
          <button data-bs-toggle="modal" data-bs-target="#kt_modal_3" class="btn btn-sm btn-danger shadow-lg fw-bolder me-2 open-update" data-id="${H.id}"><i class="fas fa-pencil fs-3"></i></button>
        </div>`]);$("#datatable").DataTable({data:O,scrollX:!0,columns:[{title:"Category"},{title:"Indicator"},{title:"Reported Response"},{title:"Question"},{title:"Comment"},{title:"Actions"}],dom:"Bfrtip",buttons:["csv","excel","pdf","copy","print"],responsive:!0,paging:!0,pageLength:10}),$("#datatable").on("click",".view-details",H=>Q($(H.currentTarget).data("id"))),$("#datatable").on("click",".open-update",H=>re($(H.currentTarget).data("id")))},Q=O=>{i.value=n.value.find(H=>H.id===O)},re=O=>{i.value=n.value.find(H=>H.id===O),Object.assign(d.value,i.value,{EntityID:t.value,ReportingID:o.value,ReportedBy:""}),u.value=i.value.ResponseType==="Number"||i.value.ResponseType==="Percentage"?"number":i.value.ResponseType==="Yes/No"?"select":"text",h.value=u.value==="number"?{type:"number",step:u.value==="Percentage"?"0.01":"1"}:{type:"text"},p.value=u.value==="select"?[{value:"Yes",text:"Yes"},{value:"No",text:"No"}]:[]},Re=async()=>{try{se.value=!0;const O=d.value.ResponseType==="Percentage"?`${d.value.Response}%`:d.value.Response,H=await me.collection("mpa_indicator_reports").getFirstListItem(`RID="${d.value.RID}" && IID="${d.value.IID}"`);H&&await me.collection("mpa_indicator_reports").update(H.id,{Response:O,Comments:d.value.Comments,IndicatorScore:d.value.IndicatorScore,AnsweredQuestion:d.value.IndicatorQuestion}),_("Indicator report updated successfully"),U()}catch(O){console.error("Error Details:",O),g(`Error updating indicator report: ${O.message}`)}finally{se.value=!1,i.value=null,d.value={}}};return dt(()=>{t.value=e.query.entityid,o.value=e.query.reportingid,S(),U(),Y()}),{entityid:t,reportid:o,indicators:n,selectedIndicator:i,SelectedEntity:l,updateForm:d,responseInputType:u,responseInputProps:h,responseInputOptions:p,fetchSelectedEntity:S,fetchIndicators:U,initializeDataTable:V,viewDetails:Q,SelectedReport:a,openUpdateModal:re,submitUpdate:Re,isLoading:se}}},HR={class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},KR={class:"card-body d-flex flex-column justify-content-between"},QR={class:"text-white fw-bold mb-5"},zR={class:"lh-lg"},WR=s("span",{class:"fw-bolder text-warning"}," country specific results framework",-1),GR={class:"col-12 mt-3"},JR={class:"card-body px-5 py-5 bg-light shadow-lg table-responsive"},XR={id:"datatable",ref:"datatable",class:"t table-bordered"},ZR={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_3"},e$={class:"modal-dialog modal-fullscreen"},t$={class:"modal-content shadow-none"},s$={class:"modal-header"},n$={class:"modal-title"},o$={class:"text-danger fw-bolder"},i$=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),r$={class:"modal-body"},a$={class:"row"},l$={class:"col-md-6 mb-3"},c$=s("label",{class:"form-label"},"Indicator",-1),d$={class:"col-md-6 mb-3"},u$=s("label",{class:"form-label"},"Indicator Question",-1),h$={class:"col-md-6 mb-3"},f$=s("label",{class:"form-label"},"Indicator Definition",-1),p$={class:"col-md-6 mb-3"},m$=s("label",{class:"form-label"},"Your Remarks/Comments",-1),g$={class:"col-md-6 mb-3 d-none"},_$=s("label",{class:"form-label"},"Entity ID",-1),v$={class:"col-md-6 mb-3 d-none"},y$=s("label",{class:"form-label"},"Report ID",-1),b$={class:"col-md-6 mb-3 d-none"},w$=s("label",{class:"form-label"},"Reported By",-1),E$={class:"col-md-6 mb-3"},I$=s("label",{class:"form-label"},"Expected Response Type",-1),x$={class:"col-md-6 mb-3"},C$=s("label",{class:"form-label"},"Response",-1),S$=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit","data-bs-dismiss":"modal",class:"btn mx-1 float-end mb-2 btn- btn-danger"}," Save changes ")],-1);function R$(e,t,o,n,i,l){var d;const a=Qe("FullScreenLoader"),r=Qe("CustomInput");return P(),N("div",null,[ke(a),s("div",HR,[s("div",KR,[s("h3",QR,[s("span",zR,[J(" Project "+D(n.SelectedReport)+" for "+D(n.SelectedEntity)+" ",1),WR])])])]),s("div",GR,[s("div",JR,[s("table",XR,null,512),s("div",ZR,[s("div",e$,[s("div",t$,[s("div",s$,[s("h5",n$,[J(" View reported the indicator : "),s("span",o$,D((d=n.selectedIndicator)==null?void 0:d.Indicator),1)]),i$]),s("div",r$,[s("form",{onSubmit:t[9]||(t[9]=Xe((...u)=>n.submitUpdate&&n.submitUpdate(...u),["prevent"]))},[s("div",a$,[s("div",l$,[c$,oe(s("textarea",{style:{height:"200px",color:"red"},class:"form-control","onUpdate:modelValue":t[0]||(t[0]=u=>n.updateForm.Indicator=u)},null,512),[[ve,n.updateForm.Indicator]])]),s("div",d$,[u$,oe(s("textarea",{style:{height:"200px"},class:"form-control","onUpdate:modelValue":t[1]||(t[1]=u=>n.updateForm.IndicatorQuestion=u)},null,512),[[ve,n.updateForm.IndicatorQuestion]])]),s("div",h$,[f$,oe(s("textarea",{style:{color:"red",height:"200px"},class:"form-control","onUpdate:modelValue":t[2]||(t[2]=u=>n.updateForm.IndicatorDefinition=u),readonly:""},null,512),[[ve,n.updateForm.IndicatorDefinition]])]),s("div",p$,[m$,oe(s("textarea",{style:{height:"200px"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=u=>n.updateForm.Comments=u)},null,512),[[ve,n.updateForm.Comments]])]),s("div",g$,[_$,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=u=>n.updateForm.EntityID=u),readonly:""},null,512),[[ve,n.updateForm.EntityID]])]),s("div",v$,[y$,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=u=>n.updateForm.ReportingID=u),readonly:""},null,512),[[ve,n.updateForm.ReportingID]])]),s("div",b$,[w$,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=u=>n.updateForm.ReportedBy=u)},null,512),[[ve,n.updateForm.ReportedBy]])]),s("div",E$,[I$,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=u=>n.updateForm.ResponseType=u),readonly:""},null,512),[[ve,n.updateForm.ResponseType]])]),s("div",x$,[C$,ke(r,{modelValue:n.updateForm.Response,"onUpdate:modelValue":t[8]||(t[8]=u=>n.updateForm.Response=u),type:n.responseInputType,options:n.responseInputOptions},null,8,["modelValue","type","options"])])]),S$],32)])])])])])])])}const $$=Ue(qR,[["render",R$]]),k$={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null}},methods:{async fetchEntities(){se.value=!0;try{const e=await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework'`}),t=sessionStorage.getItem("AuthData");if(!t)throw new Error("No authentication data found");const o=JSON.parse(t),n=o.AccountRole,i=o.EntityID;let l=e;n!=="admin"&&(l=e.filter(r=>r.EntityID===i));const a=l.reduce((r,d)=>(r.find(u=>u.Entity===d.Entity)||r.push(d),r),[]);this.entities=a,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectEntity(e){this.$router.push({name:"AQuarterlySelectYear",query:{entityid:e}})}},created(){this.fetchEntities()}},T$=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator Quarterly Reports")])])],-1),A$={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},D$={class:"card card-flush h-lg-100"},P$=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the entity whose quarterly reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only entities with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),O$={class:"card-body pt-0"},F$={class:"m-0"},L$={class:"d-flex flex-stack"},M$=s("img",{src:tn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),N$={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},B$={class:"me-5"},j$={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},V$={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},U$={class:"d-flex align-items-center"},Y$={class:"m-0"},q$={class:"badge badge-light-success fs-base"},H$=["onClick"],K$=s("div",{class:"separator separator-dashed my-3"},null,-1);function Q$(e,t,o,n,i,l){return P(),N("div",null,[T$,s("div",A$,[s("div",D$,[P$,s("div",O$,[s("div",F$,[(P(!0),N(Te,null,Fe(i.entities,a=>(P(),N("div",{key:a.EntityID,class:"mb-4"},[s("div",L$,[M$,s("div",N$,[s("div",B$,[s("a",j$,D(a.Entity),1),s("span",V$,D(a.EntityProjectDetails),1)]),s("div",U$,[s("div",Y$,[s("span",q$,[s("button",{onClick:r=>l.selectEntity(a.EntityID),class:"btn btn-sm btn-light"}," Select Entity ",8,H$)])])])])]),K$]))),128))])])])])])}const z$=Ue(k$,[["render",Q$]]),W$={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null,year:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && EntityID = "${this.$route.query.entityid}"`})).reduce((o,n)=>(o.find(i=>i.Year===n.Year)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectYear(e){this.$router.push({name:"AQuarterlySelectReport",query:{entityid:this.$route.query.entityid,year:e}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},G$=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator Quarterly Reports")])])],-1),J$={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},X$={class:"card card-flush h-lg-100"},Z$=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the quarterly reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only quarterly reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),ek={class:"card-body pt-0"},tk={class:"m-0"},sk={class:"d-flex flex-stack"},nk=s("img",{src:sn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),ok={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},ik={class:"me-5"},rk={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},ak=s("span",{class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},"WB MPA Project Year",-1),lk={class:"d-flex align-items-center"},ck={class:"m-0"},dk={class:"badge badge-light-success fs-base"},uk=["onClick"],hk=s("div",{class:"separator separator-dashed my-3"},null,-1);function fk(e,t,o,n,i,l){return P(),N("div",null,[G$,s("div",J$,[s("div",X$,[Z$,s("div",ek,[s("div",tk,[(P(!0),N(Te,null,Fe(i.entities,a=>(P(),N("div",{key:a.EntityID,class:"mb-4"},[s("div",sk,[nk,s("div",ok,[s("div",ik,[s("a",rk,D(a.Year),1),ak]),s("div",lk,[s("div",ck,[s("span",dk,[s("button",{onClick:r=>l.selectYear(a.Year),class:"btn btn-sm btn-light"}," Select Year ",8,uk)])])])])]),hk]))),128))])])])])])}const pk=Ue(W$,[["render",fk]]),mk={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}" && ReportingPeriod = "Quarterly Report" && Year = "${this.$route.query.year}"`,sort:"ReportName"})).reduce((o,n)=>(o.find(i=>i.ReportingID===n.ReportingID)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectReport(e){this.$router.push({name:"AQuarterlyViewReport",query:{entityid:this.$route.query.entityid,reportingid:e,year:this.$route.query.year}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},gk=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator Quarterly Reports")])])],-1),_k={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},vk={class:"card card-flush h-lg-100"},yk=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the specific project report to view </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),bk={class:"card-body pt-0"},wk={class:"m-0"},Ek={class:"d-flex flex-stack"},Ik=s("img",{src:nn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),xk={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},Ck={class:"me-5"},Sk={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},Rk={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},$k={class:"d-flex align-items-center"},kk={class:"m-0"},Tk={class:"badge badge-light-success fs-base"},Ak=["onClick"],Dk=s("div",{class:"separator separator-dashed my-3"},null,-1);function Pk(e,t,o,n,i,l){return P(),N("div",null,[gk,s("div",_k,[s("div",vk,[yk,s("div",bk,[s("div",wk,[(P(!0),N(Te,null,Fe(i.entities,a=>(P(),N("div",{key:a.EntityID,class:"mb-4"},[s("div",Ek,[Ik,s("div",xk,[s("div",Ck,[s("a",Sk,D(a.ReportName),1),s("span",Rk,"Type of report : "+D(a.Type),1)]),s("div",$k,[s("div",kk,[s("span",Tk,[s("button",{onClick:r=>l.selectReport(a.ReportingID),class:"btn btn-sm btn-light"}," Select Report ",8,Ak)])])])])]),Dk]))),128))])])])])])}const Ok=Ue(mk,[["render",Pk]]),Fk={class:"container px-5 py-5"},Lk={key:1},Mk=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Select Regional Results Framework Reporting Entity</h4><span>Select the entity you want to report on.</span></div></div></div>',1),Nk={class:"card-body shadow-lg pt-3 bg-light px-5 py-5"},Bk={class:"row"},jk={class:"col-md-12"},Vk={class:"mb-3 col-md-12 py-5 my-5"},Uk=s("label",{class:"px-5 my-5 required form-label"},"Entity",-1),Yk=s("option",null,null,-1),qk=["value"],Hk=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),Kk={__name:"SelectEntity",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1);let a=null;const r=async()=>{l.value=!0;try{const h=await me.collection("mpa_entities").getFullList({filter:'Entity != "RRF"'}),p=sessionStorage.getItem("AuthData");if(!p)throw new Error("No authentication data found");const g=JSON.parse(p),_=g.AccountRole,x=g.EntityID;let S=h;_!=="admin"&&(S=h.filter(Y=>Y.EntityID===x)),o.value=S}catch(h){console.error("Error fetching entities:",h.message),te.fire("Error","Error fetching entities: "+h.message,"error")}finally{l.value=!1}},d=()=>{n.value?(console.log("Selected EntityID:",n.value),t.push({name:"RRFSelectReport",query:{entityid:n.value}})):(console.error("No entity selected"),te.fire("Warning","No entity selected","warning"))},u=()=>{i.value&&!a&&(a=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for an entity",placeholder:!0,placeholderValue:"Select an entity",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),a.passedElement.element.addEventListener("choice",function(h){n.value=h.detail.choice.value},!1))};return dt(()=>{r().then(()=>{u()})}),jt(()=>{a&&a.destroy()}),Rt(n,h=>{a&&h&&a.setChoiceByValue(h)}),(h,p)=>(P(),N("div",Fk,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",Lk,[Mk,s("div",Nk,[s("div",Bk,[s("div",jk,[s("form",{onSubmit:Xe(d,["prevent"])},[s("div",Vk,[Uk,oe(s("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),ref_key:"entitySelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[Yk,(P(!0),N(Te,null,Fe(o.value,g=>(P(),N("option",{key:g.EntityID,value:g.EntityID},D(g.Entity),9,qk))),128))],512),[[it,n.value]])]),Hk],32)])])])]))]))}},Qk={class:"container px-5 py-5"},zk={key:1},Wk=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Select RRF Report Type To File</h4><span>Select a RRF report you want to file. All reporting actions will be attached to this report.</span></div></div></div>',1),Gk={class:"card-body shadow-lg pt-3 bg-light px-5 py-5"},Jk={class:"row"},Xk={class:"col-md-12"},Zk={class:"mb-3 col-md-12 py-5 my-5"},eT=s("label",{class:"px-5 my-5 required form-label"},"Report",-1),tT=s("option",null,null,-1),sT=["value"],nT=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),oT={__name:"SelectReport",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1),a=j(null);let r=null;const d=async()=>{l.value=!0;try{const p=await me.collection("mpa_rrf_active_reports").getFullList();o.value=p}catch(p){console.error("Error fetching reports:",p.message),te.fire("Error","Error fetching reports: "+p.message,"error")}finally{l.value=!1}},u=()=>{n.value?(console.log("Selected ReportingID:",n.value),t.push({name:"RRFReport",query:{reportingid:n.value,entityid:a.value}})):(console.error("No report selected"),te.fire("Warning","No report selected","warning"))},h=()=>{i.value&&!r&&(r=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for a report",placeholder:!0,placeholderValue:"Select a report",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),r.passedElement.element.addEventListener("choice",function(p){n.value=p.detail.choice.value},!1))};return dt(()=>{a.value=t.currentRoute.value.query.entityid,d().then(()=>{h()})}),jt(()=>{r&&r.destroy()}),Rt(n,p=>{r&&p&&r.setChoiceByValue(p)}),(p,g)=>(P(),N("div",Qk,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",zk,[Wk,s("div",Gk,[s("div",Jk,[s("div",Xk,[s("form",{onSubmit:Xe(u,["prevent"])},[s("div",Zk,[eT,oe(s("select",{"onUpdate:modelValue":g[0]||(g[0]=_=>n.value=_),ref_key:"reportSelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[tT,(P(!0),N(Te,null,Fe(o.value,_=>(P(),N("option",{key:_.ReportingID,value:_.ReportingID},D(_.ReportName),9,sT))),128))],512),[[it,n.value]])]),nT],32)])])])]))]))}},iT={name:"ReportAnnual",components:{CustomInput:en,FullScreenLoader:ze},data(){return{reportid:null,entityid:null,indicators:[],selectedIndicator:null,SelectedEntity:null,SelectedReport:null,updateForm:{IndicatorQuestion:"",Indicator:"",IndicatorDefinition:"",RemarksComments:"",EntityID:"",ReportingID:"",ReportedBy:"",ResponseType:"",Response:""},responseInputType:"text",responseInputProps:{},responseInputOptions:[]}},methods:{initDataTable(){this.$nextTick(()=>{$.fn.DataTable.isDataTable("table")&&$("table").DataTable().destroy(),$("table").DataTable({responsive:!0,dom:"Bfrtip",pageLength:5,buttons:["copy","csv","excel","pdf","print"]})})},async fetchSelectedEntity(){try{se.value=!0;const e=await me.collection("mpa_entities").getFirstListItem(`EntityID="${this.$route.query.entityid}"`);if(!e)throw new Error("Entity not found");this.SelectedEntity=e.Entity}catch(e){console.error("Error fetching entity:",e.message),te.fire("Error",`Error fetching entity: ${e.message}`,"error")}finally{se.value=!1}},async fetchSelectedReport(){try{se.value=!0;const e=await me.collection("mpa_rrf_active_reports").getFirstListItem(`ReportingID="${this.$route.query.reportingid}"`);if(!e)throw new Error("Report not found");this.SelectedReport=e.ReportName}catch(e){console.error("Error fetching report:",e.message),te.fire("Error",`Error fetching report: ${e.message}`,"error")}finally{se.value=!1}},async fetchIndicators(){se.value=!0;try{const e=await me.collection("mpa_rrf_indicators").getFullList({filter:`ReportingID="${this.reportid}"`}),t=await me.collection("mpa_indicator_reports").getFullList(),o=new Set(t.filter(l=>l.EntityID===this.entityid&&l.ReportingID===this.reportid).map(l=>l.IID)),n=new Map;e.forEach(l=>{o.has(l.IID)||n.set(l.IID,l)});const i=Array.from(n.values());i.length===0?te.fire("No Unreported Indicators","You currently have no unreported indicators under this report, try another report.","info").then(()=>{this.$router.back()}):this.indicators=i}catch(e){console.error("Error fetching indicators:",e.message),te.fire("Error",`Error fetching indicators: ${e.message}`,"error")}finally{this.$nextTick(()=>{this.initDataTable()}),se.value=!1}},viewDetails(e){this.selectedIndicator=e},openUpdateModal(e){this.selectedIndicator=e,this.updateForm.IndicatorQuestion=e.IndicatorQuestion,this.updateForm.Indicator=e.Indicator,this.updateForm.IndicatorDefinition=e.IndicatorDefinition,this.updateForm.RemarksComments="Enter Your Comments Here",this.updateForm.EntityID=this.entityid,this.updateForm.ReportingID=this.reportid,this.updateForm.ReportedBy="",this.updateForm.ResponseType=e.ResponseType,this.updateForm.Response="",e.ResponseType==="Number"?(this.responseInputType="number",this.responseInputProps={type:"number"}):e.ResponseType==="Percentage"?(this.responseInputType="number",this.responseInputProps={type:"number",step:"0.01"}):e.ResponseType==="Yes/No"?(this.responseInputType="select",this.responseInputOptions=[{value:"Yes",text:"Yes"},{value:"No",text:"No"}]):(this.responseInputType="text",this.responseInputProps={type:"text"})},async submitUpdate(){try{se.value=!0;let e=this.updateForm.Response;if(this.updateForm.ResponseType==="Percentage"&&(e=`${e}%`),!await me.collection("mpa_indicator_reports").create({RID:this.reportid,IID:this.selectedIndicator.IID,EntityID:this.$route.query.entityid,ReportingID:this.updateForm.ReportingID,ReportedBy:this.updateForm.ReportedBy,Response:e,Comments:this.updateForm.RemarksComments,ResponseType:this.updateForm.ResponseType,AnsweredQuestion:this.updateForm.IndicatorQuestion}))throw new Error("Error updating indicator report");te.fire("Success","Indicator report updated successfully","success"),location.reload()}catch(e){console.error("Error updating indicator report:",e.message),te.fire("Error",`Error updating indicator report: ${e.message}`,"error")}finally{await this.fetchIndicators(),this.$nextTick(()=>{this.initDataTable()}),se.value=!1,this.selectedIndicator=null,this.updateForm={IndicatorQuestion:"",Indicator:"",IndicatorDefinition:"",RemarksComments:"",EntityID:"",ReportingID:"",ReportedBy:"",ResponseType:"",Response:""},this.$bvModal.hide("kt_modal_3")}}},watch:{indicators(){this.$nextTick(()=>{this.initDataTable()})}},created(){this.entityid=this.$route.query.entityid,this.reportid=this.$route.query.reportingid,this.fetchIndicators(),this.fetchSelectedEntity(),this.fetchSelectedReport()}},rT={class:"card-title pt-3 fw-bolder text-white shadow-lg table-responsive"},aT={class:"alert alert-dark shadow-lg"},lT=s("span",{class:"float-end svg-icon svg-icon-2hx svg-icon-primary me-3"},[s("i",{class:"fas fa-info fa-2x","aria-hidden":"true"})],-1),cT={class:"d-flex flex-column"},dT={class:"mb-1 text-dark"},uT={id:"MyDataListener",class:"col-12 mt-3"},hT={class:"card-body px-5 py-5 bg-light shadow-lg table-responsive"},fT={id:"MyViewData",ref:"table",class:"table table-rounded table-bordered border gy-3 gs-3"},pT=s("thead",null,[s("tr",{class:"fw-bold text-gray-800 border-bottom border-gray-200"},[s("th",{class:"fw-bolder"},"Category"),s("th",{class:"fw-bolder"},"Category"),s("th",{class:"fw-bolder"},"Indicator"),s("th",{class:"fw-bolder"},"Definition"),s("th",{class:"fw-bolder"},"Actions")])],-1),mT={class:"fw-bolder"},gT={class:"fw-bolder"},_T={class:"fw-bolder"},vT={class:"fw-bolder"},yT={class:"d-flex justify-content-end"},bT=["onClick"],wT=["onClick"],ET=s("i",{class:"fas fa-pencil fs-3"},null,-1),IT=[ET],xT={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_2"},CT={class:"modal-dialog modal-fullscreen"},ST={class:"modal-content shadow-none"},RT={class:"modal-header"},$T={class:"modal-title"},kT={class:"text-danger fw-bolder"},TT=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),AT={class:"modal-body"},DT={class:"table table-rounded table-bordered border gy-3 gs-3"},PT=s("thead",null,[s("tr",{class:"fw-bold text-gray-800 border-bottom border-gray-200"},[s("th",{class:"fw-bolder"},"Question"),s("th",{class:"fw-bolder"},"Remarks/Comments"),s("th",{class:"fw-bolder"},"Response Type"),s("th",{class:"fw-bolder"},"Reporting Period")])],-1),OT={key:0},FT={class:"fw-bolder"},LT={class:"fw-bolder"},MT={class:"fw-bolder"},NT={class:"fw-bolder"},BT=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-danger shadow-lg","data-bs-dismiss":"modal"}," Close ")],-1),jT={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_3"},VT={class:"modal-dialog modal-fullscreen"},UT={class:"modal-content shadow-none"},YT={class:"modal-header"},qT={class:"modal-title"},HT={class:"text-danger fw-bolder"},KT=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),QT={class:"modal-body"},zT={class:"row"},WT={class:"col-md-6 mb-3"},GT=s("label",{class:"form-label"},"Indicator",-1),JT={class:"col-md-6 mb-3"},XT=s("label",{class:"form-label"},"Indicator Question",-1),ZT={class:"col-md-6 mb-3"},eA=s("label",{class:"form-label"},"Indicator Definition",-1),tA={class:"col-md-6 mb-3"},sA=s("label",{class:"form-label"},"Your Remarks/Comments",-1),nA={class:"col-md-6 mb-3 d-none"},oA=s("label",{class:"form-label"},"Entity ID",-1),iA={class:"col-md-6 mb-3 d-none"},rA=s("label",{class:"form-label"},"Report ID",-1),aA={class:"col-md-6 mb-3 d-none"},lA=s("label",{class:"form-label"},"Reported By",-1),cA={class:"col-md-6 mb-3"},dA=s("label",{class:"form-label"},"Expected Response Type",-1),uA={class:"col-md-6 mb-3"},hA=s("label",{class:"form-label"},"Indicator Report Response",-1),fA=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit","data-bs-dismiss":"modal",class:"btn mx-1 float-end mb-2 btn- btn-danger"}," Save changes ")],-1);function pA(e,t,o,n,i,l){var d,u;const a=Qe("FullScreenLoader"),r=Qe("CustomInput");return P(),N("div",null,[ke(a),s("div",rT,[s("div",aT,[lT,s("div",cT,[s("h6",dT," Project Indicator "+D(this.SelectedReport)+" Reporting Interface for the entity "+D(i.SelectedEntity)+" (Regional Results Results Framework) ",1)])])]),s("div",uT,[s("div",hT,[s("table",fT,[pT,s("tbody",null,[(P(!0),N(Te,null,Fe(i.indicators,h=>(P(),N("tr",{key:h.id},[s("td",mT,D(h.IndicatorSecondaryCategory),1),s("td",gT,D(h.ReportingPeriod),1),s("td",_T,D(h.Indicator),1),s("td",vT,D(h.IndicatorDefinition),1),s("td",null,[s("div",yT,[s("button",{class:"btn btn-outline btn-outline-dashed btn-outline-secondary btn-active-light-secondary shadow-lg fw-bolder me-2",onClick:p=>l.viewDetails(h),"data-bs-toggle":"modal","data-bs-target":"#kt_modal_2"}," More ",8,bT),s("button",{class:"btn btn-outline btn-outline-dashed btn-outline-secondary btn-active-light-secondary shadow-lg text-light fw-bolder me-2",onClick:p=>l.openUpdateModal(h),"data-bs-toggle":"modal","data-bs-target":"#kt_modal_3"},IT,8,wT)])])]))),128))])],512),s("div",xT,[s("div",CT,[s("div",ST,[s("div",RT,[s("h5",$T,[J(" Details for the Indicator "),s("span",kT,D((d=i.selectedIndicator)==null?void 0:d.Indicator),1)]),TT]),s("div",AT,[s("table",DT,[PT,s("tbody",null,[i.selectedIndicator?(P(),N("tr",OT,[s("td",FT,D(i.selectedIndicator.IndicatorQuestion),1),s("td",LT,D(i.selectedIndicator.RemarksComments),1),s("td",MT,D(i.selectedIndicator.ResponseType),1),s("td",NT,D(i.selectedIndicator.ReportingPeriod),1)])):lt("",!0)])])]),BT])])]),s("div",jT,[s("div",VT,[s("div",UT,[s("div",YT,[s("h5",qT,[J(" Report the indicator : "),s("span",HT,D((u=i.selectedIndicator)==null?void 0:u.Indicator),1)]),KT]),s("div",QT,[s("form",{onSubmit:t[9]||(t[9]=Xe((...h)=>l.submitUpdate&&l.submitUpdate(...h),["prevent"]))},[s("div",zT,[s("div",WT,[GT,oe(s("textarea",{style:{height:"100px",color:"red"},class:"form-control","onUpdate:modelValue":t[0]||(t[0]=h=>i.updateForm.Indicator=h)},null,512),[[ve,i.updateForm.Indicator]])]),s("div",JT,[XT,oe(s("textarea",{style:{height:"100px"},class:"form-control","onUpdate:modelValue":t[1]||(t[1]=h=>i.updateForm.IndicatorQuestion=h)},null,512),[[ve,i.updateForm.IndicatorQuestion]])]),s("div",ZT,[eA,oe(s("textarea",{style:{color:"red",height:"100px"},class:"form-control","onUpdate:modelValue":t[2]||(t[2]=h=>i.updateForm.IndicatorDefinition=h),readonly:""},null,512),[[ve,i.updateForm.IndicatorDefinition]])]),s("div",tA,[sA,oe(s("textarea",{style:{height:"100px"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=h=>i.updateForm.RemarksComments=h)},null,512),[[ve,i.updateForm.RemarksComments]])]),s("div",nA,[oA,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=h=>i.updateForm.EntityID=h),readonly:""},null,512),[[ve,i.updateForm.EntityID]])]),s("div",iA,[rA,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=h=>i.updateForm.ReportingID=h),readonly:""},null,512),[[ve,i.updateForm.ReportingID]])]),s("div",aA,[lA,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=h=>i.updateForm.ReportedBy=h)},null,512),[[ve,i.updateForm.ReportedBy]])]),s("div",cA,[dA,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=h=>i.updateForm.ResponseType=h),readonly:""},null,512),[[ve,i.updateForm.ResponseType]])]),s("div",uA,[hA,ke(r,{modelValue:i.updateForm.Response,"onUpdate:modelValue":t[8]||(t[8]=h=>i.updateForm.Response=h),type:i.responseInputType,options:i.responseInputOptions},null,8,["modelValue","type","options"])])]),fA],32)])])])])])])])}const mA=Ue(iT,[["render",pA]]),gA={class:"container px-5 py-5"},_A={key:1},vA=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Select Quaterly Reporting Entity</h4><span>Select the entity you want to quaterly report on.</span></div></div></div>',1),yA={class:"card-body shadow-lg pt-3 bg-light px-5 py-5"},bA={class:"row"},wA={class:"col-md-12"},EA={class:"mb-3 col-md-12 py-5 my-5"},IA=s("label",{class:"px-5 my-5 required form-label"},"Entity",-1),xA=s("option",null,null,-1),CA=["value"],SA=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),RA={__name:"SelectEntity",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1);let a=null;const r=async()=>{l.value=!0;try{const h=await me.collection("mpa_entities").getFullList({filter:'Entity != "RRF"'}),p=sessionStorage.getItem("AuthData");if(!p)throw new Error("No authentication data found");const g=JSON.parse(p),_=g.AccountRole,x=g.EntityID;let S=h;_!=="admin"&&(S=h.filter(Y=>Y.EntityID===x)),o.value=S}catch(h){console.error("Error fetching entities:",h.message),te.fire("Error","Error fetching entities: "+h.message,"error")}finally{l.value=!1}},d=()=>{n.value?(console.log("Selected EntityID:",n.value),t.push({name:"QuaterlySelectReport",query:{entityid:n.value}})):(console.error("No entity selected"),te.fire("Warning","No entity selected","warning"))},u=()=>{i.value&&!a&&(a=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for an entity",placeholder:!0,placeholderValue:"Select an entity",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),a.passedElement.element.addEventListener("choice",function(h){n.value=h.detail.choice.value},!1))};return dt(()=>{r().then(()=>{u()})}),jt(()=>{a&&a.destroy()}),Rt(n,h=>{a&&h&&a.setChoiceByValue(h)}),(h,p)=>(P(),N("div",gA,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",_A,[vA,s("div",yA,[s("div",bA,[s("div",wA,[s("form",{onSubmit:Xe(d,["prevent"])},[s("div",EA,[IA,oe(s("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),ref_key:"entitySelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[xA,(P(!0),N(Te,null,Fe(o.value,g=>(P(),N("option",{key:g.EntityID,value:g.EntityID},D(g.Entity),9,CA))),128))],512),[[it,n.value]])]),SA],32)])])])]))]))}},$A={class:"container px-5 py-5"},kA={key:1},TA=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Select Quarterly Report</h4><span>Select a quarterly report you want to file. All reporting actions will be attached to this report.</span></div></div></div>',1),AA={class:"card-body shadow-lg pt-3 bg-light px-5 py-5"},DA={class:"row"},PA={class:"col-md-12"},OA={class:"mb-3 col-md-12 py-5 my-5"},FA=s("label",{class:"px-5 my-5 required form-label"},"Report",-1),LA=s("option",null,null,-1),MA=["value"],NA=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),BA={__name:"SelectReport",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1),a=j(t.currentRoute.value.query.entityid);let r=null;const d=async()=>{l.value=!0;try{const p=await me.collection("mpa_reporting_timelines").getFullList({filter:'status="active" && Type="Quarterly Report"'});o.value=p}catch(p){console.error("Error fetching reports:",p.message),te.fire("Error","Error fetching reports: "+p.message,"error")}finally{l.value=!1}},u=()=>{n.value?(console.log("Selected ReportingID:",n.value),t.push({name:"ReportQuaterly",query:{reportingid:n.value,entityid:a.value}})):(console.error("No report selected"),te.fire("Warning","No report selected","warning"))},h=()=>{i.value&&!r&&(r=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for a report",placeholder:!0,placeholderValue:"Select a report",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),r.passedElement.element.addEventListener("choice",function(p){n.value=p.detail.choice.value},!1))};return dt(()=>{d().then(()=>{h()})}),jt(()=>{r&&r.destroy()}),Rt(n,p=>{r&&p&&r.setChoiceByValue(p)}),(p,g)=>(P(),N("div",$A,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",kA,[TA,s("div",AA,[s("div",DA,[s("div",PA,[s("form",{onSubmit:Xe(u,["prevent"])},[s("div",OA,[FA,oe(s("select",{"onUpdate:modelValue":g[0]||(g[0]=_=>n.value=_),ref_key:"reportSelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[LA,(P(!0),N(Te,null,Fe(o.value,_=>(P(),N("option",{key:_.ReportingID,value:_.ReportingID},D(_.ReportName),9,MA))),128))],512),[[it,n.value]])]),NA],32)])])])]))]))}},jA={components:{CustomInput:en,FullScreenLoader:ze},data(){return{reportid:null,entityid:null,indicators:[],selectedIndicator:null,SelectedEntity:null,updateForm:{IndicatorQuestion:"",Indicator:"",IndicatorDefinition:"",RemarksComments:"",EntityID:"",ReportingID:"",ReportedBy:"",ResponseType:"",Response:""},responseInputType:"text",responseInputProps:{},responseInputOptions:[]}},methods:{initDataTable(){},async fetchSelectedEntity(){try{se.value=!0;const e=await me.collection("mpa_entities").getFirstListItem(`EntityID="${this.$route.query.entityid}"`);if(!e)throw new Error("Entity not found");console.log("Entity:",e),this.SelectedEntity=e.Entity}catch(e){console.error("Error fetching entity:",e.message),te.fire("Error",`Error fetching entity: ${e.message}`,"error")}finally{se.value=!1}},async fetchIndicators(){se.value=!0;try{const e=await me.collection("mpa_project_indicators").getFullList({filter:`EntityID="${this.entityid}" && ReportingPeriod="Quarterly Report"`}),t=await me.collection("mpa_indicator_reports").getFullList(),o=e.filter(n=>!t.some(i=>i.EntityID===this.entityid&&i.IID===n.IID&&i.ReportingID===this.reportid));if(o.length===0)te.fire("No Unreported Indicators","You currently have no unreported indicators under this report, try another report.","info").then(()=>{this.$router.back()});else{const n=o.reduce((i,l)=>(i.find(a=>a.IID===l.IID)||i.push(l),i),[]);this.indicators=n,this.$nextTick(()=>{this.initDataTable()})}}catch(e){console.error("Error fetching indicators:",e.message),te.fire("Error",`Error fetching indicators: ${e.message}`,"error")}finally{se.value=!1}},viewDetails(e){this.selectedIndicator=e},openUpdateModal(e){this.selectedIndicator=e,this.updateForm.IndicatorQuestion=e.IndicatorQuestion,this.updateForm.Indicator=e.Indicator,this.updateForm.IndicatorDefinition=e.IndicatorDefinition,this.updateForm.RemarksComments="Enter Your Comments Here",this.updateForm.EntityID=this.entityid,this.updateForm.ReportingID=this.reportid,this.updateForm.ReportedBy="",this.updateForm.ResponseType=e.ResponseType,this.updateForm.Response="",e.ResponseType==="Number"?(this.responseInputType="number",this.responseInputProps={type:"number"}):e.ResponseType==="Percentage"?(this.responseInputType="number",this.responseInputProps={type:"number",step:"0.01"}):e.ResponseType==="Yes/No"?(this.responseInputType="select",this.responseInputOptions=[{value:"Yes",text:"Yes"},{value:"No",text:"No"}]):(this.responseInputType="text",this.responseInputProps={type:"text"})},async submitUpdate(){try{se.value=!0;let e=this.updateForm.Response;if(this.updateForm.ResponseType==="Percentage"&&(e=`${e}%`),!await me.collection("mpa_indicator_reports").create({RID:this.reportid,IID:this.selectedIndicator.IID,EntityID:this.updateForm.EntityID,ReportingID:this.updateForm.ReportingID,ReportedBy:this.updateForm.ReportedBy,Response:e,Comments:this.updateForm.RemarksComments,ResponseType:this.updateForm.ResponseType,AnsweredQuestion:this.updateForm.IndicatorQuestion}))throw new Error("Error updating indicator report");te.fire("Success","Indicator report updated successfully","success"),location.reload()}catch(e){console.error("Error updating indicator report:",e.message),te.fire("Error",`Error updating indicator report: ${e.message}`,"error")}finally{this.fetchIndicators(),se.value=!1,this.selectedIndicator=null,this.updateForm={IndicatorQuestion:"",Indicator:"",IndicatorDefinition:"",RemarksComments:"",EntityID:"",ReportingID:"",ReportedBy:"",ResponseType:"",Response:""},this.$bvModal.hide("kt_modal_3")}}},created(){this.entityid=this.$route.query.entityid,this.reportid=this.$route.query.reportingid,this.fetchIndicators(),this.fetchSelectedEntity()}},VA={class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},UA={class:"card-body d-flex flex-column justify-content-between"},YA={class:"text-white fw-bold mb-5"},qA={class:"lh-lg"},HA={class:"fw-bolder text-danger"},KA={class:"col-12 mt-3"},QA={class:"card-body px-5 py-5 bg-light shadow-lg table-responsive"},zA={class:"table table-rounded table-bordered border gy-3 gs-3"},WA=s("thead",null,[s("tr",{class:"fw-bold text-gray-800 border-bottom border-gray-200"},[s("th",{class:"fw-bolder"},"Category"),s("th",{class:"fw-bolder"},"Indicator"),s("th",{class:"fw-bolder"},"Definition"),s("th",{class:"fw-bolder"},"Actions")])],-1),GA={class:"fw-bolder"},JA={class:"fw-bolder"},XA={class:"fw-bolder"},ZA={class:"d-flex justify-content-end"},e5=["onClick"],t5=["onClick"],s5=s("i",{class:"fas fa-pencil fs-3"},null,-1),n5=[s5],o5={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_2"},i5={class:"modal-dialog modal-fullscreen"},r5={class:"modal-content shadow-none"},a5={class:"modal-header"},l5={class:"modal-title"},c5={class:"text-danger fw-bolder"},d5=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),u5={class:"modal-body"},h5={class:"table table-rounded table-bordered border gy-3 gs-3"},f5=s("thead",null,[s("tr",{class:"fw-bold text-gray-800 border-bottom border-gray-200"},[s("th",{class:"fw-bolder"},"Question"),s("th",{class:"fw-bolder"},"Remarks/Comments"),s("th",{class:"fw-bolder"},"Response Type"),s("th",{class:"fw-bolder"},"Reporting Period")])],-1),p5={key:0},m5={class:"fw-bolder"},g5={class:"fw-bolder"},_5={class:"fw-bolder"},v5={class:"fw-bolder"},y5=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-danger shadow-lg","data-bs-dismiss":"modal"}," Close ")],-1),b5={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_3"},w5={class:"modal-dialog modal-fullscreen"},E5={class:"modal-content shadow-none"},I5={class:"modal-header"},x5={class:"modal-title"},C5={class:"text-danger fw-bolder"},S5=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),R5={class:"modal-body"},$5={class:"row"},k5={class:"col-md-6 mb-3"},T5=s("label",{class:"form-label"},"Indicator",-1),A5={class:"col-md-6 mb-3"},D5=s("label",{class:"form-label"},"Indicator Question",-1),P5={class:"col-md-6 mb-3"},O5=s("label",{class:"form-label"},"Indicator Definition",-1),F5={class:"col-md-6 mb-3"},L5=s("label",{class:"form-label"},"Your Remarks/Comments",-1),M5={class:"col-md-6 mb-3 d-none"},N5=s("label",{class:"form-label"},"Entity ID",-1),B5={class:"col-md-6 mb-3 d-none"},j5=s("label",{class:"form-label"},"Report ID",-1),V5={class:"col-md-6 mb-3 d-none"},U5=s("label",{class:"form-label"},"Reported By",-1),Y5={class:"col-md-6 mb-3"},q5=s("label",{class:"form-label"},"Expected Response Type",-1),H5={class:"col-md-6 mb-3"},K5=s("label",{class:"form-label"},"Response",-1),Q5=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit","data-bs-dismiss":"modal",class:"btn mx-1 float-end mb-2 btn- btn-danger"}," Save changes ")],-1);function z5(e,t,o,n,i,l){var d,u;const a=Qe("FullScreenLoader"),r=Qe("CustomInput");return P(),N("div",null,[ke(a),s("div",VA,[s("div",UA,[s("h2",YA,[s("span",qA,[J(" Project quarterly reporting interface "),s("span",HA,"for the entity "+D(i.SelectedEntity)+" (country specific results framework)",1)])])])]),s("div",KA,[s("div",QA,[s("table",zA,[WA,s("tbody",null,[(P(!0),N(Te,null,Fe(i.indicators,h=>(P(),N("tr",{key:h.id},[s("td",GA,D(h.IndicatorSecondaryCategory),1),s("td",JA,D(h.Indicator),1),s("td",XA,D(h.IndicatorDefinition),1),s("td",null,[s("div",ZA,[s("button",{class:"btn btn-outline btn-outline-dashed btn-outline-secondary btn-active-light-secondary shadow-lg fw-bolder me-2",onClick:p=>l.viewDetails(h),"data-bs-toggle":"modal","data-bs-target":"#kt_modal_2"}," More ",8,e5),s("button",{class:"btn btn-outline btn-outline-dashed btn-outline-secondary btn-active-light-secondary shadow-lg text-light fw-bolder me-2",onClick:p=>l.openUpdateModal(h),"data-bs-toggle":"modal","data-bs-target":"#kt_modal_3"},n5,8,t5)])])]))),128))])]),s("div",o5,[s("div",i5,[s("div",r5,[s("div",a5,[s("h5",l5,[J(" Details for the Indicator "),s("span",c5,D((d=i.selectedIndicator)==null?void 0:d.Indicator),1)]),d5]),s("div",u5,[s("table",h5,[f5,s("tbody",null,[i.selectedIndicator?(P(),N("tr",p5,[s("td",m5,D(i.selectedIndicator.IndicatorQuestion),1),s("td",g5,D(i.selectedIndicator.RemarksComments),1),s("td",_5,D(i.selectedIndicator.ResponseType),1),s("td",v5,D(i.selectedIndicator.ReportingPeriod),1)])):lt("",!0)])])]),y5])])]),s("div",b5,[s("div",w5,[s("div",E5,[s("div",I5,[s("h5",x5,[J(" Report the indicator : "),s("span",C5,D((u=i.selectedIndicator)==null?void 0:u.Indicator),1)]),S5]),s("div",R5,[s("form",{onSubmit:t[9]||(t[9]=Xe((...h)=>l.submitUpdate&&l.submitUpdate(...h),["prevent"]))},[s("div",$5,[s("div",k5,[T5,oe(s("textarea",{style:{height:"100px",color:"red"},class:"form-control","onUpdate:modelValue":t[0]||(t[0]=h=>i.updateForm.Indicator=h)},null,512),[[ve,i.updateForm.Indicator]])]),s("div",A5,[D5,oe(s("textarea",{style:{height:"100px"},class:"form-control","onUpdate:modelValue":t[1]||(t[1]=h=>i.updateForm.IndicatorQuestion=h)},null,512),[[ve,i.updateForm.IndicatorQuestion]])]),s("div",P5,[O5,oe(s("textarea",{style:{color:"red",height:"100px"},class:"form-control","onUpdate:modelValue":t[2]||(t[2]=h=>i.updateForm.IndicatorDefinition=h),readonly:""},null,512),[[ve,i.updateForm.IndicatorDefinition]])]),s("div",F5,[L5,oe(s("textarea",{style:{height:"100px"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=h=>i.updateForm.RemarksComments=h)},null,512),[[ve,i.updateForm.RemarksComments]])]),s("div",M5,[N5,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=h=>i.updateForm.EntityID=h),readonly:""},null,512),[[ve,i.updateForm.EntityID]])]),s("div",B5,[j5,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=h=>i.updateForm.ReportingID=h),readonly:""},null,512),[[ve,i.updateForm.ReportingID]])]),s("div",V5,[U5,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=h=>i.updateForm.ReportedBy=h)},null,512),[[ve,i.updateForm.ReportedBy]])]),s("div",Y5,[q5,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=h=>i.updateForm.ResponseType=h),readonly:""},null,512),[[ve,i.updateForm.ResponseType]])]),s("div",H5,[K5,ke(r,{modelValue:i.updateForm.Response,"onUpdate:modelValue":t[8]||(t[8]=h=>i.updateForm.Response=h),type:i.responseInputType,options:i.responseInputOptions},null,8,["modelValue","type","options"])])]),Q5],32)])])])])])])])}const W5=Ue(jA,[["render",z5]]),G5={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null}},methods:{async fetchEntities(){se.value=!0;try{const e=await me.collection("mpa_active_indicator_reports_details").getFullList({filter:'IndicatorPrimaryCategory = "Regional Results Framework"'}),t=sessionStorage.getItem("AuthData");if(!t)throw new Error("No authentication data found");const o=JSON.parse(t),n=o.AccountRole,i=o.EntityID;let l=e;n!=="admin"&&(l=e.filter(r=>r.EntityID===i));const a=l.reduce((r,d)=>(r.find(u=>u.Entity===d.Entity)||r.push(d),r),[]);this.entities=a,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectEntity(e){this.$router.push({name:"ActiveRRFSelectYear",query:{entityid:e}})}},created(){this.fetchEntities()}},J5=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator RRF Reports")])])],-1),X5={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},Z5={class:"card card-flush h-lg-100"},eD=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the entity whose RRF reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only entities with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),tD={class:"card-body pt-0"},sD={class:"m-0"},nD={class:"d-flex flex-stack"},oD=s("img",{src:tn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),iD={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},rD={class:"me-5"},aD={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},lD={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},cD={class:"d-flex align-items-center"},dD={class:"m-0"},uD={class:"badge badge-light-success fs-base"},hD=["onClick"],fD=s("div",{class:"separator separator-dashed my-3"},null,-1);function pD(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),J5,s("div",X5,[s("div",Z5,[eD,s("div",tD,[s("div",sD,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",nD,[oD,s("div",iD,[s("div",rD,[s("a",aD,D(r.Entity),1),s("span",lD,D(r.EntityProjectDetails),1)]),s("div",cD,[s("div",dD,[s("span",uD,[s("button",{onClick:d=>l.selectEntity(r.EntityID),class:"btn btn-sm btn-light"}," Select Entity ",8,hD)])])])])]),fD]))),128))])])])])])}const mD=Ue(G5,[["render",pD]]),gD={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null,year:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`IndicatorPrimaryCategory = "Regional Results Framework" && EntityID = "${this.$route.query.entityid}"`})).reduce((o,n)=>(o.find(i=>i.Year===n.Year)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectYear(e){this.$router.push({name:"ActiveRRFSelectReport",query:{entityid:this.$route.query.entityid,year:e}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},_D=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active project report years (RRF)")])])],-1),vD={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},yD={class:"card card-flush h-lg-100"},bD=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the project year to attach RRF reports to </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project years with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),wD={class:"card-body pt-0"},ED={class:"m-0"},ID={class:"d-flex flex-stack"},xD=s("img",{src:sn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),CD={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},SD={class:"me-5"},RD={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},$D=s("span",{class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},"WB MPA Project Year",-1),kD={class:"d-flex align-items-center"},TD={class:"m-0"},AD={class:"badge badge-light-success fs-base"},DD=["onClick"],PD=s("div",{class:"separator separator-dashed my-3"},null,-1);function OD(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),_D,s("div",vD,[s("div",yD,[bD,s("div",wD,[s("div",ED,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",ID,[xD,s("div",CD,[s("div",SD,[s("a",RD,D(r.Year),1),$D]),s("div",kD,[s("div",TD,[s("span",AD,[s("button",{onClick:d=>l.selectYear(r.Year),class:"btn btn-sm btn-light"}," Select Year ",8,DD)])])])])]),PD]))),128))])])])])])}const FD=Ue(gD,[["render",OD]]),LD={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:`IndicatorPrimaryCategory = "Regional Results Framework" && EntityID = "${this.$route.query.entityid}" && Year = "${this.$route.query.year}"`,sort:"ReportName"})).reduce((o,n)=>(o.find(i=>i.ReportingID===n.ReportingID)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectReport(e){this.$router.push({name:"ActiveRRFViewReport",query:{entityid:this.$route.query.entityid,reportingid:e,year:this.$route.query.year}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},MD=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator RRF Reports")])])],-1),ND={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},BD={class:"card card-flush h-lg-100"},jD=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the specific project report to view (RRF) </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),VD={class:"card-body pt-0"},UD={class:"m-0"},YD={class:"d-flex flex-stack"},qD=s("img",{src:nn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),HD={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},KD={class:"me-5"},QD={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},zD={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},WD={class:"d-flex align-items-center"},GD={class:"m-0"},JD={class:"badge badge-light-success fs-base"},XD=["onClick"],ZD=s("div",{class:"separator separator-dashed my-3"},null,-1);function eP(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),MD,s("div",ND,[s("div",BD,[jD,s("div",VD,[s("div",UD,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",YD,[qD,s("div",HD,[s("div",KD,[s("a",QD,D(r.ReportName),1),s("span",zD,"Type of report : "+D(r.Type),1)]),s("div",WD,[s("div",GD,[s("span",JD,[s("button",{onClick:d=>l.selectReport(r.ReportingID),class:"btn btn-sm btn-light"}," Select Report ",8,XD)])])])])]),ZD]))),128))])])])])])}const tP=Ue(LD,[["render",eP]]),sP={components:{CustomInput:en},name:"ReportAnnual",setup(){const e=ys(),t=j(e.query.entityid),o=j(e.query.reportingid),n=j([]),i=j(null),l=j(null),a=j(null),r=j([]),d=j({}),u=j("text"),h=j({}),p=j([]);se.value=!0;const g=O=>te.fire("Error",O,"error"),_=O=>te.fire("Success",O,"success"),x=async(O,H="")=>{try{return se.value=!0,await me.collection(O).getFullList(200,{filter:H})}catch(w){return g(`Error fetching ${O}: ${w.message}`),[]}finally{se.value=!1}},S=async()=>{const O=await x("mpa_entities",`EntityID="${t.value}"`);l.value=O.length?O[0].Entity:null},Y=async()=>{const O=await x("mpa_reporting_timelines",`ReportingID="${e.query.reportingid}"`);a.value=O.length?O[0].ReportName:null},U=async()=>{try{const O=`EntityID='${e.query.entityid}' && IndicatorPrimaryCategory = "Regional Results Framework" && ReportingID='${e.query.reportingid}' && Year='${e.query.year}'`,w=(await me.collection("mpa_active_indicator_reports_details").getFullList({filter:O})).filter((I,R,A)=>R===A.findIndex(m=>m.IID===I.IID));if(!w.length){te.fire("No Unreported Indicators","You currently have no unreported indicators under this report, try another report.","info").then(()=>this.$router.back()),se.value=!1;return}n.value=w,r.value=w,hs(()=>V())}catch(O){console.error("Error fetching indicators:",O),te.fire({icon:"error",title:"Error",text:"Failed to fetch indicators data. Please try again later."})}finally{se.value=!1}},V=()=>{$.fn.DataTable.isDataTable("#datatable")&&$("#datatable").DataTable().destroy();const O=n.value.map(H=>[H.IndicatorSecondaryCategory,H.Indicator,H.Response,H.AnsweredQuestion,H.Comments,`<div class="d-flex justify-content-end">
          <button data-bs-toggle="modal" data-bs-target="#kt_modal_3" class="btn btn-sm btn-danger shadow-lg fw-bolder me-2 open-update" data-id="${H.id}"><i class="fas fa-pencil fs-3"></i></button>
        </div>`]);$("#datatable").DataTable({data:O,scrollX:!0,columns:[{title:"Category"},{title:"Indicator"},{title:"Reported Response"},{title:"Question"},{title:"Comment"},{title:"Actions"}],dom:"Bfrtip",buttons:["csv","excel","pdf","copy","print"],responsive:!0,paging:!0,pageLength:10}),$("#datatable").on("click",".view-details",H=>Q($(H.currentTarget).data("id"))),$("#datatable").on("click",".open-update",H=>re($(H.currentTarget).data("id")))},Q=O=>{i.value=n.value.find(H=>H.id===O)},re=O=>{i.value=n.value.find(H=>H.id===O),Object.assign(d.value,i.value,{EntityID:t.value,ReportingID:o.value,ReportedBy:""}),u.value=i.value.ResponseType==="Number"||i.value.ResponseType==="Percentage"?"number":i.value.ResponseType==="Yes/No"?"select":"text",h.value=u.value==="number"?{type:"number",step:u.value==="Percentage"?"0.01":"1"}:{type:"text"},p.value=u.value==="select"?[{value:"Yes",text:"Yes"},{value:"No",text:"No"}]:[]},Re=async()=>{try{se.value=!0;const O=d.value.ResponseType==="Percentage"?`${d.value.Response}%`:d.value.Response,H=await me.collection("mpa_indicator_reports").getFirstListItem(`RID="${d.value.RID}" && IID="${d.value.IID}"`);H&&await me.collection("mpa_indicator_reports").update(H.id,{Response:O,Comments:d.value.Comments,IndicatorScore:d.value.IndicatorScore,AnsweredQuestion:d.value.IndicatorQuestion}),_("Indicator report updated successfully"),U()}catch(O){console.error("Error Details:",O),g(`Error updating indicator report: ${O.message}`)}finally{se.value=!1,i.value=null,d.value={}}};return dt(()=>{t.value=e.query.entityid,o.value=e.query.reportingid,S(),U(),Y()}),{entityid:t,reportid:o,indicators:n,selectedIndicator:i,SelectedEntity:l,updateForm:d,responseInputType:u,responseInputProps:h,responseInputOptions:p,fetchSelectedEntity:S,fetchIndicators:U,initializeDataTable:V,viewDetails:Q,SelectedReport:a,openUpdateModal:re,submitUpdate:Re,isLoading:se}}},nP={class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},oP={class:"card-body d-flex flex-column justify-content-between"},iP={class:"text-white fw-bold mb-5"},rP={class:"lh-lg"},aP=s("span",{class:"fw-bolder text-warning"}," regional results framework",-1),lP={class:"col-12 mt-3"},cP={class:"card-body px-5 py-5 bg-light shadow-lg table-responsive"},dP={id:"datatable",ref:"datatable",class:"t table-bordered"},uP={class:"modal bg-body fade",tabindex:"-1",id:"kt_modal_3"},hP={class:"modal-dialog modal-fullscreen"},fP={class:"modal-content shadow-none"},pP={class:"modal-header"},mP={class:"modal-title"},gP={class:"text-danger fw-bolder"},_P=s("div",{class:"btn btn-icon btn-sm btn-active-light-primary ms-2","data-bs-dismiss":"modal","aria-label":"Close"},[s("i",{class:"ki-duotone ki-cross fs-2x"},[s("span",{class:"path1"}),s("span",{class:"path2"})])],-1),vP={class:"modal-body"},yP={class:"row"},bP={class:"col-md-6 mb-3"},wP=s("label",{class:"form-label"},"Indicator",-1),EP={class:"col-md-6 mb-3"},IP=s("label",{class:"form-label"},"Indicator Question",-1),xP={class:"col-md-6 mb-3"},CP=s("label",{class:"form-label"},"Indicator Definition",-1),SP={class:"col-md-6 mb-3"},RP=s("label",{class:"form-label"},"Your Remarks/Comments",-1),$P={class:"col-md-6 mb-3 d-none"},kP=s("label",{class:"form-label"},"Entity ID",-1),TP={class:"col-md-6 mb-3 d-none"},AP=s("label",{class:"form-label"},"Report ID",-1),DP={class:"col-md-6 mb-3 d-none"},PP=s("label",{class:"form-label"},"Reported By",-1),OP={class:"col-md-6 mb-3"},FP=s("label",{class:"form-label"},"Expected Response Type",-1),LP={class:"col-md-6 mb-3"},MP=s("label",{class:"form-label"},"Response",-1),NP=s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close "),s("button",{type:"submit","data-bs-dismiss":"modal",class:"btn mx-1 float-end mb-2 btn- btn-danger"}," Save changes ")],-1);function BP(e,t,o,n,i,l){var d;const a=Qe("FullScreenLoader"),r=Qe("CustomInput");return P(),N("div",null,[ke(a),s("div",nP,[s("div",oP,[s("h3",iP,[s("span",rP,[J(" Project "+D(n.SelectedReport)+" for "+D(n.SelectedEntity)+" ",1),aP])])])]),s("div",lP,[s("div",cP,[s("table",dP,null,512),s("div",uP,[s("div",hP,[s("div",fP,[s("div",pP,[s("h5",mP,[J(" View reported the indicator : "),s("span",gP,D((d=n.selectedIndicator)==null?void 0:d.Indicator),1)]),_P]),s("div",vP,[s("form",{onSubmit:t[9]||(t[9]=Xe((...u)=>n.submitUpdate&&n.submitUpdate(...u),["prevent"]))},[s("div",yP,[s("div",bP,[wP,oe(s("textarea",{style:{height:"200px",color:"red"},class:"form-control","onUpdate:modelValue":t[0]||(t[0]=u=>n.updateForm.Indicator=u)},null,512),[[ve,n.updateForm.Indicator]])]),s("div",EP,[IP,oe(s("textarea",{style:{height:"200px"},class:"form-control","onUpdate:modelValue":t[1]||(t[1]=u=>n.updateForm.IndicatorQuestion=u)},null,512),[[ve,n.updateForm.IndicatorQuestion]])]),s("div",xP,[CP,oe(s("textarea",{style:{color:"red",height:"200px"},class:"form-control","onUpdate:modelValue":t[2]||(t[2]=u=>n.updateForm.IndicatorDefinition=u),readonly:""},null,512),[[ve,n.updateForm.IndicatorDefinition]])]),s("div",SP,[RP,oe(s("textarea",{style:{height:"200px"},class:"form-control","onUpdate:modelValue":t[3]||(t[3]=u=>n.updateForm.Comments=u)},null,512),[[ve,n.updateForm.Comments]])]),s("div",$P,[kP,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=u=>n.updateForm.EntityID=u),readonly:""},null,512),[[ve,n.updateForm.EntityID]])]),s("div",TP,[AP,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=u=>n.updateForm.ReportingID=u),readonly:""},null,512),[[ve,n.updateForm.ReportingID]])]),s("div",DP,[PP,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=u=>n.updateForm.ReportedBy=u)},null,512),[[ve,n.updateForm.ReportedBy]])]),s("div",OP,[FP,oe(s("input",{style:{color:"red"},type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=u=>n.updateForm.ResponseType=u),readonly:""},null,512),[[ve,n.updateForm.ResponseType]])]),s("div",LP,[MP,ke(r,{modelValue:n.updateForm.Response,"onUpdate:modelValue":t[8]||(t[8]=u=>n.updateForm.Response=u),type:n.responseInputType,options:n.responseInputOptions},null,8,["modelValue","type","options"])])]),NP],32)])])])])])])])}const jP=Ue(sP,[["render",BP]]),VP={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null}},methods:{async fetchEntities(){se.value=!0;try{const e=await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework'`}),t=sessionStorage.getItem("AuthData");if(!t)throw new Error("No authentication data found");const o=JSON.parse(t),n=o.AccountRole,i=o.EntityID;let l=e;n!=="admin"&&(l=e.filter(r=>r.EntityID===i));const a=l.reduce((r,d)=>(r.find(u=>u.Entity===d.Entity)||r.push(d),r),[]);this.entities=a,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectEntity(e){this.$router.push({name:"IAnnualReportsYear",query:{entityid:e}})}},created(){this.fetchEntities()}},UP=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed Project Indicator Annual Reports")])])],-1),YP={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},qP={class:"card card-flush h-lg-100"},HP=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the entity whose closed annual reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only entities with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),KP={class:"card-body pt-0"},QP={class:"m-0"},zP={class:"d-flex flex-stack"},WP=s("img",{src:tn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),GP={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},JP={class:"me-5"},XP={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},ZP={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},e3={class:"d-flex align-items-center"},t3={class:"m-0"},s3={class:"badge badge-light-success fs-base"},n3=["onClick"],o3=s("div",{class:"separator separator-dashed my-3"},null,-1);function i3(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),UP,s("div",YP,[s("div",qP,[HP,s("div",KP,[s("div",QP,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",zP,[WP,s("div",GP,[s("div",JP,[s("a",XP,D(r.Entity),1),s("span",ZP,D(r.EntityProjectDetails),1)]),s("div",e3,[s("div",t3,[s("span",s3,[s("button",{onClick:d=>l.selectEntity(r.EntityID),class:"btn btn-sm btn-light"}," Select Entity ",8,n3)])])])])]),o3]))),128))])])])])])}const r3=Ue(VP,[["render",i3]]),a3={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null,year:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}"`})).reduce((o,n)=>(o.find(i=>i.Year===n.Year)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectYear(e){this.$router.push({name:"IAnnualReportsReport",query:{entityid:this.$route.query.entityid,year:e}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},l3=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active project report Years")])])],-1),c3={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},d3={class:"card card-flush h-lg-100"},u3=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the project year to attach reports to </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project years with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),h3={class:"card-body pt-0"},f3={class:"m-0"},p3={class:"d-flex flex-stack"},m3=s("img",{src:sn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),g3={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},_3={class:"me-5"},v3={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},y3=s("span",{class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},"WB MPA Project Year",-1),b3={class:"d-flex align-items-center"},w3={class:"m-0"},E3={class:"badge badge-light-success fs-base"},I3=["onClick"],x3=s("div",{class:"separator separator-dashed my-3"},null,-1);function C3(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),l3,s("div",c3,[s("div",d3,[u3,s("div",h3,[s("div",f3,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",p3,[m3,s("div",g3,[s("div",_3,[s("a",v3,D(r.Year),1),y3]),s("div",b3,[s("div",w3,[s("span",E3,[s("button",{onClick:d=>l.selectYear(r.Year),class:"btn btn-sm btn-light"}," Select Year ",8,I3)])])])])]),x3]))),128))])])])])])}const S3=Ue(a3,[["render",C3]]),R3={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' &&  EntityID = "${this.$route.query.entityid}" && ReportingPeriod = "Annual Report" && Year = "${this.$route.query.year}"`,sort:"ReportName"})).reduce((o,n)=>(o.find(i=>i.ReportingID===n.ReportingID)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectReport(e){this.$router.push({name:"IAnnualReportsView",query:{entityid:this.$route.query.entityid,reportingid:e,year:this.$route.query.year}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},$3=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Active Project Indicator Annual Reports")])])],-1),k3={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},T3={class:"card card-flush h-lg-100"},A3=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the specific project report to view </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),D3={class:"card-body pt-0"},P3={class:"m-0"},O3={class:"d-flex flex-stack"},F3=s("img",{src:nn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),L3={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},M3={class:"me-5"},N3={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},B3={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},j3={class:"d-flex align-items-center"},V3={class:"m-0"},U3={class:"badge badge-light-success fs-base"},Y3=["onClick"],q3=s("div",{class:"separator separator-dashed my-3"},null,-1);function H3(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),$3,s("div",k3,[s("div",T3,[A3,s("div",D3,[s("div",P3,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",O3,[F3,s("div",L3,[s("div",M3,[s("a",N3,D(r.ReportName),1),s("span",B3,"Type of report : "+D(r.Type),1)]),s("div",j3,[s("div",V3,[s("span",U3,[s("button",{onClick:d=>l.selectReport(r.ReportingID),class:"btn btn-sm btn-light"}," Select Report ",8,Y3)])])])])]),q3]))),128))])])])])])}const K3=Ue(R3,[["render",H3]]);var Wc={exports:{}};(function(e,t){(function(o,n){n()})(Wt,function(){function o(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,h,p){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){d(g.response,h,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function l(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Wt=="object"&&Wt.global===Wt?Wt:void 0,r=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(u,h,p){var g=a.URL||a.webkitURL,_=document.createElement("a");h=h||u.name||"download",_.download=h,_.rel="noopener",typeof u=="string"?(_.href=u,_.origin===location.origin?l(_):i(_.href)?n(u,h,p):l(_,_.target="_blank")):(_.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(_.href)},4e4),setTimeout(function(){l(_)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,p){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(o(u,p),h);else if(i(u))n(u,h,p);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){l(g)})}}:function(u,h,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof u=="string")return n(u,h,p);var _=u.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||_&&x||r)&&typeof FileReader<"u"){var Y=new FileReader;Y.onloadend=function(){var Q=Y.result;Q=S?Q:Q.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=Q:location=Q,g=null},Y.readAsDataURL(u)}else{var U=a.URL||a.webkitURL,V=U.createObjectURL(u);g?g.location=V:location.href=V,g=null,setTimeout(function(){U.revokeObjectURL(V)},4e4)}});a.saveAs=d.saveAs=d,e.exports=d})})(Wc);var ai=Wc.exports,Gc={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(o,n){e.exports=n()})(Wt,function o(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,a={},r=0,d={parse:function(w,I){var R=(I=I||{}).dynamicTyping||!1;if(H(R)&&(I.dynamicTypingFunction=R,R={}),I.dynamicTyping=R,I.transform=!!H(I.transform)&&I.transform,I.worker&&d.WORKERS_SUPPORTED){var A=function(){if(!d.WORKERS_SUPPORTED)return!1;var b=(F=n.URL||n.webkitURL||null,q=o.toString(),d.BLOB_URL||(d.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))),C=new n.Worker(b),F,q;return C.onmessage=V,C.id=r++,a[C.id]=C}();return A.userStep=I.step,A.userChunk=I.chunk,A.userComplete=I.complete,A.userError=I.error,I.step=H(I.step),I.chunk=H(I.chunk),I.complete=H(I.complete),I.error=H(I.error),delete I.worker,void A.postMessage({input:w,config:I,workerId:A.id})}var m=null;return d.NODE_STREAM_INPUT,typeof w=="string"?(w=function(b){return b.charCodeAt(0)===65279?b.slice(1):b}(w),m=I.download?new p(I):new _(I)):w.readable===!0&&H(w.read)&&H(w.on)?m=new x(I):(n.File&&w instanceof File||w instanceof Object)&&(m=new g(I)),m.stream(w)},unparse:function(w,I){var R=!1,A=!0,m=",",b=`\r
`,C='"',F=C+C,q=!1,z=null,ie=!1;(function(){if(typeof I=="object"){if(typeof I.delimiter!="string"||d.BAD_DELIMITERS.filter(function(pe){return I.delimiter.indexOf(pe)!==-1}).length||(m=I.delimiter),(typeof I.quotes=="boolean"||typeof I.quotes=="function"||Array.isArray(I.quotes))&&(R=I.quotes),typeof I.skipEmptyLines!="boolean"&&typeof I.skipEmptyLines!="string"||(q=I.skipEmptyLines),typeof I.newline=="string"&&(b=I.newline),typeof I.quoteChar=="string"&&(C=I.quoteChar),typeof I.header=="boolean"&&(A=I.header),Array.isArray(I.columns)){if(I.columns.length===0)throw new Error("Option columns is empty");z=I.columns}I.escapeChar!==void 0&&(F=I.escapeChar+C),(typeof I.escapeFormulae=="boolean"||I.escapeFormulae instanceof RegExp)&&(ie=I.escapeFormulae instanceof RegExp?I.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var G=new RegExp(Y(C),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return de(null,w,q);if(typeof w[0]=="object")return de(z||Object.keys(w[0]),w,q)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||z),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),de(w.fields||[],w.data||[],q);throw new Error("Unable to serialize unrecognized input");function de(pe,Pe,K){var Be="";typeof pe=="string"&&(pe=JSON.parse(pe)),typeof Pe=="string"&&(Pe=JSON.parse(Pe));var Me=Array.isArray(pe)&&0<pe.length,Z=!Array.isArray(Pe[0]);if(Me&&A){for(var k=0;k<pe.length;k++)0<k&&(Be+=m),Be+=xe(pe[k],k);0<Pe.length&&(Be+=b)}for(var T=0;T<Pe.length;T++){var B=Me?pe.length:Pe[T].length,ne=!1,X=Me?Object.keys(Pe[T]).length===0:Pe[T].length===0;if(K&&!Me&&(ne=K==="greedy"?Pe[T].join("").trim()==="":Pe[T].length===1&&Pe[T][0].length===0),K==="greedy"&&Me){for(var E=[],L=0;L<B;L++){var ee=Z?pe[L]:L;E.push(Pe[T][ee])}ne=E.join("").trim()===""}if(!ne){for(var ue=0;ue<B;ue++){0<ue&&!X&&(Be+=m);var he=Me&&Z?pe[ue]:ue;Be+=xe(Pe[T][he],ue)}T<Pe.length-1&&(!K||0<B&&!X)&&(Be+=b)}}return Be}function xe(pe,Pe){if(pe==null)return"";if(pe.constructor===Date)return JSON.stringify(pe).slice(1,25);var K=!1;ie&&typeof pe=="string"&&ie.test(pe)&&(pe="'"+pe,K=!0);var Be=pe.toString().replace(G,F);return(K=K||R===!0||typeof R=="function"&&R(pe,Pe)||Array.isArray(R)&&R[Pe]||function(Me,Z){for(var k=0;k<Z.length;k++)if(-1<Me.indexOf(Z[k]))return!0;return!1}(Be,d.BAD_DELIMITERS)||-1<Be.indexOf(m)||Be.charAt(0)===" "||Be.charAt(Be.length-1)===" ")?C+Be+C:Be}}};if(d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=U,d.ParserHandle=S,d.NetworkStreamer=p,d.FileStreamer=g,d.StringStreamer=_,d.ReadableStreamStreamer=x,n.jQuery){var u=n.jQuery;u.fn.parse=function(w){var I=w.config||{},R=[];return this.each(function(b){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var C=0;C<this.files.length;C++)R.push({file:this.files[C],inputElem:this,instanceConfig:u.extend({},I)})}),A(),this;function A(){if(R.length!==0){var b,C,F,q,z=R[0];if(H(w.before)){var ie=w.before(z.file,z.inputElem);if(typeof ie=="object"){if(ie.action==="abort")return b="AbortError",C=z.file,F=z.inputElem,q=ie.reason,void(H(w.error)&&w.error({name:b},C,F,q));if(ie.action==="skip")return void m();typeof ie.config=="object"&&(z.instanceConfig=u.extend(z.instanceConfig,ie.config))}else if(ie==="skip")return void m()}var G=z.instanceConfig.complete;z.instanceConfig.complete=function(de){H(G)&&G(de,z.file,z.inputElem),m()},d.parse(z.file,z.instanceConfig)}else H(w.complete)&&w.complete()}function m(){R.splice(0,1),A()}}}function h(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(I){var R=Re(I);R.chunkSize=parseInt(R.chunkSize),I.step||I.chunk||(R.chunkSize=null),this._handle=new S(R),(this._handle.streamer=this)._config=R}).call(this,w),this.parseChunk=function(I,R){if(this.isFirstChunk&&H(this._config.beforeFirstChunk)){var A=this._config.beforeFirstChunk(I);A!==void 0&&(I=A)}this.isFirstChunk=!1,this._halted=!1;var m=this._partialLine+I;this._partialLine="";var b=this._handle.parse(m,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var C=b.meta.cursor;this._finished||(this._partialLine=m.substring(C-this._baseIndex),this._baseIndex=C),b&&b.data&&(this._rowCount+=b.data.length);var F=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(l)n.postMessage({results:b,workerId:d.WORKER_ID,finished:F});else if(H(this._config.chunk)&&!R){if(this._config.chunk(b,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);b=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(b.data),this._completeResults.errors=this._completeResults.errors.concat(b.errors),this._completeResults.meta=b.meta),this._completed||!F||!H(this._config.complete)||b&&b.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||b&&b.meta.paused||this._nextChunk(),b}this._halted=!0},this._sendError=function(I){H(this._config.error)?this._config.error(I):l&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:I,finished:!1})}}function p(w){var I;(w=w||{}).chunkSize||(w.chunkSize=d.RemoteChunkSize),h.call(this,w),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(R){this._input=R,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(I=new XMLHttpRequest,this._config.withCredentials&&(I.withCredentials=this._config.withCredentials),i||(I.onload=O(this._chunkLoaded,this),I.onerror=O(this._chunkError,this)),I.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var R=this._config.downloadRequestHeaders;for(var A in R)I.setRequestHeader(A,R[A])}if(this._config.chunkSize){var m=this._start+this._config.chunkSize-1;I.setRequestHeader("Range","bytes="+this._start+"-"+m)}try{I.send(this._config.downloadRequestBody)}catch(b){this._chunkError(b.message)}i&&I.status===0&&this._chunkError()}},this._chunkLoaded=function(){I.readyState===4&&(I.status<200||400<=I.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:I.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(R){var A=R.getResponseHeader("Content-Range");return A===null?-1:parseInt(A.substring(A.lastIndexOf("/")+1))}(I),this.parseChunk(I.responseText)))},this._chunkError=function(R){var A=I.statusText||R;this._sendError(new Error(A))}}function g(w){var I,R;(w=w||{}).chunkSize||(w.chunkSize=d.LocalChunkSize),h.call(this,w);var A=typeof FileReader<"u";this.stream=function(m){this._input=m,R=m.slice||m.webkitSlice||m.mozSlice,A?((I=new FileReader).onload=O(this._chunkLoaded,this),I.onerror=O(this._chunkError,this)):I=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var m=this._input;if(this._config.chunkSize){var b=Math.min(this._start+this._config.chunkSize,this._input.size);m=R.call(m,this._start,b)}var C=I.readAsText(m,this._config.encoding);A||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(m){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(m.target.result)},this._chunkError=function(){this._sendError(I.error)}}function _(w){var I;h.call(this,w=w||{}),this.stream=function(R){return I=R,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var R,A=this._config.chunkSize;return A?(R=I.substring(0,A),I=I.substring(A)):(R=I,I=""),this._finished=!I,this.parseChunk(R)}}}function x(w){h.call(this,w=w||{});var I=[],R=!0,A=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(m){this._input=m,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&I.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),I.length?this.parseChunk(I.shift()):R=!0},this._streamData=O(function(m){try{I.push(typeof m=="string"?m:m.toString(this._config.encoding)),R&&(R=!1,this._checkIsFinished(),this.parseChunk(I.shift()))}catch(b){this._streamError(b)}},this),this._streamError=O(function(m){this._streamCleanUp(),this._sendError(m)},this),this._streamEnd=O(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(w){var I,R,A,m=Math.pow(2,53),b=-m,C=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,q=this,z=0,ie=0,G=!1,de=!1,xe=[],pe={data:[],errors:[],meta:{}};if(H(w.step)){var Pe=w.step;w.step=function(T){if(pe=T,Me())Be();else{if(Be(),pe.data.length===0)return;z+=T.data.length,w.preview&&z>w.preview?R.abort():(pe.data=pe.data[0],Pe(pe,q))}}}function K(T){return w.skipEmptyLines==="greedy"?T.join("").trim()==="":T.length===1&&T[0].length===0}function Be(){return pe&&A&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),A=!1),w.skipEmptyLines&&(pe.data=pe.data.filter(function(T){return!K(T)})),Me()&&function(){if(!pe)return;function T(ne,X){H(w.transformHeader)&&(ne=w.transformHeader(ne,X)),xe.push(ne)}if(Array.isArray(pe.data[0])){for(var B=0;Me()&&B<pe.data.length;B++)pe.data[B].forEach(T);pe.data.splice(0,1)}else pe.data.forEach(T)}(),function(){if(!pe||!w.header&&!w.dynamicTyping&&!w.transform)return pe;function T(ne,X){var E,L=w.header?{}:[];for(E=0;E<ne.length;E++){var ee=E,ue=ne[E];w.header&&(ee=E>=xe.length?"__parsed_extra":xe[E]),w.transform&&(ue=w.transform(ue,ee)),ue=Z(ee,ue),ee==="__parsed_extra"?(L[ee]=L[ee]||[],L[ee].push(ue)):L[ee]=ue}return w.header&&(E>xe.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+xe.length+" fields but parsed "+E,ie+X):E<xe.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+xe.length+" fields but parsed "+E,ie+X)),L}var B=1;return!pe.data.length||Array.isArray(pe.data[0])?(pe.data=pe.data.map(T),B=pe.data.length):pe.data=T(pe.data,0),w.header&&pe.meta&&(pe.meta.fields=xe),ie+=B,pe}()}function Me(){return w.header&&xe.length===0}function Z(T,B){return ne=T,w.dynamicTypingFunction&&w.dynamicTyping[ne]===void 0&&(w.dynamicTyping[ne]=w.dynamicTypingFunction(ne)),(w.dynamicTyping[ne]||w.dynamicTyping)===!0?B==="true"||B==="TRUE"||B!=="false"&&B!=="FALSE"&&(function(X){if(C.test(X)){var E=parseFloat(X);if(b<E&&E<m)return!0}return!1}(B)?parseFloat(B):F.test(B)?new Date(B):B===""?null:B):B;var ne}function k(T,B,ne,X){var E={type:T,code:B,message:ne};X!==void 0&&(E.row=X),pe.errors.push(E)}this.parse=function(T,B,ne){var X=w.quoteChar||'"';if(w.newline||(w.newline=function(ee,ue){ee=ee.substring(0,1048576);var he=new RegExp(Y(ue)+"([^]*?)"+Y(ue),"gm"),_e=(ee=ee.replace(he,"")).split("\r"),Ce=ee.split(`
`),we=1<Ce.length&&Ce[0].length<_e[0].length;if(_e.length===1||we)return`
`;for(var ge=0,fe=0;fe<_e.length;fe++)_e[fe][0]===`
`&&ge++;return ge>=_e.length/2?`\r
`:"\r"}(T,X)),A=!1,w.delimiter)H(w.delimiter)&&(w.delimiter=w.delimiter(T),pe.meta.delimiter=w.delimiter);else{var E=function(ee,ue,he,_e,Ce){var we,ge,fe,Se;Ce=Ce||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Ne=0;Ne<Ce.length;Ne++){var $e=Ce[Ne],Ye=0,Ke=0,et=0;fe=void 0;for(var qe=new U({comments:_e,delimiter:$e,newline:ue,preview:10}).parse(ee),tt=0;tt<qe.data.length;tt++)if(he&&K(qe.data[tt]))et++;else{var ct=qe.data[tt].length;Ke+=ct,fe!==void 0?0<ct&&(Ye+=Math.abs(ct-fe),fe=ct):fe=ct}0<qe.data.length&&(Ke/=qe.data.length-et),(ge===void 0||Ye<=ge)&&(Se===void 0||Se<Ke)&&1.99<Ke&&(ge=Ye,we=$e,Se=Ke)}return{successful:!!(w.delimiter=we),bestDelimiter:we}}(T,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);E.successful?w.delimiter=E.bestDelimiter:(A=!0,w.delimiter=d.DefaultDelimiter),pe.meta.delimiter=w.delimiter}var L=Re(w);return w.preview&&w.header&&L.preview++,I=T,R=new U(L),pe=R.parse(I,B,ne),Be(),G?{meta:{paused:!0}}:pe||{meta:{paused:!1}}},this.paused=function(){return G},this.pause=function(){G=!0,R.abort(),I=H(w.chunk)?"":I.substring(R.getCharIndex())},this.resume=function(){q.streamer._halted?(G=!1,q.streamer.parseChunk(I,!0)):setTimeout(q.resume,3)},this.aborted=function(){return de},this.abort=function(){de=!0,R.abort(),pe.meta.aborted=!0,H(w.complete)&&w.complete(pe),I=""}}function Y(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function U(w){var I,R=(w=w||{}).delimiter,A=w.newline,m=w.comments,b=w.step,C=w.preview,F=w.fastMode,q=I=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(q=w.escapeChar),(typeof R!="string"||-1<d.BAD_DELIMITERS.indexOf(R))&&(R=","),m===R)throw new Error("Comment character same as delimiter");m===!0?m="#":(typeof m!="string"||-1<d.BAD_DELIMITERS.indexOf(m))&&(m=!1),A!==`
`&&A!=="\r"&&A!==`\r
`&&(A=`
`);var z=0,ie=!1;this.parse=function(G,de,xe){if(typeof G!="string")throw new Error("Input must be a string");var pe=G.length,Pe=R.length,K=A.length,Be=m.length,Me=H(b),Z=[],k=[],T=[],B=z=0;if(!G)return bt();if(w.header&&!de){var ne=G.split(A)[0].split(R),X=[],E={},L=!1;for(var ee in ne){var ue=ne[ee];H(w.transformHeader)&&(ue=w.transformHeader(ue,ee));var he=ue,_e=E[ue]||0;for(0<_e&&(L=!0,he=ue+"_"+_e),E[ue]=_e+1;X.includes(he);)he=he+"_"+_e;X.push(he)}if(L){var Ce=G.split(A);Ce[0]=X.join(R),G=Ce.join(A)}}if(F||F!==!1&&G.indexOf(I)===-1){for(var we=G.split(A),ge=0;ge<we.length;ge++){if(T=we[ge],z+=T.length,ge!==we.length-1)z+=A.length;else if(xe)return bt();if(!m||T.substring(0,Be)!==m){if(Me){if(Z=[],et(T.split(R)),Ot(),ie)return bt()}else et(T.split(R));if(C&&C<=ge)return Z=Z.slice(0,C),bt(!0)}}return bt()}for(var fe=G.indexOf(R,z),Se=G.indexOf(A,z),Ne=new RegExp(Y(q)+Y(I),"g"),$e=G.indexOf(I,z);;)if(G[z]!==I)if(m&&T.length===0&&G.substring(z,z+Be)===m){if(Se===-1)return bt();z=Se+K,Se=G.indexOf(A,z),fe=G.indexOf(R,z)}else if(fe!==-1&&(fe<Se||Se===-1))T.push(G.substring(z,fe)),z=fe+Pe,fe=G.indexOf(R,z);else{if(Se===-1)break;if(T.push(G.substring(z,Se)),ct(Se+K),Me&&(Ot(),ie))return bt();if(C&&Z.length>=C)return bt(!0)}else for($e=z,z++;;){if(($e=G.indexOf(I,$e+1))===-1)return xe||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Z.length,index:z}),tt();if($e===pe-1)return tt(G.substring(z,$e).replace(Ne,I));if(I!==q||G[$e+1]!==q){if(I===q||$e===0||G[$e-1]!==q){fe!==-1&&fe<$e+1&&(fe=G.indexOf(R,$e+1)),Se!==-1&&Se<$e+1&&(Se=G.indexOf(A,$e+1));var Ye=qe(Se===-1?fe:Math.min(fe,Se));if(G.substr($e+1+Ye,Pe)===R){T.push(G.substring(z,$e).replace(Ne,I)),G[z=$e+1+Ye+Pe]!==I&&($e=G.indexOf(I,z)),fe=G.indexOf(R,z),Se=G.indexOf(A,z);break}var Ke=qe(Se);if(G.substring($e+1+Ke,$e+1+Ke+K)===A){if(T.push(G.substring(z,$e).replace(Ne,I)),ct($e+1+Ke+K),fe=G.indexOf(R,z),$e=G.indexOf(I,z),Me&&(Ot(),ie))return bt();if(C&&Z.length>=C)return bt(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Z.length,index:z}),$e++}}else $e++}return tt();function et(_t){Z.push(_t),B=z}function qe(_t){var bs=0;if(_t!==-1){var Ct=G.substring($e+1,_t);Ct&&Ct.trim()===""&&(bs=Ct.length)}return bs}function tt(_t){return xe||(_t===void 0&&(_t=G.substring(z)),T.push(_t),z=pe,et(T),Me&&Ot()),bt()}function ct(_t){z=_t,et(T),T=[],Se=G.indexOf(A,z)}function bt(_t){return{data:Z,errors:k,meta:{delimiter:R,linebreak:A,aborted:ie,truncated:!!_t,cursor:B+(de||0)}}}function Ot(){b(bt()),Z=[],k=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return z}}function V(w){var I=w.data,R=a[I.workerId],A=!1;if(I.error)R.userError(I.error,I.file);else if(I.results&&I.results.data){var m={abort:function(){A=!0,Q(I.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:re,resume:re};if(H(R.userStep)){for(var b=0;b<I.results.data.length&&(R.userStep({data:I.results.data[b],errors:I.results.errors,meta:I.results.meta},m),!A);b++);delete I.results}else H(R.userChunk)&&(R.userChunk(I.results,m,I.file),delete I.results)}I.finished&&!A&&Q(I.workerId,I.results)}function Q(w,I){var R=a[w];H(R.userComplete)&&R.userComplete(I),R.terminate(),delete a[w]}function re(){throw new Error("Not implemented.")}function Re(w){if(typeof w!="object"||w===null)return w;var I=Array.isArray(w)?[]:{};for(var R in w)I[R]=Re(w[R]);return I}function O(w,I){return function(){w.apply(I,arguments)}}function H(w){return typeof w=="function"}return l&&(n.onmessage=function(w){var I=w.data;if(d.WORKER_ID===void 0&&I&&(d.WORKER_ID=I.workerId),typeof I.input=="string")n.postMessage({workerId:d.WORKER_ID,results:d.parse(I.input,I.config),finished:!0});else if(n.File&&I.input instanceof File||I.input instanceof Object){var R=d.parse(I.input,I.config);R&&n.postMessage({workerId:d.WORKER_ID,results:R,finished:!0})}}),(p.prototype=Object.create(h.prototype)).constructor=p,(g.prototype=Object.create(h.prototype)).constructor=g,(_.prototype=Object.create(_.prototype)).constructor=_,(x.prototype=Object.create(h.prototype)).constructor=x,d})})(Gc);var Q3=Gc.exports;const po=ur(Q3),z3={name:"EnhancedInnovativeReportView",setup(){const e=ys(),t=j([]),o=j(null),n=j(""),i=j(""),l=j(!0),a=j(!0),r=j(!0),d=j(null),u=j(null),h=j(!0),p=j(null),g=j(!0),_=j(1),x=20,S=j(!1),Y=j(null),U=j(null),V=j(null),Q=async()=>{var ne;h.value=!0,p.value=null;const{entityid:k,reportingid:T}=e.query;if(!k||!T){p.value="EntityID or ReportingID is missing from the query parameters.",h.value=!1;return}const B=`EntityID='${e.query.entityid}' && IndicatorPrimaryCategory='Country Results Framework' && ReportingPeriod='Annual Report' && ReportingID='${e.query.reportingid}' && Year='${e.query.year}'`;try{const X=await me.collection("mpa_all_both_active_inactive_indicator_reports").getList(1,1e3,{filter:B,sort:"id"});if(!X||!((ne=X.items)!=null&&ne.length))throw new Error("No items returned from the API");t.value=X.items.map(E=>({id:E.id,Indicator:E.Indicator,IndicatorSecondaryCategory:E.IndicatorSecondaryCategory,Response:E.Response,ReportingPeriod:E.ReportingPeriod,AnsweredQuestion:E.AnsweredQuestion,Comments:E.Comments,ReportedBy:E.ReportedBy,ApprovalStatus:E.ApprovalStatus,ResponseType:E.ResponseType,BaselinePAD2023:E.BaselinePAD2023,Baseline2024:E.Baseline2024,TargetYearOne2024:E.TargetYearOne2024,TargetYearTwo2025:E.TargetYearTwo2025,TargetYearThree2026:E.TargetYearThree2026,TargetYearFour2027:E.TargetYearFour2027,TargetYearFive2028:E.TargetYearFive2028,TargetYearSix2029:E.TargetYearSix2029,TargetYearSeven2030:E.TargetYearSeven2030})),d.value=X.items[0].Entity,u.value=X.items[0].ReportName}catch(X){console.error("Error fetching data:",X),p.value="An error occurred while fetching data. Please try again."}finally{h.value=!1}},re=ot(()=>t.value.filter(k=>{const T=n.value===""||k.Indicator.toLowerCase().includes(n.value.toLowerCase())||k.IndicatorSecondaryCategory.toLowerCase().includes(n.value.toLowerCase()),B=i.value===""||k.IndicatorSecondaryCategory===i.value,ne=w(k.Response),X=l.value&&ne==="positive"||a.value&&ne==="neutral"||r.value&&ne==="negative";return T&&B&&X})),Re=ot(()=>{const k=(_.value-1)*x;return re.value.slice(k,k+x)}),O=ot(()=>Math.ceil(re.value.length/x)),H=ot(()=>[...new Set(t.value.map(k=>k.IndicatorSecondaryCategory))]),w=k=>{if(typeof k=="string"){if(k=k.toLowerCase(),["yes","achieved","completed","implemented"].some(T=>k.includes(T)))return"positive";if(["no","not achieved","not completed","not implemented"].some(T=>k.includes(T)))return"negative"}else if(typeof k=="number"){if(k===100)return"positive";if(k===0)return"negative";if(k>50)return"positive";if(k<50)return"negative"}return"neutral"},I=k=>`response-${w(k)}`,R=k=>{switch(w(k)){case"positive":return"fas fa-check-circle";case"negative":return"fas fa-times-circle";default:return"fas fa-exclamation-circle"}},A=k=>typeof k=="number"?`${k}%`:k,m=k=>({Economic:"fas fa-dollar-sign",Social:"fas fa-users",Environmental:"fas fa-leaf",Governance:"fas fa-balance-scale"})[k]||"fas fa-folder",b=()=>{n.value=""},C=()=>{g.value=!g.value},F=k=>{o.value=t.value.find(T=>T.id===k)},q=()=>{o.value=null},z=()=>{const k=re.value.map(({id:ne,...X})=>X),T=po.unparse(k),B=new Blob([T],{type:"text/csv;charset=utf-8;"});ai.saveAs(B,`${u.value}_${d.value}_export.csv`)},ie=()=>{const k=re.value.map(B=>`
        <div style="page-break-after: always;">
          <h2>${B.Indicator}</h2>
          <p><strong>Category:</strong> ${B.IndicatorSecondaryCategory}</p>
          <p><strong>Response:</strong> ${A(B.Response)}</p>
          <p><strong>Reporting Period:</strong> ${B.ReportingPeriod}</p>
        </div>
      `).join(""),T=window.open("","_blank");T.document.write(`
        <html>
          <head>
            <title>${u.value} for ${d.value}</title>
            <style>
              body { font-family: Arial, sans-serif; }
              h2 { color: #2196F3; }
            </style>
          </head>
          <body>
            <h1>${u.value} for ${d.value}</h1>
            ${k}
          </body>
        </html>
      `),T.document.close(),T.print()},G=()=>{_.value>1&&_.value--},de=()=>{_.value<O.value&&_.value++},xe=()=>{S.value=!0,hs(()=>{Pe()})},pe=()=>{S.value=!1},Pe=()=>{K(),Be(),Me()},K=()=>{const k=Y.value.getContext("2d"),T={};t.value.forEach(B=>{T[B.IndicatorSecondaryCategory]||(T[B.IndicatorSecondaryCategory]={positive:0,neutral:0,negative:0});const ne=w(B.Response);T[B.IndicatorSecondaryCategory][ne]++}),new Chart(k,{type:"bar",data:{labels:Object.keys(T),datasets:[{label:"Positive",data:Object.values(T).map(B=>B.positive),backgroundColor:"rgba(75, 192, 192, 0.6)"},{label:"Neutral",data:Object.values(T).map(B=>B.neutral),backgroundColor:"rgba(255, 206, 86, 0.6)"},{label:"Negative",data:Object.values(T).map(B=>B.negative),backgroundColor:"rgba(255, 99, 132, 0.6)"}]},options:{responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0,title:{display:!0,text:"Number of Indicators"}}},plugins:{title:{display:!0,text:"Indicator Responses by Category"}}}})},Be=()=>{const k=U.value.getContext("2d"),T=t.value.filter(X=>typeof X.Response=="number").map(X=>X.Response),B=Array.from({length:10},(X,E)=>E*10),ne=B.map(X=>({bin:X,count:T.filter(E=>E>=X&&E<X+10).length}));new Chart(k,{type:"bar",data:{labels:B.map(X=>`${X}-${X+9}%`),datasets:[{label:"Score Distribution",data:ne.map(X=>X.count),backgroundColor:"rgba(54, 162, 235, 0.6)"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency"}},x:{title:{display:!0,text:"Score Range"}}},plugins:{title:{display:!0,text:"Distribution of Numeric Scores"}}}})},Me=()=>{const k=V.value.getContext("2d"),T=["BaselinePAD2023","Baseline2024","TargetYearOne2024","TargetYearTwo2025","TargetYearThree2026","TargetYearFour2027","TargetYearFive2028","TargetYearSix2029","TargetYearSeven2030"],B=t.value.filter(ne=>T.some(X=>ne[X]!==null&&ne[X]!==void 0)).map(ne=>({label:ne.Indicator,data:T.map(X=>ne[X]),fill:!1,borderColor:Z()}));new Chart(k,{type:"line",data:{labels:T.map(ne=>ne.replace("TargetYear","Target ")),datasets:B},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Value"}},x:{title:{display:!0,text:"Year"}}},plugins:{title:{display:!0,text:"Indicator Trends Over Time"},legend:{display:!1},tooltip:{callbacks:{title:ne=>`${ne[0].dataset.label} - ${ne[0].label}`}}}}})},Z=()=>{const k="0123456789ABCDEF";let T="#";for(let B=0;B<6;B++)T+=k[Math.floor(Math.random()*16)];return T};return Rt([n,i,l,a,r],()=>{_.value=1}),Rt(()=>[e.query.entityid,e.query.reportingid],Q),dt(()=>{if(!e.query.entityid||!e.query.reportingid){p.value="Missing required query parameters.";return}Q()}),{indicators:t,selectedIndicator:o,searchQuery:n,selectedCategory:i,showPositive:l,showNeutral:a,showNegative:r,SelectedEntity:d,SelectedReport:u,isLoading:h,error:p,isGridView:g,currentPage:_,totalPages:O,filteredIndicators:Re,uniqueCategories:H,clearSearch:b,toggleView:C,openDetailView:F,closeDetailView:q,exportCSV:z,printRecords:ie,getResponseClass:I,getResponseIcon:R,formatResponse:A,getCategoryIcon:m,prevPage:G,nextPage:de,openAnalyticsModal:xe,closeAnalyticsModal:pe,showAnalyticsModal:S,categoryChart:Y,scoresChart:U,advancedChart:V}}},ft=e=>(Zt("data-v-32cd9a02"),e=e(),es(),e),W3={class:"innovative-container"},G3={class:"main-header alert alert-info"},J3={class:"app-title"},X3=ft(()=>s("i",{class:"fas fa-chart-line"},null,-1)),Z3={class:"main-nav"},eO=ft(()=>s("i",{class:"fas fa-file-export"},null,-1)),tO=ft(()=>s("i",{class:"fas fa-print"},null,-1)),sO={class:"search-filter-section alert alert-primary"},nO={class:"search-container"},oO=ft(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),iO=ft(()=>s("i",{class:"fas fa-times"},null,-1)),rO=[iO],aO={class:"filter-container"},lO=ft(()=>s("option",{value:""},"All Categories",-1)),cO=["value"],dO={class:"response-filter"},uO=ft(()=>s("i",{class:"fas fa-check"},null,-1)),hO=ft(()=>s("i",{class:"fas fa-minus"},null,-1)),fO=ft(()=>s("i",{class:"fas fa-times"},null,-1)),pO=["onClick"],mO={class:"indicator-content"},gO={class:"indicator-title"},_O={class:"indicator-category text-info"},vO={class:"indicator-period text-primary"},yO=ft(()=>s("i",{class:"far fa-calendar-alt"},null,-1)),bO={key:1,class:"no-results"},wO={class:"pagination-controls"},EO=["disabled"],IO=ft(()=>s("i",{class:"fas fa-chevron-left"},null,-1)),xO={class:"page-info"},CO=["disabled"],SO=ft(()=>s("i",{class:"fas fa-chevron-right"},null,-1)),RO={class:"modal-header"},$O={class:"modal-title"},kO=ft(()=>s("i",{class:"fas fa-times"},null,-1)),TO=[kO],AO={class:"detail-grid"},DO={class:"detail-item"},PO=ft(()=>s("h3",null,[s("i",{class:"fas fa-question-circle"}),J(" Question")],-1)),OO={class:"detail-item"},FO=ft(()=>s("h3",null,[s("i",{class:"fas fa-comment-dots"}),J(" Response")],-1)),LO={class:"detail-item"},MO=ft(()=>s("h3",null,[s("i",{class:"fas fa-comments"}),J(" Comments")],-1)),NO={class:"detail-item"},BO=ft(()=>s("h3",null,[s("i",{class:"fas fa-info-circle"}),J(" Reporting Details")],-1)),jO=ft(()=>s("strong",null,[s("i",{class:"far fa-calendar-alt"}),J(" Period:")],-1)),VO=ft(()=>s("strong",null,[s("i",{class:"fas fa-user"}),J(" Reported By:")],-1)),UO=ft(()=>s("strong",null,[s("i",{class:"fas fa-check-circle"}),J(" Approval Status:")],-1)),YO={class:"detail-item"},qO=ft(()=>s("h3",null,[s("i",{class:"fas fa-chart-line"}),J(" Longitudinal Data")],-1)),HO=ft(()=>s("strong",null,"Baseline PAD 2023:",-1)),KO=ft(()=>s("strong",null,"Baseline 2024:",-1)),QO=ft(()=>s("strong",null,"Target Year One 2024:",-1)),zO=ft(()=>s("strong",null,"Target Year Two 2025:",-1)),WO=ft(()=>s("strong",null,"Target Year Three 2026:",-1)),GO={class:"detail-item"},JO=ft(()=>s("h3",null,[s("i",{class:"fas fa-chart-line"}),J(" Longitudinal Data")],-1)),XO=ft(()=>s("strong",null,"Target Year Four 2027:",-1)),ZO=ft(()=>s("strong",null,"Target Year Five 2028:",-1)),eF=ft(()=>s("strong",null,"Target Year Six 2029:",-1)),tF=ft(()=>s("strong",null,"Target Year Seven 2030:",-1));function sF(e,t,o,n,i,l){return P(),N("div",W3,[s("header",G3,[s("h1",J3,[X3,J(" "+D(n.SelectedReport)+" for "+D(n.SelectedEntity),1)]),s("nav",Z3,[s("button",{onClick:t[0]||(t[0]=(...a)=>n.exportCSV&&n.exportCSV(...a)),class:"nav-button","aria-label":"Export CSV"},[eO,J(" Export ")]),s("button",{onClick:t[1]||(t[1]=(...a)=>n.printRecords&&n.printRecords(...a)),class:"nav-button","aria-label":"Print Records"},[tO,J(" Print ")])])]),s("section",sO,[s("div",nO,[oO,oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.searchQuery=a),class:"search-input",placeholder:"Search indicators...","aria-label":"Search indicators"},null,512),[[ve,n.searchQuery]]),s("button",{onClick:t[3]||(t[3]=(...a)=>n.clearSearch&&n.clearSearch(...a)),class:"clear-search","aria-label":"Clear search"},rO)]),s("div",aO,[oe(s("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.selectedCategory=a),class:"category-select","aria-label":"Filter by category"},[lO,(P(!0),N(Te,null,Fe(n.uniqueCategories,a=>(P(),N("option",{key:a,value:a},D(a),9,cO))),128))],512),[[it,n.selectedCategory]]),s("div",dO,[s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=a=>n.showPositive=a)},null,512),[[us,n.showPositive]]),J(),uO,J(" Positive")]),s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=a=>n.showNeutral=a)},null,512),[[us,n.showNeutral]]),J(),hO,J(" Neutral")]),s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=a=>n.showNegative=a)},null,512),[[us,n.showNegative]]),J(),fO,J(" Negative")])])])]),s("main",{class:nt(["content-area",{"grid-view":n.isGridView,"list-view":!n.isGridView}])},[n.filteredIndicators.length?(P(!0),N(Te,{key:0},Fe(n.filteredIndicators,a=>(P(),N("article",{key:a.id,class:"indicator-item shadow-lg",onClick:r=>n.openDetailView(a.id)},[s("div",mO,[s("h2",gO,[s("i",{class:nt(n.getCategoryIcon(a.IndicatorSecondaryCategory))},null,2),J(" "+D(a.Indicator),1)]),s("p",_O,D(a.IndicatorSecondaryCategory),1),s("div",{class:nt(["indicator-response text-danger",n.getResponseClass(a.Response)])},[s("i",{class:nt(n.getResponseIcon(a.Response))},null,2),J(" "+D(a.Response),1)],2),s("p",vO,[yO,J(" "+D(a.ReportingPeriod),1)])])],8,pO))),128)):(P(),N("p",bO,"No indicators match your current search and filters."))],2),s("footer",wO,[s("button",{onClick:t[8]||(t[8]=(...a)=>n.prevPage&&n.prevPage(...a)),disabled:n.currentPage===1,class:"page-button"},[IO,J(" Previous ")],8,EO),s("span",xO,"Page "+D(n.currentPage)+" of "+D(n.totalPages),1),s("button",{onClick:t[9]||(t[9]=(...a)=>n.nextPage&&n.nextPage(...a)),disabled:n.currentPage===n.totalPages,class:"page-button"},[J(" Next "),SO],8,CO)]),n.selectedIndicator?(P(),N("div",{key:0,class:"modal-overlay",onClick:t[12]||(t[12]=(...a)=>n.closeDetailView&&n.closeDetailView(...a))},[s("div",{class:"modal-content",onClick:t[11]||(t[11]=Xe(()=>{},["stop"]))},[s("div",RO,[s("h2",$O,[s("i",{class:nt(n.getCategoryIcon(n.selectedIndicator.IndicatorSecondaryCategory))},null,2),J(" "+D(n.selectedIndicator.Indicator),1)]),s("button",{onClick:t[10]||(t[10]=(...a)=>n.closeDetailView&&n.closeDetailView(...a)),class:"close-modal","aria-label":"Close details"},TO)]),s("div",AO,[s("div",DO,[PO,s("p",null,D(n.selectedIndicator.AnsweredQuestion),1)]),s("div",OO,[FO,s("p",{class:nt(["response",n.getResponseClass(n.selectedIndicator.Response)])},[s("i",{class:nt(n.getResponseIcon(n.selectedIndicator.Response))},null,2),J(" "+D(n.selectedIndicator.Response),1)],2)]),s("div",LO,[MO,s("p",null,D(n.selectedIndicator.Comments||"No comments provided."),1)]),s("div",NO,[BO,s("p",null,[jO,J(" "+D(n.selectedIndicator.ReportingPeriod),1)]),s("p",null,[VO,J(" "+D(n.selectedIndicator.ReportedBy),1)]),s("p",null,[UO,J(" "+D(n.selectedIndicator.ApprovalStatus),1)])]),s("div",YO,[qO,s("p",null,[HO,J(" "+D(n.selectedIndicator.BaselinePAD2023),1)]),s("p",null,[KO,J(" "+D(n.selectedIndicator.Baseline2024),1)]),s("p",null,[QO,J(" "+D(n.selectedIndicator.TargetYearOne2024),1)]),s("p",null,[zO,J(" "+D(n.selectedIndicator.TargetYearTwo2025),1)]),s("p",null,[WO,J(" "+D(n.selectedIndicator.TargetYearThree2026),1)])]),s("div",GO,[JO,s("p",null,[XO,J(" "+D(n.selectedIndicator.TargetYearFour2027),1)]),s("p",null,[ZO,J(" "+D(n.selectedIndicator.TargetYearFive2028),1)]),s("p",null,[eF,J(" "+D(n.selectedIndicator.TargetYearSix2029),1)]),s("p",null,[tF,J(" "+D(n.selectedIndicator.TargetYearSeven2030),1)])])])])])):lt("",!0)])}const nF=Ue(z3,[["render",sF],["__scopeId","data-v-32cd9a02"]]),oF={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null}},methods:{async fetchEntities(){se.value=!0;try{const e=await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework'`}),t=sessionStorage.getItem("AuthData");if(!t)throw new Error("No authentication data found");const o=JSON.parse(t),n=o.AccountRole,i=o.EntityID;let l=e;n!=="admin"&&(l=e.filter(r=>r.EntityID===i));const a=l.reduce((r,d)=>(r.find(u=>u.Entity===d.Entity)||r.push(d),r),[]);this.entities=a,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectEntity(e){this.$router.push({name:"IBiAnnualReportsYear",query:{entityid:e}})}},created(){this.fetchEntities()}},iF=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed Project Indicator Bi-annual Reports")])])],-1),rF={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},aF={class:"card card-flush h-lg-100"},lF=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the entity whose closed Bi-annual reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only entities with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),cF={class:"card-body pt-0"},dF={class:"m-0"},uF={class:"d-flex flex-stack"},hF=s("img",{src:tn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),fF={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},pF={class:"me-5"},mF={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},gF={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},_F={class:"d-flex align-items-center"},vF={class:"m-0"},yF={class:"badge badge-light-success fs-base"},bF=["onClick"],wF=s("div",{class:"separator separator-dashed my-3"},null,-1);function EF(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),iF,s("div",rF,[s("div",aF,[lF,s("div",cF,[s("div",dF,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",uF,[hF,s("div",fF,[s("div",pF,[s("a",mF,D(r.Entity),1),s("span",gF,D(r.EntityProjectDetails),1)]),s("div",_F,[s("div",vF,[s("span",yF,[s("button",{onClick:d=>l.selectEntity(r.EntityID),class:"btn btn-sm btn-light"}," Select Entity ",8,bF)])])])])]),wF]))),128))])])])])])}const IF=Ue(oF,[["render",EF]]),xF={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null,year:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}"`})).reduce((o,n)=>(o.find(i=>i.Year===n.Year)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectYear(e){this.$router.push({name:"IBiAnnualReportsReport",query:{entityid:this.$route.query.entityid,year:e}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},CF=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed project report Years")])])],-1),SF={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},RF={class:"card card-flush h-lg-100"},$F=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the project year to attach closed reports to </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project years with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),kF={class:"card-body pt-0"},TF={class:"m-0"},AF={class:"d-flex flex-stack"},DF=s("img",{src:sn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),PF={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},OF={class:"me-5"},FF={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},LF=s("span",{class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},"WB MPA Project Year",-1),MF={class:"d-flex align-items-center"},NF={class:"m-0"},BF={class:"badge badge-light-success fs-base"},jF=["onClick"],VF=s("div",{class:"separator separator-dashed my-3"},null,-1);function UF(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),CF,s("div",SF,[s("div",RF,[$F,s("div",kF,[s("div",TF,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",AF,[DF,s("div",PF,[s("div",OF,[s("a",FF,D(r.Year),1),LF]),s("div",MF,[s("div",NF,[s("span",BF,[s("button",{onClick:d=>l.selectYear(r.Year),class:"btn btn-sm btn-light"}," Select Year ",8,jF)])])])])]),VF]))),128))])])])])])}const YF=Ue(xF,[["render",UF]]),qF={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}" && ReportingPeriod = "Bi-Annual Report" && Year = "${this.$route.query.year}"`,sort:"ReportName"})).reduce((o,n)=>(o.find(i=>i.ReportingID===n.ReportingID)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectReport(e){this.$router.push({name:"IBiAnnualReportsView",query:{entityid:this.$route.query.entityid,reportingid:e,year:this.$route.query.year}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},HF=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed Project Indicator Bi-annual Reports")])])],-1),KF={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},QF={class:"card card-flush h-lg-100"},zF=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the specific closed project report to view </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),WF={class:"card-body pt-0"},GF={class:"m-0"},JF={class:"d-flex flex-stack"},XF=s("img",{src:nn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),ZF={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},eL={class:"me-5"},tL={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},sL={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},nL={class:"d-flex align-items-center"},oL={class:"m-0"},iL={class:"badge badge-light-success fs-base"},rL=["onClick"],aL=s("div",{class:"separator separator-dashed my-3"},null,-1);function lL(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),HF,s("div",KF,[s("div",QF,[zF,s("div",WF,[s("div",GF,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",JF,[XF,s("div",ZF,[s("div",eL,[s("a",tL,D(r.ReportName),1),s("span",sL,"Type of report : "+D(r.Type),1)]),s("div",nL,[s("div",oL,[s("span",iL,[s("button",{onClick:d=>l.selectReport(r.ReportingID),class:"btn btn-sm btn-light"}," Select Report ",8,rL)])])])])]),aL]))),128))])])])])])}const cL=Ue(qF,[["render",lL]]),dL={name:"EnhancedInnovativeReportView",setup(){const e=ys(),t=j([]),o=j(null),n=j(""),i=j(""),l=j(!0),a=j(!0),r=j(!0),d=j(null),u=j(null),h=j(!0),p=j(null),g=j(!0),_=j(1),x=20,S=j(!1),Y=j(null),U=j(null),V=j(null),Q=async()=>{var ne;h.value=!0,p.value=null;const{entityid:k,reportingid:T}=e.query;if(!k||!T){p.value="EntityID or ReportingID is missing from the query parameters.",h.value=!1;return}const B=`EntityID='${e.query.entityid}' && IndicatorPrimaryCategory='Country Results Framework' && ReportingPeriod='Bi-Annual Report' && ReportingID='${e.query.reportingid}' && Year='${e.query.year}'`;try{const X=await me.collection("mpa_all_both_active_inactive_indicator_reports").getList(1,1e3,{filter:B,sort:"id"});if(!X||!((ne=X.items)!=null&&ne.length))throw new Error("No items returned from the API");t.value=X.items.map(E=>({id:E.id,Indicator:E.Indicator,IndicatorSecondaryCategory:E.IndicatorSecondaryCategory,Response:E.Response,ReportingPeriod:E.ReportingPeriod,AnsweredQuestion:E.AnsweredQuestion,Comments:E.Comments,ReportedBy:E.ReportedBy,ApprovalStatus:E.ApprovalStatus,ResponseType:E.ResponseType,BaselinePAD2023:E.BaselinePAD2023,Baseline2024:E.Baseline2024,TargetYearOne2024:E.TargetYearOne2024,TargetYearTwo2025:E.TargetYearTwo2025,TargetYearThree2026:E.TargetYearThree2026,TargetYearFour2027:E.TargetYearFour2027,TargetYearFive2028:E.TargetYearFive2028,TargetYearSix2029:E.TargetYearSix2029,TargetYearSeven2030:E.TargetYearSeven2030})),d.value=X.items[0].Entity,u.value=X.items[0].ReportName}catch(X){console.error("Error fetching data:",X),p.value="An error occurred while fetching data. Please try again."}finally{h.value=!1}},re=ot(()=>t.value.filter(k=>{const T=n.value===""||k.Indicator.toLowerCase().includes(n.value.toLowerCase())||k.IndicatorSecondaryCategory.toLowerCase().includes(n.value.toLowerCase()),B=i.value===""||k.IndicatorSecondaryCategory===i.value,ne=w(k.Response),X=l.value&&ne==="positive"||a.value&&ne==="neutral"||r.value&&ne==="negative";return T&&B&&X})),Re=ot(()=>{const k=(_.value-1)*x;return re.value.slice(k,k+x)}),O=ot(()=>Math.ceil(re.value.length/x)),H=ot(()=>[...new Set(t.value.map(k=>k.IndicatorSecondaryCategory))]),w=k=>{if(typeof k=="string"){if(k=k.toLowerCase(),["yes","achieved","completed","implemented"].some(T=>k.includes(T)))return"positive";if(["no","not achieved","not completed","not implemented"].some(T=>k.includes(T)))return"negative"}else if(typeof k=="number"){if(k===100)return"positive";if(k===0)return"negative";if(k>50)return"positive";if(k<50)return"negative"}return"neutral"},I=k=>`response-${w(k)}`,R=k=>{switch(w(k)){case"positive":return"fas fa-check-circle";case"negative":return"fas fa-times-circle";default:return"fas fa-exclamation-circle"}},A=k=>typeof k=="number"?`${k}%`:k,m=k=>({Economic:"fas fa-dollar-sign",Social:"fas fa-users",Environmental:"fas fa-leaf",Governance:"fas fa-balance-scale"})[k]||"fas fa-folder",b=()=>{n.value=""},C=()=>{g.value=!g.value},F=k=>{o.value=t.value.find(T=>T.id===k)},q=()=>{o.value=null},z=()=>{const k=re.value.map(({id:ne,...X})=>X),T=po.unparse(k),B=new Blob([T],{type:"text/csv;charset=utf-8;"});ai.saveAs(B,`${u.value}_${d.value}_export.csv`)},ie=()=>{const k=re.value.map(B=>`
        <div style="page-break-after: always;">
          <h2>${B.Indicator}</h2>
          <p><strong>Category:</strong> ${B.IndicatorSecondaryCategory}</p>
          <p><strong>Response:</strong> ${A(B.Response)}</p>
          <p><strong>Reporting Period:</strong> ${B.ReportingPeriod}</p>
        </div>
      `).join(""),T=window.open("","_blank");T.document.write(`
        <html>
          <head>
            <title>${u.value} for ${d.value}</title>
            <style>
              body { font-family: Arial, sans-serif; }
              h2 { color: #2196F3; }
            </style>
          </head>
          <body>
            <h1>${u.value} for ${d.value}</h1>
            ${k}
          </body>
        </html>
      `),T.document.close(),T.print()},G=()=>{_.value>1&&_.value--},de=()=>{_.value<O.value&&_.value++},xe=()=>{S.value=!0,hs(()=>{Pe()})},pe=()=>{S.value=!1},Pe=()=>{K(),Be(),Me()},K=()=>{const k=Y.value.getContext("2d"),T={};t.value.forEach(B=>{T[B.IndicatorSecondaryCategory]||(T[B.IndicatorSecondaryCategory]={positive:0,neutral:0,negative:0});const ne=w(B.Response);T[B.IndicatorSecondaryCategory][ne]++}),new Chart(k,{type:"bar",data:{labels:Object.keys(T),datasets:[{label:"Positive",data:Object.values(T).map(B=>B.positive),backgroundColor:"rgba(75, 192, 192, 0.6)"},{label:"Neutral",data:Object.values(T).map(B=>B.neutral),backgroundColor:"rgba(255, 206, 86, 0.6)"},{label:"Negative",data:Object.values(T).map(B=>B.negative),backgroundColor:"rgba(255, 99, 132, 0.6)"}]},options:{responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0,title:{display:!0,text:"Number of Indicators"}}},plugins:{title:{display:!0,text:"Indicator Responses by Category"}}}})},Be=()=>{const k=U.value.getContext("2d"),T=t.value.filter(X=>typeof X.Response=="number").map(X=>X.Response),B=Array.from({length:10},(X,E)=>E*10),ne=B.map(X=>({bin:X,count:T.filter(E=>E>=X&&E<X+10).length}));new Chart(k,{type:"bar",data:{labels:B.map(X=>`${X}-${X+9}%`),datasets:[{label:"Score Distribution",data:ne.map(X=>X.count),backgroundColor:"rgba(54, 162, 235, 0.6)"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency"}},x:{title:{display:!0,text:"Score Range"}}},plugins:{title:{display:!0,text:"Distribution of Numeric Scores"}}}})},Me=()=>{const k=V.value.getContext("2d"),T=["BaselinePAD2023","Baseline2024","TargetYearOne2024","TargetYearTwo2025","TargetYearThree2026","TargetYearFour2027","TargetYearFive2028","TargetYearSix2029","TargetYearSeven2030"],B=t.value.filter(ne=>T.some(X=>ne[X]!==null&&ne[X]!==void 0)).map(ne=>({label:ne.Indicator,data:T.map(X=>ne[X]),fill:!1,borderColor:Z()}));new Chart(k,{type:"line",data:{labels:T.map(ne=>ne.replace("TargetYear","Target ")),datasets:B},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Value"}},x:{title:{display:!0,text:"Year"}}},plugins:{title:{display:!0,text:"Indicator Trends Over Time"},legend:{display:!1},tooltip:{callbacks:{title:ne=>`${ne[0].dataset.label} - ${ne[0].label}`}}}}})},Z=()=>{const k="0123456789ABCDEF";let T="#";for(let B=0;B<6;B++)T+=k[Math.floor(Math.random()*16)];return T};return Rt([n,i,l,a,r],()=>{_.value=1}),Rt(()=>[e.query.entityid,e.query.reportingid],Q),dt(()=>{if(!e.query.entityid||!e.query.reportingid){p.value="Missing required query parameters.";return}Q()}),{indicators:t,selectedIndicator:o,searchQuery:n,selectedCategory:i,showPositive:l,showNeutral:a,showNegative:r,SelectedEntity:d,SelectedReport:u,isLoading:h,error:p,isGridView:g,currentPage:_,totalPages:O,filteredIndicators:Re,uniqueCategories:H,clearSearch:b,toggleView:C,openDetailView:F,closeDetailView:q,exportCSV:z,printRecords:ie,getResponseClass:I,getResponseIcon:R,formatResponse:A,getCategoryIcon:m,prevPage:G,nextPage:de,openAnalyticsModal:xe,closeAnalyticsModal:pe,showAnalyticsModal:S,categoryChart:Y,scoresChart:U,advancedChart:V}}},pt=e=>(Zt("data-v-651d80f6"),e=e(),es(),e),uL={class:"innovative-container"},hL={class:"main-header alert alert-info"},fL={class:"app-title"},pL=pt(()=>s("i",{class:"fas fa-chart-line"},null,-1)),mL={class:"main-nav"},gL=pt(()=>s("i",{class:"fas fa-file-export"},null,-1)),_L=pt(()=>s("i",{class:"fas fa-print"},null,-1)),vL={class:"search-filter-section alert alert-primary"},yL={class:"search-container"},bL=pt(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),wL=pt(()=>s("i",{class:"fas fa-times"},null,-1)),EL=[wL],IL={class:"filter-container"},xL=pt(()=>s("option",{value:""},"All Categories",-1)),CL=["value"],SL={class:"response-filter"},RL=pt(()=>s("i",{class:"fas fa-check"},null,-1)),$L=pt(()=>s("i",{class:"fas fa-minus"},null,-1)),kL=pt(()=>s("i",{class:"fas fa-times"},null,-1)),TL=["onClick"],AL={class:"indicator-content"},DL={class:"indicator-title"},PL={class:"indicator-category text-info"},OL={class:"indicator-period text-primary"},FL=pt(()=>s("i",{class:"far fa-calendar-alt"},null,-1)),LL={key:1,class:"no-results"},ML={class:"pagination-controls"},NL=["disabled"],BL=pt(()=>s("i",{class:"fas fa-chevron-left"},null,-1)),jL={class:"page-info"},VL=["disabled"],UL=pt(()=>s("i",{class:"fas fa-chevron-right"},null,-1)),YL={class:"modal-header"},qL={class:"modal-title"},HL=pt(()=>s("i",{class:"fas fa-times"},null,-1)),KL=[HL],QL={class:"detail-grid"},zL={class:"detail-item"},WL=pt(()=>s("h3",null,[s("i",{class:"fas fa-question-circle"}),J(" Question")],-1)),GL={class:"detail-item"},JL=pt(()=>s("h3",null,[s("i",{class:"fas fa-comment-dots"}),J(" Response")],-1)),XL={class:"detail-item"},ZL=pt(()=>s("h3",null,[s("i",{class:"fas fa-comments"}),J(" Comments")],-1)),e4={class:"detail-item"},t4=pt(()=>s("h3",null,[s("i",{class:"fas fa-info-circle"}),J(" Reporting Details")],-1)),s4=pt(()=>s("strong",null,[s("i",{class:"far fa-calendar-alt"}),J(" Period:")],-1)),n4=pt(()=>s("strong",null,[s("i",{class:"fas fa-user"}),J(" Reported By:")],-1)),o4=pt(()=>s("strong",null,[s("i",{class:"fas fa-check-circle"}),J(" Approval Status:")],-1)),i4={class:"detail-item"},r4=pt(()=>s("h3",null,[s("i",{class:"fas fa-chart-line"}),J(" Longitudinal Data")],-1)),a4=pt(()=>s("strong",null,"Baseline PAD 2023:",-1)),l4=pt(()=>s("strong",null,"Baseline 2024:",-1)),c4=pt(()=>s("strong",null,"Target Year One 2024:",-1)),d4=pt(()=>s("strong",null,"Target Year Two 2025:",-1)),u4=pt(()=>s("strong",null,"Target Year Three 2026:",-1)),h4=pt(()=>s("strong",null,"Target Year Four 2027:",-1)),f4=pt(()=>s("strong",null,"Target Year Five 2028:",-1)),p4=pt(()=>s("strong",null,"Target Year Six 2029:",-1)),m4=pt(()=>s("strong",null,"Target Year Seven 2030:",-1));function g4(e,t,o,n,i,l){return P(),N("div",uL,[s("header",hL,[s("h1",fL,[pL,J(" "+D(n.SelectedReport)+" for "+D(n.SelectedEntity),1)]),s("nav",mL,[s("button",{onClick:t[0]||(t[0]=(...a)=>n.exportCSV&&n.exportCSV(...a)),class:"nav-button","aria-label":"Export CSV"},[gL,J(" Export ")]),s("button",{onClick:t[1]||(t[1]=(...a)=>n.printRecords&&n.printRecords(...a)),class:"nav-button","aria-label":"Print Records"},[_L,J(" Print ")])])]),s("section",vL,[s("div",yL,[bL,oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.searchQuery=a),class:"search-input",placeholder:"Search indicators...","aria-label":"Search indicators"},null,512),[[ve,n.searchQuery]]),s("button",{onClick:t[3]||(t[3]=(...a)=>n.clearSearch&&n.clearSearch(...a)),class:"clear-search","aria-label":"Clear search"},EL)]),s("div",IL,[oe(s("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.selectedCategory=a),class:"category-select","aria-label":"Filter by category"},[xL,(P(!0),N(Te,null,Fe(n.uniqueCategories,a=>(P(),N("option",{key:a,value:a},D(a),9,CL))),128))],512),[[it,n.selectedCategory]]),s("div",SL,[s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=a=>n.showPositive=a)},null,512),[[us,n.showPositive]]),J(),RL,J(" Positive")]),s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=a=>n.showNeutral=a)},null,512),[[us,n.showNeutral]]),J(),$L,J(" Neutral")]),s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=a=>n.showNegative=a)},null,512),[[us,n.showNegative]]),J(),kL,J(" Negative")])])])]),s("main",{class:nt(["content-area",{"grid-view":n.isGridView,"list-view":!n.isGridView}])},[n.filteredIndicators.length?(P(!0),N(Te,{key:0},Fe(n.filteredIndicators,a=>(P(),N("article",{key:a.id,class:"indicator-item shadow-lg",onClick:r=>n.openDetailView(a.id)},[s("div",AL,[s("h2",DL,[s("i",{class:nt(n.getCategoryIcon(a.IndicatorSecondaryCategory))},null,2),J(" "+D(a.Indicator),1)]),s("p",PL,D(a.IndicatorSecondaryCategory),1),s("div",{class:nt(["indicator-response text-danger",n.getResponseClass(a.Response)])},[s("i",{class:nt(n.getResponseIcon(a.Response))},null,2),J(" "+D(a.Response),1)],2),s("p",OL,[FL,J(" "+D(a.ReportingPeriod),1)])])],8,TL))),128)):(P(),N("p",LL,"No indicators match your current search and filters."))],2),s("footer",ML,[s("button",{onClick:t[8]||(t[8]=(...a)=>n.prevPage&&n.prevPage(...a)),disabled:n.currentPage===1,class:"page-button"},[BL,J(" Previous ")],8,NL),s("span",jL,"Page "+D(n.currentPage)+" of "+D(n.totalPages),1),s("button",{onClick:t[9]||(t[9]=(...a)=>n.nextPage&&n.nextPage(...a)),disabled:n.currentPage===n.totalPages,class:"page-button"},[J(" Next "),UL],8,VL)]),n.selectedIndicator?(P(),N("div",{key:0,class:"modal-overlay",onClick:t[12]||(t[12]=(...a)=>n.closeDetailView&&n.closeDetailView(...a))},[s("div",{class:"modal-content",onClick:t[11]||(t[11]=Xe(()=>{},["stop"]))},[s("div",YL,[s("h2",qL,[s("i",{class:nt(n.getCategoryIcon(n.selectedIndicator.IndicatorSecondaryCategory))},null,2),J(" "+D(n.selectedIndicator.Indicator),1)]),s("button",{onClick:t[10]||(t[10]=(...a)=>n.closeDetailView&&n.closeDetailView(...a)),class:"close-modal","aria-label":"Close details"},KL)]),s("div",QL,[s("div",zL,[WL,s("p",null,D(n.selectedIndicator.AnsweredQuestion),1)]),s("div",GL,[JL,s("p",{class:nt(["response",n.getResponseClass(n.selectedIndicator.Response)])},[s("i",{class:nt(n.getResponseIcon(n.selectedIndicator.Response))},null,2),J(" "+D(n.selectedIndicator.Response),1)],2)]),s("div",XL,[ZL,s("p",null,D(n.selectedIndicator.Comments||"No comments provided."),1)]),s("div",e4,[t4,s("p",null,[s4,J(" "+D(n.selectedIndicator.ReportingPeriod),1)]),s("p",null,[n4,J(" "+D(n.selectedIndicator.ReportedBy),1)]),s("p",null,[o4,J(" "+D(n.selectedIndicator.ApprovalStatus),1)])]),s("div",i4,[r4,s("p",null,[a4,J(" "+D(n.selectedIndicator.BaselinePAD2023),1)]),s("p",null,[l4,J(" "+D(n.selectedIndicator.Baseline2024),1)]),s("p",null,[c4,J(" "+D(n.selectedIndicator.TargetYearOne2024),1)]),s("p",null,[d4,J(" "+D(n.selectedIndicator.TargetYearTwo2025),1)]),s("p",null,[u4,J(" "+D(n.selectedIndicator.TargetYearThree2026),1)]),s("p",null,[h4,J(" "+D(n.selectedIndicator.TargetYearFour2027),1)]),s("p",null,[f4,J(" "+D(n.selectedIndicator.TargetYearFive2028),1)]),s("p",null,[p4,J(" "+D(n.selectedIndicator.TargetYearSix2029),1)]),s("p",null,[m4,J(" "+D(n.selectedIndicator.TargetYearSeven2030),1)])])])])])):lt("",!0)])}const _4=Ue(dL,[["render",g4],["__scopeId","data-v-651d80f6"]]),v4={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null}},methods:{async fetchEntities(){se.value=!0;try{const e=await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework'`}),t=sessionStorage.getItem("AuthData");if(!t)throw new Error("No authentication data found");const o=JSON.parse(t),n=o.AccountRole,i=o.EntityID;let l=e;n!=="admin"&&(l=e.filter(r=>r.EntityID===i));const a=l.reduce((r,d)=>(r.find(u=>u.Entity===d.Entity)||r.push(d),r),[]);this.entities=a,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectEntity(e){this.$router.push({name:"IQuarterlyReportsYear",query:{entityid:e}})}},created(){this.fetchEntities()}},y4=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed Project Indicator Quarterly Reports")])])],-1),b4={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},w4={class:"card card-flush h-lg-100"},E4=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the entity whose closed quarterly reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only entities with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),I4={class:"card-body pt-0"},x4={class:"m-0"},C4={class:"d-flex flex-stack"},S4=s("img",{src:tn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),R4={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},$4={class:"me-5"},k4={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},T4={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},A4={class:"d-flex align-items-center"},D4={class:"m-0"},P4={class:"badge badge-light-success fs-base"},O4=["onClick"],F4=s("div",{class:"separator separator-dashed my-3"},null,-1);function L4(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),y4,s("div",b4,[s("div",w4,[E4,s("div",I4,[s("div",x4,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",C4,[S4,s("div",R4,[s("div",$4,[s("a",k4,D(r.Entity),1),s("span",T4,D(r.EntityProjectDetails),1)]),s("div",A4,[s("div",D4,[s("span",P4,[s("button",{onClick:d=>l.selectEntity(r.EntityID),class:"btn btn-sm btn-light"}," Select Entity ",8,O4)])])])])]),F4]))),128))])])])])])}const M4=Ue(v4,[["render",L4]]),N4={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null,year:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}"`})).reduce((o,n)=>(o.find(i=>i.Year===n.Year)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectYear(e){this.$router.push({name:"IQuarterlyReportsReport",query:{entityid:this.$route.query.entityid,year:e}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},B4=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed Project Indicator Quarterly Reports")])])],-1),j4={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},V4={class:"card card-flush h-lg-100"},U4=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the quarterly reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only quarterly reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),Y4={class:"card-body pt-0"},q4={class:"m-0"},H4={class:"d-flex flex-stack"},K4=s("img",{src:sn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),Q4={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},z4={class:"me-5"},W4={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},G4=s("span",{class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},"WB MPA Project Year",-1),J4={class:"d-flex align-items-center"},X4={class:"m-0"},Z4={class:"badge badge-light-success fs-base"},eM=["onClick"],tM=s("div",{class:"separator separator-dashed my-3"},null,-1);function sM(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),B4,s("div",j4,[s("div",V4,[U4,s("div",Y4,[s("div",q4,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",H4,[K4,s("div",Q4,[s("div",z4,[s("a",W4,D(r.Year),1),G4]),s("div",J4,[s("div",X4,[s("span",Z4,[s("button",{onClick:d=>l.selectYear(r.Year),class:"btn btn-sm btn-light"}," Select Year ",8,eM)])])])])]),tM]))),128))])])])])])}const nM=Ue(N4,[["render",sM]]),oM={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`Entity != "RRF" && IndicatorPrimaryCategory='Country Results Framework' && EntityID = "${this.$route.query.entityid}" && ReportingPeriod = "Quarterly Report" && Year = "${this.$route.query.year}"`,sort:"ReportName"})).reduce((o,n)=>(o.find(i=>i.ReportingID===n.ReportingID)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectReport(e){this.$router.push({name:"IQuarterlyReportsView",query:{entityid:this.$route.query.entityid,reportingid:e,year:this.$route.query.year}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},iM=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed Project Indicator Quarterly Reports")])])],-1),rM={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},aM={class:"card card-flush h-lg-100"},lM=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the specific project report to view </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),cM={class:"card-body pt-0"},dM={class:"m-0"},uM={class:"d-flex flex-stack"},hM=s("img",{src:nn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),fM={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},pM={class:"me-5"},mM={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},gM={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},_M={class:"d-flex align-items-center"},vM={class:"m-0"},yM={class:"badge badge-light-success fs-base"},bM=["onClick"],wM=s("div",{class:"separator separator-dashed my-3"},null,-1);function EM(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),iM,s("div",rM,[s("div",aM,[lM,s("div",cM,[s("div",dM,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",uM,[hM,s("div",fM,[s("div",pM,[s("a",mM,D(r.ReportName),1),s("span",gM,"Type of report : "+D(r.Type),1)]),s("div",_M,[s("div",vM,[s("span",yM,[s("button",{onClick:d=>l.selectReport(r.ReportingID),class:"btn btn-sm btn-light"}," Select Report ",8,bM)])])])])]),wM]))),128))])])])])])}const IM=Ue(oM,[["render",EM]]),xM={name:"EnhancedInnovativeReportView",setup(){const e=ys(),t=j([]),o=j(null),n=j(""),i=j(""),l=j(!0),a=j(!0),r=j(!0),d=j(null),u=j(null),h=j(!0),p=j(null),g=j(!0),_=j(1),x=20,S=j(!1),Y=j(null),U=j(null),V=j(null),Q=async()=>{var ne;h.value=!0,p.value=null;const{entityid:k,reportingid:T}=e.query;if(!k||!T){p.value="EntityID or ReportingID is missing from the query parameters.",h.value=!1;return}const B=`EntityID = "${k}" && ReportingID = "${T}"`;try{const X=await me.collection("mpa_all_both_active_inactive_indicator_reports").getList(1,1e3,{filter:B,sort:"id"});if(!X||!((ne=X.items)!=null&&ne.length))throw new Error("No items returned from the API");t.value=X.items.map(E=>({id:E.id,Indicator:E.Indicator,IndicatorSecondaryCategory:E.IndicatorSecondaryCategory,Response:E.Response,ReportingPeriod:E.ReportingPeriod,AnsweredQuestion:E.AnsweredQuestion,Comments:E.Comments,ReportedBy:E.ReportedBy,ApprovalStatus:E.ApprovalStatus,ResponseType:E.ResponseType,BaselinePAD2023:E.BaselinePAD2023,Baseline2024:E.Baseline2024,TargetYearOne2024:E.TargetYearOne2024,TargetYearTwo2025:E.TargetYearTwo2025,TargetYearThree2026:E.TargetYearThree2026,TargetYearFour2027:E.TargetYearFour2027,TargetYearFive2028:E.TargetYearFive2028,TargetYearSix2029:E.TargetYearSix2029,TargetYearSeven2030:E.TargetYearSeven2030})),d.value=X.items[0].Entity,u.value=X.items[0].ReportName}catch(X){console.error("Error fetching data:",X),p.value="An error occurred while fetching data. Please try again."}finally{h.value=!1}},re=ot(()=>t.value.filter(k=>{const T=n.value===""||k.Indicator.toLowerCase().includes(n.value.toLowerCase())||k.IndicatorSecondaryCategory.toLowerCase().includes(n.value.toLowerCase()),B=i.value===""||k.IndicatorSecondaryCategory===i.value,ne=w(k.Response),X=l.value&&ne==="positive"||a.value&&ne==="neutral"||r.value&&ne==="negative";return T&&B&&X})),Re=ot(()=>{const k=(_.value-1)*x;return re.value.slice(k,k+x)}),O=ot(()=>Math.ceil(re.value.length/x)),H=ot(()=>[...new Set(t.value.map(k=>k.IndicatorSecondaryCategory))]),w=k=>{if(typeof k=="string"){if(k=k.toLowerCase(),["yes","achieved","completed","implemented"].some(T=>k.includes(T)))return"positive";if(["no","not achieved","not completed","not implemented"].some(T=>k.includes(T)))return"negative"}else if(typeof k=="number"){if(k===100)return"positive";if(k===0)return"negative";if(k>50)return"positive";if(k<50)return"negative"}return"neutral"},I=k=>`response-${w(k)}`,R=k=>{switch(w(k)){case"positive":return"fas fa-check-circle";case"negative":return"fas fa-times-circle";default:return"fas fa-exclamation-circle"}},A=k=>typeof k=="number"?`${k}%`:k,m=k=>({Economic:"fas fa-dollar-sign",Social:"fas fa-users",Environmental:"fas fa-leaf",Governance:"fas fa-balance-scale"})[k]||"fas fa-folder",b=()=>{n.value=""},C=()=>{g.value=!g.value},F=k=>{o.value=t.value.find(T=>T.id===k)},q=()=>{o.value=null},z=()=>{const k=re.value.map(({id:ne,...X})=>X),T=po.unparse(k),B=new Blob([T],{type:"text/csv;charset=utf-8;"});ai.saveAs(B,`${u.value}_${d.value}_export.csv`)},ie=()=>{const k=re.value.map(B=>`
        <div style="page-break-after: always;">
          <h2>${B.Indicator}</h2>
          <p><strong>Category:</strong> ${B.IndicatorSecondaryCategory}</p>
          <p><strong>Response:</strong> ${A(B.Response)}</p>
          <p><strong>Reporting Period:</strong> ${B.ReportingPeriod}</p>
        </div>
      `).join(""),T=window.open("","_blank");T.document.write(`
        <html>
          <head>
            <title>${u.value} for ${d.value}</title>
            <style>
              body { font-family: Arial, sans-serif; }
              h2 { color: #2196F3; }
            </style>
          </head>
          <body>
            <h1>${u.value} for ${d.value}</h1>
            ${k}
          </body>
        </html>
      `),T.document.close(),T.print()},G=()=>{_.value>1&&_.value--},de=()=>{_.value<O.value&&_.value++},xe=()=>{S.value=!0,hs(()=>{Pe()})},pe=()=>{S.value=!1},Pe=()=>{K(),Be(),Me()},K=()=>{const k=Y.value.getContext("2d"),T={};t.value.forEach(B=>{T[B.IndicatorSecondaryCategory]||(T[B.IndicatorSecondaryCategory]={positive:0,neutral:0,negative:0});const ne=w(B.Response);T[B.IndicatorSecondaryCategory][ne]++}),new Chart(k,{type:"bar",data:{labels:Object.keys(T),datasets:[{label:"Positive",data:Object.values(T).map(B=>B.positive),backgroundColor:"rgba(75, 192, 192, 0.6)"},{label:"Neutral",data:Object.values(T).map(B=>B.neutral),backgroundColor:"rgba(255, 206, 86, 0.6)"},{label:"Negative",data:Object.values(T).map(B=>B.negative),backgroundColor:"rgba(255, 99, 132, 0.6)"}]},options:{responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0,title:{display:!0,text:"Number of Indicators"}}},plugins:{title:{display:!0,text:"Indicator Responses by Category"}}}})},Be=()=>{const k=U.value.getContext("2d"),T=t.value.filter(X=>typeof X.Response=="number").map(X=>X.Response),B=Array.from({length:10},(X,E)=>E*10),ne=B.map(X=>({bin:X,count:T.filter(E=>E>=X&&E<X+10).length}));new Chart(k,{type:"bar",data:{labels:B.map(X=>`${X}-${X+9}%`),datasets:[{label:"Score Distribution",data:ne.map(X=>X.count),backgroundColor:"rgba(54, 162, 235, 0.6)"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency"}},x:{title:{display:!0,text:"Score Range"}}},plugins:{title:{display:!0,text:"Distribution of Numeric Scores"}}}})},Me=()=>{const k=V.value.getContext("2d"),T=["BaselinePAD2023","Baseline2024","TargetYearOne2024","TargetYearTwo2025","TargetYearThree2026","TargetYearFour2027","TargetYearFive2028","TargetYearSix2029","TargetYearSeven2030"],B=t.value.filter(ne=>T.some(X=>ne[X]!==null&&ne[X]!==void 0)).map(ne=>({label:ne.Indicator,data:T.map(X=>ne[X]),fill:!1,borderColor:Z()}));new Chart(k,{type:"line",data:{labels:T.map(ne=>ne.replace("TargetYear","Target ")),datasets:B},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Value"}},x:{title:{display:!0,text:"Year"}}},plugins:{title:{display:!0,text:"Indicator Trends Over Time"},legend:{display:!1},tooltip:{callbacks:{title:ne=>`${ne[0].dataset.label} - ${ne[0].label}`}}}}})},Z=()=>{const k="0123456789ABCDEF";let T="#";for(let B=0;B<6;B++)T+=k[Math.floor(Math.random()*16)];return T};return Rt([n,i,l,a,r],()=>{_.value=1}),Rt(()=>[e.query.entityid,e.query.reportingid],Q),dt(()=>{if(!e.query.entityid||!e.query.reportingid){p.value="Missing required query parameters.";return}Q()}),{indicators:t,selectedIndicator:o,searchQuery:n,selectedCategory:i,showPositive:l,showNeutral:a,showNegative:r,SelectedEntity:d,SelectedReport:u,isLoading:h,error:p,isGridView:g,currentPage:_,totalPages:O,filteredIndicators:Re,uniqueCategories:H,clearSearch:b,toggleView:C,openDetailView:F,closeDetailView:q,exportCSV:z,printRecords:ie,getResponseClass:I,getResponseIcon:R,formatResponse:A,getCategoryIcon:m,prevPage:G,nextPage:de,openAnalyticsModal:xe,closeAnalyticsModal:pe,showAnalyticsModal:S,categoryChart:Y,scoresChart:U,advancedChart:V}}},mt=e=>(Zt("data-v-42bc6a8b"),e=e(),es(),e),CM={class:"innovative-container"},SM={class:"main-header alert alert-info"},RM={class:"app-title"},$M=mt(()=>s("i",{class:"fas fa-chart-line"},null,-1)),kM={class:"main-nav"},TM=mt(()=>s("i",{class:"fas fa-file-export"},null,-1)),AM=mt(()=>s("i",{class:"fas fa-print"},null,-1)),DM={class:"search-filter-section alert alert-primary"},PM={class:"search-container"},OM=mt(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),FM=mt(()=>s("i",{class:"fas fa-times"},null,-1)),LM=[FM],MM={class:"filter-container"},NM=mt(()=>s("option",{value:""},"All Categories",-1)),BM=["value"],jM={class:"response-filter"},VM=mt(()=>s("i",{class:"fas fa-check"},null,-1)),UM=mt(()=>s("i",{class:"fas fa-minus"},null,-1)),YM=mt(()=>s("i",{class:"fas fa-times"},null,-1)),qM=["onClick"],HM={class:"indicator-content"},KM={class:"indicator-title"},QM={class:"indicator-category text-info"},zM={class:"indicator-period text-primary"},WM=mt(()=>s("i",{class:"far fa-calendar-alt"},null,-1)),GM={key:1,class:"no-results"},JM={class:"pagination-controls"},XM=["disabled"],ZM=mt(()=>s("i",{class:"fas fa-chevron-left"},null,-1)),eN={class:"page-info"},tN=["disabled"],sN=mt(()=>s("i",{class:"fas fa-chevron-right"},null,-1)),nN={class:"modal-header"},oN={class:"modal-title"},iN=mt(()=>s("i",{class:"fas fa-times"},null,-1)),rN=[iN],aN={class:"detail-grid"},lN={class:"detail-item"},cN=mt(()=>s("h3",null,[s("i",{class:"fas fa-question-circle"}),J(" Question")],-1)),dN={class:"detail-item"},uN=mt(()=>s("h3",null,[s("i",{class:"fas fa-comment-dots"}),J(" Response")],-1)),hN={class:"detail-item"},fN=mt(()=>s("h3",null,[s("i",{class:"fas fa-comments"}),J(" Comments")],-1)),pN={class:"detail-item"},mN=mt(()=>s("h3",null,[s("i",{class:"fas fa-info-circle"}),J(" Reporting Details")],-1)),gN=mt(()=>s("strong",null,[s("i",{class:"far fa-calendar-alt"}),J(" Period:")],-1)),_N=mt(()=>s("strong",null,[s("i",{class:"fas fa-user"}),J(" Reported By:")],-1)),vN=mt(()=>s("strong",null,[s("i",{class:"fas fa-check-circle"}),J(" Approval Status:")],-1)),yN={class:"detail-item"},bN=mt(()=>s("h3",null,[s("i",{class:"fas fa-chart-line"}),J(" Longitudinal Data")],-1)),wN=mt(()=>s("strong",null,"Baseline PAD 2023:",-1)),EN=mt(()=>s("strong",null,"Baseline 2024:",-1)),IN=mt(()=>s("strong",null,"Target Year One 2024:",-1)),xN=mt(()=>s("strong",null,"Target Year Two 2025:",-1)),CN=mt(()=>s("strong",null,"Target Year Three 2026:",-1)),SN=mt(()=>s("strong",null,"Target Year Four 2027:",-1)),RN=mt(()=>s("strong",null,"Target Year Five 2028:",-1)),$N=mt(()=>s("strong",null,"Target Year Six 2029:",-1)),kN=mt(()=>s("strong",null,"Target Year Seven 2030:",-1));function TN(e,t,o,n,i,l){return P(),N("div",CM,[s("header",SM,[s("h1",RM,[$M,J(" "+D(n.SelectedReport)+" for "+D(n.SelectedEntity),1)]),s("nav",kM,[s("button",{onClick:t[0]||(t[0]=(...a)=>n.exportCSV&&n.exportCSV(...a)),class:"nav-button","aria-label":"Export CSV"},[TM,J(" Export ")]),s("button",{onClick:t[1]||(t[1]=(...a)=>n.printRecords&&n.printRecords(...a)),class:"nav-button","aria-label":"Print Records"},[AM,J(" Print ")])])]),s("section",DM,[s("div",PM,[OM,oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.searchQuery=a),class:"search-input",placeholder:"Search indicators...","aria-label":"Search indicators"},null,512),[[ve,n.searchQuery]]),s("button",{onClick:t[3]||(t[3]=(...a)=>n.clearSearch&&n.clearSearch(...a)),class:"clear-search","aria-label":"Clear search"},LM)]),s("div",MM,[oe(s("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.selectedCategory=a),class:"category-select","aria-label":"Filter by category"},[NM,(P(!0),N(Te,null,Fe(n.uniqueCategories,a=>(P(),N("option",{key:a,value:a},D(a),9,BM))),128))],512),[[it,n.selectedCategory]]),s("div",jM,[s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=a=>n.showPositive=a)},null,512),[[us,n.showPositive]]),J(),VM,J(" Positive")]),s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=a=>n.showNeutral=a)},null,512),[[us,n.showNeutral]]),J(),UM,J(" Neutral")]),s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=a=>n.showNegative=a)},null,512),[[us,n.showNegative]]),J(),YM,J(" Negative")])])])]),s("main",{class:nt(["content-area",{"grid-view":n.isGridView,"list-view":!n.isGridView}])},[n.filteredIndicators.length?(P(!0),N(Te,{key:0},Fe(n.filteredIndicators,a=>(P(),N("article",{key:a.id,class:"indicator-item shadow-lg",onClick:r=>n.openDetailView(a.id)},[s("div",HM,[s("h2",KM,[s("i",{class:nt(n.getCategoryIcon(a.IndicatorSecondaryCategory))},null,2),J(" "+D(a.Indicator),1)]),s("p",QM,D(a.IndicatorSecondaryCategory),1),s("div",{class:nt(["indicator-response text-danger",n.getResponseClass(a.Response)])},[s("i",{class:nt(n.getResponseIcon(a.Response))},null,2),J(" "+D(a.Response),1)],2),s("p",zM,[WM,J(" "+D(a.ReportingPeriod),1)])])],8,qM))),128)):(P(),N("p",GM,"No indicators match your current search and filters."))],2),s("footer",JM,[s("button",{onClick:t[8]||(t[8]=(...a)=>n.prevPage&&n.prevPage(...a)),disabled:n.currentPage===1,class:"page-button"},[ZM,J(" Previous ")],8,XM),s("span",eN,"Page "+D(n.currentPage)+" of "+D(n.totalPages),1),s("button",{onClick:t[9]||(t[9]=(...a)=>n.nextPage&&n.nextPage(...a)),disabled:n.currentPage===n.totalPages,class:"page-button"},[J(" Next "),sN],8,tN)]),n.selectedIndicator?(P(),N("div",{key:0,class:"modal-overlay",onClick:t[12]||(t[12]=(...a)=>n.closeDetailView&&n.closeDetailView(...a))},[s("div",{class:"modal-content",onClick:t[11]||(t[11]=Xe(()=>{},["stop"]))},[s("div",nN,[s("h2",oN,[s("i",{class:nt(n.getCategoryIcon(n.selectedIndicator.IndicatorSecondaryCategory))},null,2),J(" "+D(n.selectedIndicator.Indicator),1)]),s("button",{onClick:t[10]||(t[10]=(...a)=>n.closeDetailView&&n.closeDetailView(...a)),class:"close-modal","aria-label":"Close details"},rN)]),s("div",aN,[s("div",lN,[cN,s("p",null,D(n.selectedIndicator.AnsweredQuestion),1)]),s("div",dN,[uN,s("p",{class:nt(["response",n.getResponseClass(n.selectedIndicator.Response)])},[s("i",{class:nt(n.getResponseIcon(n.selectedIndicator.Response))},null,2),J(" "+D(n.selectedIndicator.Response),1)],2)]),s("div",hN,[fN,s("p",null,D(n.selectedIndicator.Comments||"No comments provided."),1)]),s("div",pN,[mN,s("p",null,[gN,J(" "+D(n.selectedIndicator.ReportingPeriod),1)]),s("p",null,[_N,J(" "+D(n.selectedIndicator.ReportedBy),1)]),s("p",null,[vN,J(" "+D(n.selectedIndicator.ApprovalStatus),1)])]),s("div",yN,[bN,s("p",null,[wN,J(" "+D(n.selectedIndicator.BaselinePAD2023),1)]),s("p",null,[EN,J(" "+D(n.selectedIndicator.Baseline2024),1)]),s("p",null,[IN,J(" "+D(n.selectedIndicator.TargetYearOne2024),1)]),s("p",null,[xN,J(" "+D(n.selectedIndicator.TargetYearTwo2025),1)]),s("p",null,[CN,J(" "+D(n.selectedIndicator.TargetYearThree2026),1)]),s("p",null,[SN,J(" "+D(n.selectedIndicator.TargetYearFour2027),1)]),s("p",null,[RN,J(" "+D(n.selectedIndicator.TargetYearFive2028),1)]),s("p",null,[$N,J(" "+D(n.selectedIndicator.TargetYearSix2029),1)]),s("p",null,[kN,J(" "+D(n.selectedIndicator.TargetYearSeven2030),1)])])])])])):lt("",!0)])}const AN=Ue(xM,[["render",TN],["__scopeId","data-v-42bc6a8b"]]),DN={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null}},methods:{async fetchEntities(){se.value=!0;try{const e=await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:'IndicatorPrimaryCategory = "Regional Results Framework"'}),t=sessionStorage.getItem("AuthData");if(!t)throw new Error("No authentication data found");const o=JSON.parse(t),n=o.AccountRole,i=o.EntityID;let l=e;n!=="admin"&&(l=e.filter(r=>r.EntityID===i));const a=l.reduce((r,d)=>(r.find(u=>u.Entity===d.Entity)||r.push(d),r),[]);this.entities=a,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectEntity(e){this.$router.push({name:"IRRFReportsYear",query:{entityid:e}})}},created(){this.fetchEntities()}},PN=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed Project Indicator RRF Reports")])])],-1),ON={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},FN={class:"card card-flush h-lg-100"},LN=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the entity whose RRF reports are required </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only entities with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),MN={class:"card-body pt-0"},NN={class:"m-0"},BN={class:"d-flex flex-stack"},jN=s("img",{src:tn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),VN={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},UN={class:"me-5"},YN={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},qN={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},HN={class:"d-flex align-items-center"},KN={class:"m-0"},QN={class:"badge badge-light-success fs-base"},zN=["onClick"],WN=s("div",{class:"separator separator-dashed my-3"},null,-1);function GN(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),PN,s("div",ON,[s("div",FN,[LN,s("div",MN,[s("div",NN,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",BN,[jN,s("div",VN,[s("div",UN,[s("a",YN,D(r.Entity),1),s("span",qN,D(r.EntityProjectDetails),1)]),s("div",HN,[s("div",KN,[s("span",QN,[s("button",{onClick:d=>l.selectEntity(r.EntityID),class:"btn btn-sm btn-light"}," Select Entity ",8,zN)])])])])]),WN]))),128))])])])])])}const JN=Ue(DN,[["render",GN]]),XN={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null,year:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`IndicatorPrimaryCategory = "Regional Results Framework" && EntityID = "${this.$route.query.entityid}"`})).reduce((o,n)=>(o.find(i=>i.Year===n.Year)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectYear(e){this.$router.push({name:"IRRFReportsReport",query:{entityid:this.$route.query.entityid,year:e}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},ZN=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed project report years (RRF)")])])],-1),e8={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},t8={class:"card card-flush h-lg-100"},s8=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the project year to attach closed RRF reports to </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project years with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),n8={class:"card-body pt-0"},o8={class:"m-0"},i8={class:"d-flex flex-stack"},r8=s("img",{src:sn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),a8={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},l8={class:"me-5"},c8={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},d8=s("span",{class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},"WB MPA Project Year",-1),u8={class:"d-flex align-items-center"},h8={class:"m-0"},f8={class:"badge badge-light-success fs-base"},p8=["onClick"],m8=s("div",{class:"separator separator-dashed my-3"},null,-1);function g8(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),ZN,s("div",e8,[s("div",t8,[s8,s("div",n8,[s("div",o8,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",i8,[r8,s("div",a8,[s("div",l8,[s("a",c8,D(r.Year),1),d8]),s("div",u8,[s("div",h8,[s("span",f8,[s("button",{onClick:d=>l.selectYear(r.Year),class:"btn btn-sm btn-light"}," Select Year ",8,p8)])])])])]),m8]))),128))])])])])])}const _8=Ue(XN,[["render",g8]]),v8={name:"EntitySelection",components:{FullScreenLoader:ze},data(){return{entities:[],selectedEntity:null,entityid:null}},methods:{async fetchEntities(){se.value=!0;try{const t=(await me.collection("mpa_all_both_active_inactive_indicator_reports").getFullList({filter:`IndicatorPrimaryCategory = "Regional Results Framework" && EntityID = "${this.$route.query.entityid}" && Year = "${this.$route.query.year}"`,sort:"ReportName"})).reduce((o,n)=>(o.find(i=>i.ReportingID===n.ReportingID)||o.push(n),o),[]);this.entities=t,console.log(this.entities),this.entities.length===0&&te.fire({title:"No entities found",text:"No entities were found. Entities need to report indicators to appear here.",icon:"warning",confirmButtonText:"OK"})}catch(e){console.error("Error fetching entities:",e.message),te.fire("Error","Error fetching entities: "+e.message,"error")}finally{se.value=!1}},selectReport(e){this.$router.push({name:"IRRFReportsView",query:{entityid:this.$route.query.entityid,reportingid:e,year:this.$route.query.year}})}},created(){this.fetchEntities(),this.entityid=this.$route.query.entityid}},y8=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Closed Project Indicator RRF Reports")])])],-1),b8={class:"col-xxl-12 col-md-12 mb-5 mb-xl-0 shadow-lg"},w8={class:"card card-flush h-lg-100"},E8=We('<div class="card-header pt-7 mb-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-800">Select the specific project closed report to view (RRF) </span><span class="text-gray-500 mt-1 fw-semibold fs-6">Only project reports with reported indicators are shown</span></h3><div class="card-toolbar"></div></div>',1),I8={class:"card-body pt-0"},x8={class:"m-0"},C8={class:"d-flex flex-stack"},S8=s("img",{src:nn,class:"me-4 w-s25px shadow-lg",style:{"border-radius":"43px",height:"150px"},alt:""},null,-1),R8={class:"d-flex flex-stack flex-row-fluid d-grid gap-2"},$8={class:"me-5"},k8={href:"#",class:"text-gray-800 fw-bold text-hover-primary fs-3"},T8={class:"text-gray-500 fw-semibold fs-7 d-block text-start ps-0"},A8={class:"d-flex align-items-center"},D8={class:"m-0"},P8={class:"badge badge-light-success fs-base"},O8=["onClick"],F8=s("div",{class:"separator separator-dashed my-3"},null,-1);function L8(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[ke(a),y8,s("div",b8,[s("div",w8,[E8,s("div",I8,[s("div",x8,[(P(!0),N(Te,null,Fe(i.entities,r=>(P(),N("div",{key:r.EntityID,class:"mb-4"},[s("div",C8,[S8,s("div",R8,[s("div",$8,[s("a",k8,D(r.ReportName),1),s("span",T8,"Type of report : "+D(r.Type),1)]),s("div",A8,[s("div",D8,[s("span",P8,[s("button",{onClick:d=>l.selectReport(r.ReportingID),class:"btn btn-sm btn-light"}," Select Report ",8,O8)])])])])]),F8]))),128))])])])])])}const M8=Ue(v8,[["render",L8]]),N8={name:"EnhancedInnovativeReportView",setup(){const e=ys(),t=j([]),o=j(null),n=j(""),i=j(""),l=j(!0),a=j(!0),r=j(!0),d=j(null),u=j(null),h=j(!0),p=j(null),g=j(!0),_=j(1),x=20,S=j(!1),Y=j(null),U=j(null),V=j(null),Q=async()=>{var ne;h.value=!0,p.value=null;const{entityid:k,reportingid:T}=e.query;if(!k||!T){p.value="EntityID or ReportingID is missing from the query parameters.",h.value=!1;return}const B=`EntityID='${e.query.entityid}' && ReportingID='${e.query.reportingid}' && Year='${e.query.year}' && IndicatorPrimaryCategory='Regional Results Framework'`;try{const X=await me.collection("mpa_all_both_active_inactive_indicator_reports").getList(1,1e3,{filter:B,sort:"id"});if(!X||!((ne=X.items)!=null&&ne.length))throw new Error("No items returned from the API");t.value=X.items.map(E=>({id:E.id,Indicator:E.Indicator,IndicatorSecondaryCategory:E.IndicatorSecondaryCategory,Response:E.Response,ReportingPeriod:E.ReportingPeriod,AnsweredQuestion:E.AnsweredQuestion,Comments:E.Comments,ReportedBy:E.ReportedBy,ApprovalStatus:E.ApprovalStatus,ResponseType:E.ResponseType,BaselinePAD2023:E.BaselinePAD2023,Baseline2024:E.Baseline2024,TargetYearOne2024:E.TargetYearOne2024,TargetYearTwo2025:E.TargetYearTwo2025,TargetYearThree2026:E.TargetYearThree2026,TargetYearFour2027:E.TargetYearFour2027,TargetYearFive2028:E.TargetYearFive2028,TargetYearSix2029:E.TargetYearSix2029,TargetYearSeven2030:E.TargetYearSeven2030})),d.value=X.items[0].Entity,u.value=X.items[0].ReportName}catch(X){console.error("Error fetching data:",X),p.value="An error occurred while fetching data. Please try again."}finally{h.value=!1}},re=ot(()=>t.value.filter(k=>{const T=n.value===""||k.Indicator.toLowerCase().includes(n.value.toLowerCase())||k.IndicatorSecondaryCategory.toLowerCase().includes(n.value.toLowerCase()),B=i.value===""||k.IndicatorSecondaryCategory===i.value,ne=w(k.Response),X=l.value&&ne==="positive"||a.value&&ne==="neutral"||r.value&&ne==="negative";return T&&B&&X})),Re=ot(()=>{const k=(_.value-1)*x;return re.value.slice(k,k+x)}),O=ot(()=>Math.ceil(re.value.length/x)),H=ot(()=>[...new Set(t.value.map(k=>k.IndicatorSecondaryCategory))]),w=k=>{if(typeof k=="string"){if(k=k.toLowerCase(),["yes","achieved","completed","implemented"].some(T=>k.includes(T)))return"positive";if(["no","not achieved","not completed","not implemented"].some(T=>k.includes(T)))return"negative"}else if(typeof k=="number"){if(k===100)return"positive";if(k===0)return"negative";if(k>50)return"positive";if(k<50)return"negative"}return"neutral"},I=k=>`response-${w(k)}`,R=k=>{switch(w(k)){case"positive":return"fas fa-check-circle";case"negative":return"fas fa-times-circle";default:return"fas fa-exclamation-circle"}},A=k=>typeof k=="number"?`${k}%`:k,m=k=>({Economic:"fas fa-dollar-sign",Social:"fas fa-users",Environmental:"fas fa-leaf",Governance:"fas fa-balance-scale"})[k]||"fas fa-folder",b=()=>{n.value=""},C=()=>{g.value=!g.value},F=k=>{o.value=t.value.find(T=>T.id===k)},q=()=>{o.value=null},z=()=>{const k=re.value.map(({id:ne,...X})=>X),T=po.unparse(k),B=new Blob([T],{type:"text/csv;charset=utf-8;"});ai.saveAs(B,`${u.value}_${d.value}_export.csv`)},ie=()=>{const k=re.value.map(B=>`
        <div style="page-break-after: always;">
          <h2>${B.Indicator}</h2>
          <p><strong>Category:</strong> ${B.IndicatorSecondaryCategory}</p>
          <p><strong>Response:</strong> ${A(B.Response)}</p>
          <p><strong>Reporting Period:</strong> ${B.ReportingPeriod}</p>
        </div>
      `).join(""),T=window.open("","_blank");T.document.write(`
        <html>
          <head>
            <title>${u.value} for ${d.value}</title>
            <style>
              body { font-family: Arial, sans-serif; }
              h2 { color: #2196F3; }
            </style>
          </head>
          <body>
            <h1>${u.value} for ${d.value}</h1>
            ${k}
          </body>
        </html>
      `),T.document.close(),T.print()},G=()=>{_.value>1&&_.value--},de=()=>{_.value<O.value&&_.value++},xe=()=>{S.value=!0,hs(()=>{Pe()})},pe=()=>{S.value=!1},Pe=()=>{K(),Be(),Me()},K=()=>{const k=Y.value.getContext("2d"),T={};t.value.forEach(B=>{T[B.IndicatorSecondaryCategory]||(T[B.IndicatorSecondaryCategory]={positive:0,neutral:0,negative:0});const ne=w(B.Response);T[B.IndicatorSecondaryCategory][ne]++}),new Chart(k,{type:"bar",data:{labels:Object.keys(T),datasets:[{label:"Positive",data:Object.values(T).map(B=>B.positive),backgroundColor:"rgba(75, 192, 192, 0.6)"},{label:"Neutral",data:Object.values(T).map(B=>B.neutral),backgroundColor:"rgba(255, 206, 86, 0.6)"},{label:"Negative",data:Object.values(T).map(B=>B.negative),backgroundColor:"rgba(255, 99, 132, 0.6)"}]},options:{responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0,title:{display:!0,text:"Number of Indicators"}}},plugins:{title:{display:!0,text:"Indicator Responses by Category"}}}})},Be=()=>{const k=U.value.getContext("2d"),T=t.value.filter(X=>typeof X.Response=="number").map(X=>X.Response),B=Array.from({length:10},(X,E)=>E*10),ne=B.map(X=>({bin:X,count:T.filter(E=>E>=X&&E<X+10).length}));new Chart(k,{type:"bar",data:{labels:B.map(X=>`${X}-${X+9}%`),datasets:[{label:"Score Distribution",data:ne.map(X=>X.count),backgroundColor:"rgba(54, 162, 235, 0.6)"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency"}},x:{title:{display:!0,text:"Score Range"}}},plugins:{title:{display:!0,text:"Distribution of Numeric Scores"}}}})},Me=()=>{const k=V.value.getContext("2d"),T=["BaselinePAD2023","Baseline2024","TargetYearOne2024","TargetYearTwo2025","TargetYearThree2026","TargetYearFour2027","TargetYearFive2028","TargetYearSix2029","TargetYearSeven2030"],B=t.value.filter(ne=>T.some(X=>ne[X]!==null&&ne[X]!==void 0)).map(ne=>({label:ne.Indicator,data:T.map(X=>ne[X]),fill:!1,borderColor:Z()}));new Chart(k,{type:"line",data:{labels:T.map(ne=>ne.replace("TargetYear","Target ")),datasets:B},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Value"}},x:{title:{display:!0,text:"Year"}}},plugins:{title:{display:!0,text:"Indicator Trends Over Time"},legend:{display:!1},tooltip:{callbacks:{title:ne=>`${ne[0].dataset.label} - ${ne[0].label}`}}}}})},Z=()=>{const k="0123456789ABCDEF";let T="#";for(let B=0;B<6;B++)T+=k[Math.floor(Math.random()*16)];return T};return Rt([n,i,l,a,r],()=>{_.value=1}),Rt(()=>[e.query.entityid,e.query.reportingid],Q),dt(()=>{if(!e.query.entityid||!e.query.reportingid){p.value="Missing required query parameters.";return}Q()}),{indicators:t,selectedIndicator:o,searchQuery:n,selectedCategory:i,showPositive:l,showNeutral:a,showNegative:r,SelectedEntity:d,SelectedReport:u,isLoading:h,error:p,isGridView:g,currentPage:_,totalPages:O,filteredIndicators:Re,uniqueCategories:H,clearSearch:b,toggleView:C,openDetailView:F,closeDetailView:q,exportCSV:z,printRecords:ie,getResponseClass:I,getResponseIcon:R,formatResponse:A,getCategoryIcon:m,prevPage:G,nextPage:de,openAnalyticsModal:xe,closeAnalyticsModal:pe,showAnalyticsModal:S,categoryChart:Y,scoresChart:U,advancedChart:V}}},ut=e=>(Zt("data-v-da589b2d"),e=e(),es(),e),B8={class:"innovative-container"},j8={class:"main-header alert alert-info"},V8={class:"app-title"},U8=ut(()=>s("i",{class:"fas fa-chart-line"},null,-1)),Y8=ut(()=>s("span",{class:"text-danger fw-bolder"}," (RRF) ",-1)),q8={class:"main-nav"},H8=ut(()=>s("i",{class:"fas fa-file-export"},null,-1)),K8=ut(()=>s("i",{class:"fas fa-print"},null,-1)),Q8={class:"search-filter-section alert alert-primary"},z8={class:"search-container"},W8=ut(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),G8=ut(()=>s("i",{class:"fas fa-times"},null,-1)),J8=[G8],X8={class:"filter-container"},Z8=ut(()=>s("option",{value:""},"All Categories",-1)),e6=["value"],t6={class:"response-filter"},s6=ut(()=>s("i",{class:"fas fa-check"},null,-1)),n6=ut(()=>s("i",{class:"fas fa-minus"},null,-1)),o6=ut(()=>s("i",{class:"fas fa-times"},null,-1)),i6=["onClick"],r6={class:"indicator-content"},a6={class:"indicator-title"},l6={class:"indicator-category text-info"},c6={class:"indicator-period text-primary"},d6=ut(()=>s("i",{class:"far fa-calendar-alt"},null,-1)),u6={key:1,class:"no-results"},h6={class:"pagination-controls"},f6=["disabled"],p6=ut(()=>s("i",{class:"fas fa-chevron-left"},null,-1)),m6={class:"page-info"},g6=["disabled"],_6=ut(()=>s("i",{class:"fas fa-chevron-right"},null,-1)),v6={class:"modal-header"},y6={class:"modal-title"},b6=ut(()=>s("i",{class:"fas fa-times"},null,-1)),w6=[b6],E6={class:"detail-grid"},I6={class:"detail-item"},x6=ut(()=>s("h3",null,[s("i",{class:"fas fa-question-circle"}),J(" Question")],-1)),C6={class:"detail-item"},S6=ut(()=>s("h3",null,[s("i",{class:"fas fa-comment-dots"}),J(" Response")],-1)),R6={class:"detail-item"},$6=ut(()=>s("h3",null,[s("i",{class:"fas fa-comments"}),J(" Comments")],-1)),k6={class:"detail-item"},T6=ut(()=>s("h3",null,[s("i",{class:"fas fa-info-circle"}),J(" Reporting Details")],-1)),A6=ut(()=>s("strong",null,[s("i",{class:"far fa-calendar-alt"}),J(" Period:")],-1)),D6=ut(()=>s("strong",null,[s("i",{class:"fas fa-user"}),J(" Reported By:")],-1)),P6=ut(()=>s("strong",null,[s("i",{class:"fas fa-check-circle"}),J(" Approval Status:")],-1)),O6={class:"detail-item"},F6=ut(()=>s("h3",null,[s("i",{class:"fas fa-chart-line"}),J(" Longitudinal Data")],-1)),L6=ut(()=>s("strong",null,"Baseline PAD 2023:",-1)),M6=ut(()=>s("strong",null,"Baseline 2024:",-1)),N6=ut(()=>s("strong",null,"Target Year One 2024:",-1)),B6=ut(()=>s("strong",null,"Target Year Two 2025:",-1)),j6=ut(()=>s("strong",null,"Target Year Three 2026:",-1)),V6={class:"detail-item"},U6=ut(()=>s("h3",null,[s("i",{class:"fas fa-chart-line"}),J(" Longitudinal Data")],-1)),Y6=ut(()=>s("strong",null,"Target Year Four 2027:",-1)),q6=ut(()=>s("strong",null,"Target Year Five 2028:",-1)),H6=ut(()=>s("strong",null,"Target Year Six 2029:",-1)),K6=ut(()=>s("strong",null,"Target Year Seven 2030:",-1));function Q6(e,t,o,n,i,l){return P(),N("div",B8,[s("header",j8,[s("h1",V8,[U8,J(" "+D(n.SelectedReport)+" for "+D(n.SelectedEntity)+" ",1),Y8]),s("nav",q8,[s("button",{onClick:t[0]||(t[0]=(...a)=>n.exportCSV&&n.exportCSV(...a)),class:"nav-button","aria-label":"Export CSV"},[H8,J(" Export ")]),s("button",{onClick:t[1]||(t[1]=(...a)=>n.printRecords&&n.printRecords(...a)),class:"nav-button","aria-label":"Print Records"},[K8,J(" Print ")])])]),s("section",Q8,[s("div",z8,[W8,oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.searchQuery=a),class:"search-input",placeholder:"Search indicators...","aria-label":"Search indicators"},null,512),[[ve,n.searchQuery]]),s("button",{onClick:t[3]||(t[3]=(...a)=>n.clearSearch&&n.clearSearch(...a)),class:"clear-search","aria-label":"Clear search"},J8)]),s("div",X8,[oe(s("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.selectedCategory=a),class:"category-select","aria-label":"Filter by category"},[Z8,(P(!0),N(Te,null,Fe(n.uniqueCategories,a=>(P(),N("option",{key:a,value:a},D(a),9,e6))),128))],512),[[it,n.selectedCategory]]),s("div",t6,[s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=a=>n.showPositive=a)},null,512),[[us,n.showPositive]]),J(),s6,J(" Positive")]),s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=a=>n.showNeutral=a)},null,512),[[us,n.showNeutral]]),J(),n6,J(" Neutral")]),s("label",null,[oe(s("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=a=>n.showNegative=a)},null,512),[[us,n.showNegative]]),J(),o6,J(" Negative")])])])]),s("main",{class:nt(["content-area",{"grid-view":n.isGridView,"list-view":!n.isGridView}])},[n.filteredIndicators.length?(P(!0),N(Te,{key:0},Fe(n.filteredIndicators,a=>(P(),N("article",{key:a.id,class:"indicator-item shadow-lg",onClick:r=>n.openDetailView(a.id)},[s("div",r6,[s("h2",a6,[s("i",{class:nt(n.getCategoryIcon(a.IndicatorSecondaryCategory))},null,2),J(" "+D(a.Indicator),1)]),s("p",l6,D(a.IndicatorSecondaryCategory),1),s("div",{class:nt(["indicator-response text-danger",n.getResponseClass(a.Response)])},[s("i",{class:nt(n.getResponseIcon(a.Response))},null,2),J(" "+D(a.Response),1)],2),s("p",c6,[d6,J(" "+D(a.ReportingPeriod),1)])])],8,i6))),128)):(P(),N("p",u6,"No indicators match your current search and filters."))],2),s("footer",h6,[s("button",{onClick:t[8]||(t[8]=(...a)=>n.prevPage&&n.prevPage(...a)),disabled:n.currentPage===1,class:"page-button"},[p6,J(" Previous ")],8,f6),s("span",m6,"Page "+D(n.currentPage)+" of "+D(n.totalPages),1),s("button",{onClick:t[9]||(t[9]=(...a)=>n.nextPage&&n.nextPage(...a)),disabled:n.currentPage===n.totalPages,class:"page-button"},[J(" Next "),_6],8,g6)]),n.selectedIndicator?(P(),N("div",{key:0,class:"modal-overlay",onClick:t[12]||(t[12]=(...a)=>n.closeDetailView&&n.closeDetailView(...a))},[s("div",{class:"modal-content",onClick:t[11]||(t[11]=Xe(()=>{},["stop"]))},[s("div",v6,[s("h2",y6,[s("i",{class:nt(n.getCategoryIcon(n.selectedIndicator.IndicatorSecondaryCategory))},null,2),J(" "+D(n.selectedIndicator.Indicator),1)]),s("button",{onClick:t[10]||(t[10]=(...a)=>n.closeDetailView&&n.closeDetailView(...a)),class:"close-modal","aria-label":"Close details"},w6)]),s("div",E6,[s("div",I6,[x6,s("p",null,D(n.selectedIndicator.AnsweredQuestion),1)]),s("div",C6,[S6,s("p",{class:nt(["response",n.getResponseClass(n.selectedIndicator.Response)])},[s("i",{class:nt(n.getResponseIcon(n.selectedIndicator.Response))},null,2),J(" "+D(n.selectedIndicator.Response),1)],2)]),s("div",R6,[$6,s("p",null,D(n.selectedIndicator.Comments||"No comments provided."),1)]),s("div",k6,[T6,s("p",null,[A6,J(" "+D(n.selectedIndicator.ReportingPeriod),1)]),s("p",null,[D6,J(" "+D(n.selectedIndicator.ReportedBy),1)]),s("p",null,[P6,J(" "+D(n.selectedIndicator.ApprovalStatus),1)])]),s("div",O6,[F6,s("p",null,[L6,J(" "+D(n.selectedIndicator.BaselinePAD2023),1)]),s("p",null,[M6,J(" "+D(n.selectedIndicator.Baseline2024),1)]),s("p",null,[N6,J(" "+D(n.selectedIndicator.TargetYearOne2024),1)]),s("p",null,[B6,J(" "+D(n.selectedIndicator.TargetYearTwo2025),1)]),s("p",null,[j6,J(" "+D(n.selectedIndicator.TargetYearThree2026),1)])]),s("div",V6,[U6,s("p",null,[Y6,J(" "+D(n.selectedIndicator.TargetYearFour2027),1)]),s("p",null,[q6,J(" "+D(n.selectedIndicator.TargetYearFive2028),1)]),s("p",null,[H6,J(" "+D(n.selectedIndicator.TargetYearSix2029),1)]),s("p",null,[K6,J(" "+D(n.selectedIndicator.TargetYearSeven2030),1)])])])])])):lt("",!0)])}const z6=Ue(N8,[["render",Q6],["__scopeId","data-v-da589b2d"]]),W6={components:{FullScreenLoader:ze},setup(){const e=ts(),t=j([]),o=j([]),n=j(!1),i=j(!1),l=j(!1),a=j(""),r=j({name:"",EntityID:"",UserCode:"",Phone:"",Nationality:"",PhoneNumber:"",Address:"",ParentOrganization:"",Sex:"Male",JobTitle:"",AccountRole:"country",UserID:"",email:"",password:""}),d=j(null),u=[{key:"name",label:"Name"},{key:"EntityID",label:"Entity"},{key:"UserCode",label:"User Code"},{key:"Phone",label:"Phone"},{key:"Nationality",label:"Nationality"},{key:"PhoneNumber",label:"Phone Number"},{key:"Address",label:"Address"},{key:"ParentOrganization",label:"Parent Organization"},{key:"Sex",label:"Sex"},{key:"JobTitle",label:"Job Title"},{key:"AccountRole",label:"Account Role"},{key:"email",label:"Email"},{key:"password",label:"Password"}],h=ot(()=>t.value.filter(C=>C.name.toLowerCase().includes(a.value.toLowerCase())||C.UserCode.toLowerCase().includes(a.value.toLowerCase())||C.AccountRole.toLowerCase().includes(a.value.toLowerCase())));dt(async()=>{se.value=!0,await g(),await p(),_();const C=e.currentRoute.value.query.entityid;C?r.value.EntityID=C:te.fire("No EntityID provided in URL")}),jt(()=>{x()});const p=async()=>{try{se.value=!0;const C=await me.collection("mpa_users").getFullList({sort:"-created",filter:`AccountRole="country" && EntityID="${e.currentRoute.value.query.entityid}"`});t.value=C.map(F=>({id:F.id,name:F.name,EntityID:F.EntityID,UserCode:F.UserCode,Phone:F.Phone,Nationality:F.Nationality,PhoneNumber:F.PhoneNumber,Address:F.Address,ParentOrganization:F.ParentOrganization,Sex:F.Sex,JobTitle:F.JobTitle,AccountRole:F.AccountRole,UserID:F.UserID,email:F.email,password:F.password}))}catch(C){console.error("Fetch users error:",C),te.fire("Error",`Failed to fetch users data: ${C.message}`,"error")}finally{se.value=!1}},g=async()=>{try{se.value=!0;const C=await me.collection("mpa_entities").getFullList({sort:"Entity",filter:`EntityID="${e.currentRoute.value.query.entityid}"`});o.value=C.map(F=>({Entity:F.Entity,EntityID:F.EntityID}))}catch(C){console.error("Fetch entities error:",C),te.fire("Error",`Failed to fetch entities data: ${C.message}`,"error")}finally{se.value=!1}},_=()=>{me.autoCancellation(!1),me.collection("mpa_users").subscribe("*",S)},x=()=>{me.collection("mpa_users").unsubscribe("*")},S=C=>{switch(C.action){case"create":t.value.push(C.record);break;case"update":const F=t.value.findIndex(q=>q.id===C.record.id);F!==-1&&(t.value[F]=C.record);break;case"delete":t.value=t.value.filter(q=>q.id!==C.record.id);break}},Y=C=>{n.value=!0,r.value={...C},i.value=!0},U=()=>{n.value=!1,r.value={name:"",EntityID:"",UserCode:A(),Phone:"",Nationality:"",PhoneNumber:"",Address:"",ParentOrganization:"",Sex:"Male",JobTitle:"",AccountRole:"country",UserID:R(),email:"",password:m()},i.value=!0},V=async()=>{try{se.value=!0,n.value?await re():await Q()}catch(C){console.error("Submit form error:",C),te.fire("Error",`Failed to submit form: ${C.message}`,"error")}finally{se.value=!1}},Q=async()=>{try{se.value=!0;const C=await me.collection("mpa_users").create(r.value);te.fire("Success","User created successfully.","success"),i.value=!1,await gr(r.value.email,r.value.name,r.value.UserCode,r.value.password)}catch(C){console.error("Create user error:",C),te.fire({title:"Error",text:`Failed to create user: ${C.message}. Please check the console for more details.`,icon:"error",confirmButtonText:"OK"})}finally{se.value=!1}},re=async()=>{try{se.value=!0,await me.collection("mpa_users").update(r.value.id,r.value),te.fire("Success","User updated successfully.","success"),i.value=!1}catch(C){console.error("Update user error:",C),te.fire("Error",`Failed to update user: ${C.message}`,"error")}finally{se.value=!1}},Re=async C=>{try{(await te.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed&&(se.value=!0,await me.collection("mpa_users").delete(C),te.fire("Deleted!","User has been deleted.","success"))}catch(F){console.error("Delete user error:",F),te.fire("Error",`Failed to delete user: ${F.message}`,"error")}finally{se.value=!1}},O=C=>{d.value={...C},l.value=!0},H=()=>{l.value=!1,d.value=null},w=()=>{i.value=!1,r.value={}},I=()=>{const C=Math.floor(Math.random()*1e4),F=Date.now()%1e5;return(C+F).toString().slice(0,6).padStart(6,"0")},R=()=>I(),A=()=>I(),m=()=>I();return{users:t,entities:o,isEditMode:n,isModalOpen:i,showViewModal:l,formData:r,currentUser:d,formFields:u,searchQuery:a,filteredUsers:h,openCreateModal:U,submitForm:V,openEditModal:Y,deleteUser:Re,openViewModal:O,closeViewModal:H,closeModal:w,exportToCSV:()=>{const C=["name","EntityID","UserCode","Phone","Nationality","PhoneNumber","Address","ParentOrganization","Sex","JobTitle","AccountRole","email","password"],F=[C.join(","),...t.value.map(ie=>C.map(G=>JSON.stringify(ie[G]||"")).join(","))].join(`
`),q=new Blob([F],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a");if(z.download!==void 0){const ie=URL.createObjectURL(q);z.setAttribute("href",ie),z.setAttribute("download",`users_${new Date().toLocaleDateString()}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)}}}}},Pt=e=>(Zt("data-v-598c3ca2"),e=e(),es(),e),G6={class:"dashboard"},J6={class:"dashboard-header"},X6=Pt(()=>s("h1",null,"Manage Country Specific Admin Users",-1)),Z6={class:"search-bar"},eB=Pt(()=>s("i",{class:"fas fa-search search-icon"},null,-1)),tB={class:"row"},sB={class:"col-12"},nB={class:"dashboard-actions"},oB=Pt(()=>s("i",{class:"fas fa-file-export"},null,-1)),iB=Pt(()=>s("i",{class:"fas fa-plus"},null,-1)),rB={class:"indicator-grid card"},aB={class:"card-content card-body"},lB={style:{color:"#7239EA"}},cB={style:{color:"black"}},dB={style:{color:"black"}},uB={class:"card-actions card-footer"},hB=["onClick"],fB=Pt(()=>s("i",{style:{color:"#7239EA"},class:"fas fa-edit"},null,-1)),pB=[fB],mB=["onClick"],gB=Pt(()=>s("i",{style:{color:"#F8285A !important"},class:"fas fa-trash"},null,-1)),_B=[gB],vB=["onClick"],yB=Pt(()=>s("i",{style:{color:"#F6C000"},class:"fas fa-eye"},null,-1)),bB=[yB],wB={class:"form-group"},EB=Pt(()=>s("label",{for:"name"},"Name",-1)),IB={class:"form-group"},xB=Pt(()=>s("label",{for:"EntityID"},"Entity",-1)),CB=["value"],SB={class:"form-group"},RB=Pt(()=>s("label",{for:"Phone"},"Phone",-1)),$B={class:"form-group"},kB=Pt(()=>s("label",{for:"Nationality"},"Nationality",-1)),TB=["value"],AB={class:"form-group"},DB=Pt(()=>s("label",{for:"PhoneNumber"},"Phone Number",-1)),PB={class:"form-group"},OB=Pt(()=>s("label",{for:"Address"},"Address",-1)),FB={class:"form-group"},LB=Pt(()=>s("label",{for:"ParentOrganization"},"Parent Organization",-1)),MB={class:"form-group"},NB=Pt(()=>s("label",{for:"Sex"},"Sex",-1)),BB=Pt(()=>s("option",{value:"Male"},"Male",-1)),jB=Pt(()=>s("option",{value:"Female"},"Female",-1)),VB=[BB,jB],UB={class:"form-group"},YB=Pt(()=>s("label",{for:"JobTitle"},"Job Title",-1)),qB={class:"form-group"},HB=Pt(()=>s("label",{for:"email"},"Email",-1)),KB={class:"modal-actions"},QB={type:"submit",class:"btn btn-primary"},zB=Pt(()=>s("h2",null,"User Details",-1)),WB={key:0,class:"indicator-details"};function GB(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",G6,[e.isLoading?(P(),Vt(a,{key:0})):lt("",!0),s("header",J6,[X6,s("div",Z6,[oe(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.searchQuery=r),placeholder:"Search users...",class:"search-input"},null,512),[[ve,n.searchQuery]]),eB]),s("div",tB,[s("div",sB,[s("div",nB,[s("button",{class:"btn btn-primary btn-export",onClick:t[1]||(t[1]=(...r)=>n.exportToCSV&&n.exportToCSV(...r))},[oB,J(" Export to CSV ")]),s("button",{class:"btn btn-primary btn-add",onClick:t[2]||(t[2]=(...r)=>n.openCreateModal&&n.openCreateModal(...r))},[iB,J(" Create ")])])])])]),s("div",rB,[(P(!0),N(Te,null,Fe(n.filteredUsers,r=>(P(),N("div",{key:r.id,class:"indicator-card"},[s("div",aB,[s("h3",lB,D(r.name),1),s("p",cB,"User Code: "+D(r.UserCode),1),s("p",dB,"Account Role: "+D(r.AccountRole),1),s("div",uB,[s("button",{onClick:d=>n.openEditModal(r),class:"btn-icon btn-danger btn",title:"Edit"},pB,8,hB),s("button",{onClick:d=>e.confirmDelete(r),class:"btn-icon btn-info btn",title:"Delete"},_B,8,mB),s("button",{onClick:d=>n.openViewModal(r),class:"btn-icon btn-info btn",title:"View"},bB,8,vB)])])]))),128))]),n.isModalOpen?(P(),N("div",{key:1,class:"modal-overlay",onClick:t[16]||(t[16]=(...r)=>n.closeModal&&n.closeModal(...r))},[s("div",{class:"modal-content",onClick:t[15]||(t[15]=Xe(()=>{},["stop"]))},[s("h2",null,D(n.isEditMode?"Edit Country Specific Admin User":"Create Country Specific Admin User"),1),s("form",{onSubmit:t[14]||(t[14]=Xe((...r)=>n.submitForm&&n.submitForm(...r),["prevent"]))},[s("div",wB,[EB,oe(s("input",{id:"name","onUpdate:modelValue":t[3]||(t[3]=r=>n.formData.name=r),required:""},null,512),[[ve,n.formData.name]])]),s("div",IB,[xB,oe(s("select",{id:"EntityID","onUpdate:modelValue":t[4]||(t[4]=r=>n.formData.EntityID=r),required:""},[(P(!0),N(Te,null,Fe(n.entities,r=>(P(),N("option",{key:r.EntityID,value:r.EntityID},D(r.Entity),9,CB))),128))],512),[[it,n.formData.EntityID]])]),s("div",SB,[RB,oe(s("input",{id:"Phone","onUpdate:modelValue":t[5]||(t[5]=r=>n.formData.Phone=r)},null,512),[[ve,n.formData.Phone]])]),s("div",$B,[kB,oe(s("select",{id:"Nationality","onUpdate:modelValue":t[6]||(t[6]=r=>n.formData.Nationality=r),required:""},[(P(!0),N(Te,null,Fe(n.entities,r=>(P(),N("option",{key:r.EntityID,value:r.Entity},D(r.Entity),9,TB))),128))],512),[[it,n.formData.Nationality]])]),s("div",AB,[DB,oe(s("input",{id:"PhoneNumber","onUpdate:modelValue":t[7]||(t[7]=r=>n.formData.PhoneNumber=r)},null,512),[[ve,n.formData.PhoneNumber]])]),s("div",PB,[OB,oe(s("input",{id:"Address","onUpdate:modelValue":t[8]||(t[8]=r=>n.formData.Address=r)},null,512),[[ve,n.formData.Address]])]),s("div",FB,[LB,oe(s("input",{id:"ParentOrganization","onUpdate:modelValue":t[9]||(t[9]=r=>n.formData.ParentOrganization=r)},null,512),[[ve,n.formData.ParentOrganization]])]),s("div",MB,[NB,oe(s("select",{id:"Sex","onUpdate:modelValue":t[10]||(t[10]=r=>n.formData.Sex=r)},VB,512),[[it,n.formData.Sex]])]),s("div",UB,[YB,oe(s("input",{id:"JobTitle","onUpdate:modelValue":t[11]||(t[11]=r=>n.formData.JobTitle=r)},null,512),[[ve,n.formData.JobTitle]])]),s("div",qB,[HB,oe(s("input",{id:"email",type:"email","onUpdate:modelValue":t[12]||(t[12]=r=>n.formData.email=r)},null,512),[[ve,n.formData.email]])]),s("div",KB,[s("button",QB,D(n.isEditMode?"Update":"Create"),1),s("button",{type:"button",onClick:t[13]||(t[13]=(...r)=>n.closeModal&&n.closeModal(...r)),class:"btn btn-secondary"},"Cancel")])],32)])])):lt("",!0),n.showViewModal?(P(),N("div",{key:2,class:"modal-overlay",onClick:t[19]||(t[19]=(...r)=>n.closeViewModal&&n.closeViewModal(...r))},[s("div",{class:"modal-content view-modal",onClick:t[18]||(t[18]=Xe(()=>{},["stop"]))},[zB,n.currentUser?(P(),N("div",WB,[(P(!0),N(Te,null,Fe(n.formFields,r=>(P(),N("div",{key:r.key,class:"detail-item"},[s("strong",null,D(r.label)+":",1),s("span",null,D(n.currentUser[r.key]),1)]))),128))])):lt("",!0),s("button",{onClick:t[17]||(t[17]=(...r)=>n.closeViewModal&&n.closeViewModal(...r)),class:"btn btn-secondary mt-5"},"Close")])])):lt("",!0)])}const JB=Ue(W6,[["render",GB],["__scopeId","data-v-598c3ca2"]]),XB={components:{FullScreenLoader:ze},setup(){const e=j([]),t=j([]),o=j(!1),n=j(null),i=j({name:"",EntityID:"",UserCode:"",Phone:"",Nationality:"",PhoneNumber:"",Address:"",ParentOrganization:"",Sex:"Male",JobTitle:"",AccountRole:"partner",UserID:"",email:"",password:""});dt(async()=>{se.value=!0,await a(),await l(),r(),hs(()=>{h()})}),jt(()=>{d(),n.value&&n.value.destroy(!0)});const l=async()=>{try{se.value=!0;const O=await me.collection("mpa_users").getFullList({sort:"-created"});e.value=O.map(H=>({id:H.id,name:H.name,EntityID:H.EntityID,UserCode:H.UserCode,Phone:H.Phone,Nationality:H.Nationality,PhoneNumber:H.PhoneNumber,Address:H.Address,ParentOrganization:H.ParentOrganization,Sex:H.Sex,JobTitle:H.JobTitle,AccountRole:"partner",UserID:H.UserID,email:H.email,password:H.password})),p()}catch(O){console.error("Fetch users error:",O),te.fire("Error",`Failed to fetch users data: ${O.message}`,"error")}finally{se.value=!1}},a=async()=>{try{se.value=!0;const O=await me.collection("mpa_entities").getFullList({sort:"Entity"});t.value=O.map(H=>({Entity:H.Entity,EntityID:H.EntityID}))}catch(O){console.error("Fetch entities error:",O),te.fire("Error",`Failed to fetch entities data: ${O.message}`,"error")}finally{se.value=!1}},r=()=>{me.autoCancellation(!1),me.collection("mpa_users").subscribe("*",u)},d=()=>{me.collection("mpa_users").unsubscribe("*")},u=O=>{switch(O.action){case"create":e.value.push(O.record);break;case"update":const H=e.value.findIndex(w=>w.id===O.record.id);H!==-1&&(e.value[H]=O.record);break;case"delete":e.value=e.value.filter(w=>w.id!==O.record.id);break}p()},h=()=>{n.value=$("#usersTable").DataTable({data:e.value,columns:[{title:"Name",data:"name"},{title:"User Code",data:"UserCode"},{title:"Phone",data:"Phone"},{title:"Nationality",data:"Nationality"},{title:"Phone Number",data:"PhoneNumber"},{title:"Address",data:"Address"},{title:"Parent Organization",data:"ParentOrganization"},{title:"Sex",data:"Sex"},{title:"Job Title",data:"JobTitle"},{title:"Account Role",data:"AccountRole"},{title:"Email",data:"email"},{title:"Actions",data:null,defaultContent:'<button class="btn btn-sm btn-primary edit-btn"><i class="fas fa-edit"></i></button><button class="btn btn-sm btn-danger delete-btn"><i class="fas fa-trash"></i> </button>'}],dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"],destroy:!0,responsive:!0}),$("#usersTable").on("click",".edit-btn",function(){const O=n.value.row($(this).parents("tr")).data();g(O)}),$("#usersTable").on("click",".delete-btn",function(){const O=n.value.row($(this).parents("tr")).data();U(O.id)})},p=()=>{n.value&&n.value.clear().rows.add(e.value).draw()},g=O=>{o.value=!0,i.value={...O},$("#userModal").modal("show")},_=()=>{o.value=!1,i.value={name:"",EntityID:"",UserCode:re(),Phone:"",Nationality:"",PhoneNumber:"",Address:"",ParentOrganization:"",Sex:"Male",JobTitle:"",AccountRole:"admin",UserID:Q(),email:"",password:Re()},$("#userModal").modal("show")},x=async()=>{try{se.value=!0,o.value?await Y():await S()}catch(O){console.error("Submit form error:",O),te.fire("Error",`Failed to submit form: ${O.message}`,"error")}finally{se.value=!1}},S=async()=>{try{se.value=!0;const O=await me.collection("mpa_users").create(i.value);te.fire("Success","User created successfully.","success"),$("#userModal").modal("hide"),await gr(i.value.email,i.value.name,i.value.UserCode,i.value.password)}catch(O){console.error("Create user error:",O),te.fire({title:"Error",text:`Failed to create user: ${O.message}. Please check the console for more details.`,icon:"error",confirmButtonText:"OK"})}finally{se.value=!1}},Y=async()=>{try{se.value=!0,await me.collection("mpa_users").update(i.value.id,i.value),te.fire("Success","User updated successfully.","success"),$("#userModal").modal("hide")}catch(O){console.error("Update user error:",O),te.fire("Error",`Failed to update user: ${O.message}`,"error")}finally{se.value=!1}},U=async O=>{try{(await te.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed&&(se.value=!0,await me.collection("mpa_users").delete(O),te.fire("Deleted!","User has been deleted.","success"))}catch(H){console.error("Delete user error:",H),te.fire("Error",`Failed to delete user: ${H.message}`,"error")}finally{se.value=!1}},V=()=>{const O=Math.floor(Math.random()*1e4),H=Date.now()%1e5;return(O+H).toString().slice(0,6).padStart(6,"0")},Q=()=>V(),re=()=>V(),Re=()=>V();return console.log(Q()),console.log(re()),console.log(Re()),{users:e,entities:t,isEditMode:o,formData:i,openCreateModal:_,submitForm:x}}},ZB=s("div",{class:"card bgi-no-repeat bgi-size-contain mb-5 mb-lg-10 shadow-lg",style:{"background-color":"#1b283f",height:"100px","overflow-y":"hidden","background-position":"right","background-image":"url('/assets/media/svg/misc/taieri.svg')"}},[s("div",{class:"card-body d-flex flex-column justify-content-between"},[s("h2",{class:"text-white fw-bold mb-5"},[s("span",{class:"lh-lg"},"Manage MPA Project Partner Admin Users")])])],-1),ej={class:"row mb-3"},tj={class:"col-12 text-end"},sj=s("div",{class:"datatable-container mt-5"},[s("div",{class:"card"},[s("div",{class:"card-body table-responsive"},[s("table",{id:"usersTable",class:"table table-striped table-bordered table-responsive"})])])],-1),nj={class:"modal fade",id:"userModal",tabindex:"-1",role:"dialog","aria-labelledby":"userModalLabel","aria-hidden":"true"},oj={class:"modal-dialog modal-xl",role:"document"},ij={class:"modal-content"},rj={class:"modal-header"},aj={class:"modal-title",id:"userModalLabel"},lj=s("button",{type:"button",class:"close","data-bs-dismiss":"modal","aria-label":"Close"},[s("span",{"aria-hidden":"true"},"X")],-1),cj={class:"modal-body"},dj={class:"row"},uj={class:"form-group col-md-6"},hj=s("label",{for:"name"},"Name",-1),fj={class:"form-group col-md-6"},pj=s("label",{for:"EntityID"},"Entity",-1),mj=["value"],gj={class:"form-group col-md-6"},_j=s("label",{for:"Phone"},"Phone",-1),vj={class:"form-group col-md-6"},yj=s("label",{for:"Nationality"},"Nationality",-1),bj=["value"],wj={class:"form-group col-md-6"},Ej=s("label",{for:"PhoneNumber"},"Phone Number",-1),Ij={class:"form-group col-md-6"},xj=s("label",{for:"Address"},"Address",-1),Cj={class:"form-group col-md-6"},Sj=s("label",{for:"ParentOrganization"},"Parent Organization",-1),Rj={class:"form-group col-md-6"},$j=s("label",{for:"Sex"},"Sex",-1),kj=s("option",{value:"Male"},"Male",-1),Tj=s("option",{value:"Female"},"Female",-1),Aj=[kj,Tj],Dj={class:"form-group col-md-6"},Pj=s("label",{for:"JobTitle"},"Job Title",-1),Oj={class:"form-group col-md-6"},Fj=s("label",{for:"email"},"Email",-1),Lj={class:"modal-footer"},Mj={type:"submit",class:"btn btn-primary"},Nj=s("button",{type:"button",class:"btn btn-light","data-bs-dismiss":"modal"}," Close ",-1);function Bj(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[e.isLoading?(P(),Vt(a,{key:0})):lt("",!0),ZB,s("div",ej,[s("div",tj,[s("button",{class:"btn float-end btn-primary mb-3",onClick:t[0]||(t[0]=(...r)=>n.openCreateModal&&n.openCreateModal(...r))}," Create ")])]),sj,s("div",nj,[s("div",oj,[s("div",ij,[s("div",rj,[s("h5",aj,D(n.isEditMode?"Edit MPA Project Partner  Admin User":"Create MPA Project Partner  Admin User"),1),lj]),s("div",cj,[s("form",{onSubmit:t[11]||(t[11]=Xe((...r)=>n.submitForm&&n.submitForm(...r),["prevent"]))},[s("div",dj,[s("div",uj,[hj,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=r=>n.formData.name=r),required:""},null,512),[[ve,n.formData.name]])]),s("div",fj,[pj,oe(s("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=r=>n.formData.EntityID=r),required:""},[(P(!0),N(Te,null,Fe(n.entities,r=>(P(),N("option",{key:r.EntityID,value:r.EntityID},D(r.Entity),9,mj))),128))],512),[[it,n.formData.EntityID]])]),s("div",gj,[_j,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=r=>n.formData.Phone=r)},null,512),[[ve,n.formData.Phone]])]),s("div",vj,[yj,oe(s("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=r=>n.formData.Nationality=r),required:""},[(P(!0),N(Te,null,Fe(n.entities,r=>(P(),N("option",{key:r.EntityID,value:r.Entity},D(r.Entity),9,bj))),128))],512),[[it,n.formData.Nationality]])]),s("div",wj,[Ej,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=r=>n.formData.PhoneNumber=r)},null,512),[[ve,n.formData.PhoneNumber]])]),s("div",Ij,[xj,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=r=>n.formData.Address=r)},null,512),[[ve,n.formData.Address]])]),s("div",Cj,[Sj,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=r=>n.formData.ParentOrganization=r)},null,512),[[ve,n.formData.ParentOrganization]])]),s("div",Rj,[$j,oe(s("select",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=r=>n.formData.Sex=r)},Aj,512),[[it,n.formData.Sex]])]),s("div",Dj,[Pj,oe(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=r=>n.formData.JobTitle=r)},null,512),[[ve,n.formData.JobTitle]])]),s("div",Oj,[Fj,oe(s("input",{type:"email",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=r=>n.formData.email=r)},null,512),[[ve,n.formData.email]])])]),s("div",Lj,[s("button",Mj,D(n.isEditMode?"Update":"Create"),1),Nj])],32)])])])])])}const jj=Ue(XB,[["render",Bj]]),Vj={name:"Login",components:{FullScreenLoader:ze},data(){return{loginData:{UserCode:""},isAuthenticated:!1}},methods:{async login(){se.value=!0;try{const e=await me.collection("mpa_users").getFullList({filter:`UserCode="${this.loginData.UserCode}"`});if(console.log(e),console.log(`UserCode="${this.loginData.UserCode}`),e.length>0){const t=e[0];console.log("User Data:",t),sessionStorage.setItem("AuthData",JSON.stringify(t)),this.isAuthenticated=!0,window.ClearModal(),te.fire("Success","Login successful","success").then(()=>{window.location="/"})}else throw new Error("Invalid User Code")}catch(e){console.error("Login error:",e),te.fire("Error",`Login failed: ${e.message}`,"error")}finally{se.value=!1}},checkAuthentication(){sessionStorage.getItem("AuthData")?(this.isAuthenticated=!0,window.location="/"):this.isAuthenticated=!1},focusInput(){const e=document.querySelector(".form-control.text-center.shadow-sm");e&&e.focus()}},created(){this.checkAuthentication()},mounted(){const e=document.getElementById("login_modal");new bootstrap.Modal(e,{backdrop:"static",keyboard:!1}).show()}},li=e=>(Zt("data-v-c6d107e7"),e=e(),es(),e),Uj={class:"login-container"},Yj={class:"modal fade show d-block",id:"login_modal",tabindex:"-1"},qj={class:"modal-dialog modal-fullscreen"},Hj={class:"modal-content border-0 shadow-lg"},Kj={class:"modal-body d-flex flex-column align-items-center justify-content-center p-4"},Qj={class:"card shadow-lg",style:{"border-radius":"20px","max-width":"400px",width:"100%"}},zj={class:"card-body p-5 text-center"},Wj=li(()=>s("img",{src:Ki,alt:"ECSA-HC Logo",class:"mb-4 img-fluid",style:{height:"80px"}},null,-1)),Gj=li(()=>s("h5",{class:"modal-title mb-4"},"ECSA-HC MPA M&E System Login",-1)),Jj={class:"mb-3"},Xj=li(()=>s("label",{for:"UserCode",class:"form-label"},"Enter User Code",-1)),Zj=li(()=>s("div",{class:"d-grid gap-2 mt-4"},[s("button",{type:"submit",class:"btn btn-primary shadow-lg",style:{"border-radius":"10px"}}," Login ")],-1));function eV(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",Uj,[ke(a),s("div",Yj,[s("div",qj,[s("div",Hj,[s("div",Kj,[s("div",Qj,[s("div",zj,[Wj,Gj,s("form",{onSubmit:t[1]||(t[1]=Xe((...r)=>l.login&&l.login(...r),["prevent"])),class:"w-100"},[s("div",Jj,[Xj,oe(s("input",{type:"text",class:"form-control text-center shadow-sm","onUpdate:modelValue":t[0]||(t[0]=r=>i.loginData.UserCode=r),required:"",placeholder:"User Code",style:{"border-radius":"10px"}},null,512),[[ve,i.loginData.UserCode]])]),Zj],32)])])])])])])])}const gl=Ue(Vj,[["render",eV],["__scopeId","data-v-c6d107e7"]]),tV={class:"container px-5 py-5"},sV={key:1},nV=We('<div class="card shadow-lg mb-5"><div class="card-body"><div class="alert alert-info"><div class="d-flex align-items-center"><div><h4 class="alert-heading mb-1">Country Indicator Dashboard</h4><p class="mb-0">Search and select the entity whose analytics are required</p></div><i class="fas fa-info-circle fa-2x ms-auto" aria-hidden="true"></i></div></div></div></div>',1),oV={class:"card shadow-lg"},iV={class:"card-body"},rV={class:"mb-4"},aV=s("label",{for:"entitySelect",class:"form-label required"},"Search and Select Entity",-1),lV=s("option",{value:""},"Select an entity",-1),cV=["value"],dV={class:"text-end"},uV=["disabled"],_l={__name:"SelectEntity",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1);let a=null;const r=ot(()=>{const p=sessionStorage.getItem("AuthData");return p?JSON.parse(p):null}),d=async()=>{var p;l.value=!0;try{const g=await me.collection("mpa_entities").getFullList({sort:"Entity",filter:'Entity != "RRF"'});o.value=((p=r.value)==null?void 0:p.AccountRole)==="admin"?g:g.filter(_=>{var x;return _.EntityID===((x=r.value)==null?void 0:x.EntityID)})}catch(g){console.error("Error fetching entities:",g),te.fire("Error",`Error fetching entities: ${g.message}`,"error")}finally{l.value=!1}},u=()=>{i.value&&!a&&(a=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for an entity",placeholder:!0,placeholderValue:"Select an entity",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),a.passedElement.element.addEventListener("choice",function(p){n.value=p.detail.choice.value},!1))},h=()=>{n.value?t.push({name:"IndicatorStats",query:{entityid:n.value}}):te.fire("Warning","Please select an entity","warning")};return dt(()=>{d().then(()=>{u()})}),jt(()=>{a&&a.destroy()}),Rt(n,p=>{a&&p&&a.setChoiceByValue(p)}),(p,g)=>(P(),N("div",tV,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",sV,[nV,s("div",oV,[s("div",iV,[s("form",{onSubmit:Xe(h,["prevent"])},[s("div",rV,[aV,oe(s("select",{id:"entitySelect",ref_key:"entitySelect",ref:i,"onUpdate:modelValue":g[0]||(g[0]=_=>n.value=_),class:"form-select",required:""},[lV,(P(!0),N(Te,null,Fe(o.value,_=>(P(),N("option",{key:_.EntityID,value:_.EntityID},D(_.Entity),9,cV))),128))],512),[[it,n.value]])]),s("div",dV,[s("button",{class:"btn btn-outline btn-outline-dashed btn-outline-secondary btn-active-light-secondary",type:"submit",disabled:!n.value,style:{"font-weight":"700"}}," Next ",8,uV)])],32)])])]))]))}},hV={name:"IndicatorStats",setup(){const e=ys(),t=j(""),o=j(0),n=j(0),i=j(0),l=j(0),a=j(0),r=j(0),d=j([]),u=j(null);let h=null;const p=ot(()=>[{title:"Total Indicators",value:o.value,bgClass:"bg-primary"},{title:"RRF Indicators",value:n.value,bgClass:"bg-success"},{title:"CRF Indicators",value:i.value,bgClass:"bg-warning"},{title:"Quarterly Indicators",value:l.value,bgClass:"bg-info"},{title:"Bi-Annual Indicators",value:r.value,bgClass:"bg-danger"},{title:"Annual Indicators",value:a.value,bgClass:"bg-dark"}]),g=async()=>{try{d.value=await me.collection("mpa_reporting_analytics").getFullList({filter:`EntityID = "${e.query.entityid}"`,sort:"-Year"})}catch(U){console.error("Error fetching reporting analytics:",U),te.fire("Error","Failed to fetch reporting analytics data","error")}},_=async()=>{const U=e.query.entityid,V=["Quarterly Report","Annual Report","Bi-Annual Report"],Q={};try{for(const re of V){const[Re,O]=await Promise.all([me.collection("mpa_project_indicators_with_entities").getFullList({filter:`EntityID = "${U}" && ReportingPeriod = "${re}"`}),me.collection("mpa_project_indicators_with_entities").getFullList({filter:`Entity = "RRF" && ReportingPeriod = "${re}"`})]);Q[re]=Re.length+O.length}l.value=Q["Quarterly Report"],a.value=Q["Annual Report"],r.value=Q["Bi-Annual Report"]}catch(re){console.error("Error fetching reporting metrics:",re),te.fire("Error","Failed to fetch reporting metrics","error")}},x=async()=>{try{const U=e.query.entityid,V=await me.collection("mpa_project_indicators_with_entities").getFirstListItem("",{filter:`EntityID = "${U}"`});t.value=V.Entity;const[Q,re]=await Promise.all([me.collection("mpa_project_indicators_with_entities").getFullList({filter:`EntityID = "${U}"`}),me.collection("mpa_project_indicators_with_entities").getFullList({filter:'Entity = "RRF"'})]);o.value=Q.length+re.length,n.value=re.length,i.value=Q.length}catch(U){console.error("Error fetching total indicators:",U),te.fire("Error","Failed to fetch indicators count","error")}},S=()=>{h&&h.destroy();const U=u.value.getContext("2d");h=new Chart(U,{type:"bar",data:{labels:["Total","RRF","CRF","Quarterly","Bi-Annual","Annual"],datasets:[{label:"Indicator Counts",data:[o.value,n.value,i.value,l.value,r.value,a.value],backgroundColor:["#4e73df","#1cc88a","#f6c23e","#36b9cc","#858796","#5a5c69"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Indicator Distribution",font:{size:18}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Count"}}}}})},Y=async()=>{await Promise.all([x(),_(),g()]),S(),te.fire("Success","Dashboard data refreshed","success")};return dt(()=>{Y()}),{Entity:t,TotalIndicators:o,RRFIndicators:n,CRFIndicators:i,QuaterlyCount:l,AnnualCount:a,BiAnnualCount:r,records:d,chartCanvas:u,dashboardStats:p,refreshData:Y}}},_r=e=>(Zt("data-v-3ec539b9"),e=e(),es(),e),fV={class:"dashboard-container"},pV={class:"card shadow-lg"},mV={class:"card-header d-flex justify-content-between align-items-center"},gV={class:"card-title"},_V=_r(()=>s("i",{class:"fas fa-sync-alt"},null,-1)),vV={class:"card-body pt-3 bg-light"},yV={class:"row mb-4"},bV={class:"card shadow-sm"},wV={class:"card-title text-white"},EV={class:"card-text display-6 text-white"},IV={class:"row mb-4"},xV={class:"col-md-12"},CV={class:"card shadow-sm"},SV={class:"card-body"},RV={ref:"chartCanvas"},$V={class:"card shadow-sm"},kV=_r(()=>s("div",{class:"card-header"},[s("h4",{class:"card-title"},"Reported Indicators Analytics")],-1)),TV={class:"card-body"},AV={class:"table-responsive"},DV={class:"table table-strisped table-hovser"},PV=_r(()=>s("thead",null,[s("tr",null,[s("th",{class:"bg-warning text-dark"},"Report Name"),s("th",{class:"bg-primary text-light"},"Year"),s("th",{class:"bg-info text-light"},"Reported Indicator Count")])],-1)),OV={class:"bg-warning fw-bolder text-dark"},FV={class:"bg-primary text-light"},LV={class:"bg-info text-light"};function MV(e,t,o,n,i,l){return P(),N("div",fV,[s("div",pV,[s("div",mV,[s("h3",gV,"Country Dashboard For "+D(n.Entity),1),s("button",{class:"btn btn-sm btn-light-primary",onClick:t[0]||(t[0]=(...a)=>n.refreshData&&n.refreshData(...a))},[_V,J(" Refresh Data ")])]),s("div",vV,[s("div",yV,[(P(!0),N(Te,null,Fe(n.dashboardStats,(a,r)=>(P(),N("div",{class:"col-md-4 mb-3",key:r},[s("div",bV,[s("div",{class:nt(["card-body",a.bgClass])},[s("h5",wV,D(a.title),1),s("p",EV,D(a.value),1)],2)])]))),128))]),s("div",IV,[s("div",xV,[s("div",CV,[s("div",SV,[s("canvas",RV,null,512)])])])]),s("div",$V,[kV,s("div",TV,[s("div",AV,[s("table",DV,[PV,s("tbody",null,[(P(!0),N(Te,null,Fe(n.records,a=>(P(),N("tr",{key:a.id},[s("td",OV,D(a.ReportName),1),s("td",FV,D(a.Year),1),s("td",LV,D(a.IndicatorCount),1)]))),128))])])])])])])])])}const NV=Ue(hV,[["render",MV],["__scopeId","data-v-3ec539b9"]]),BV={class:"container px-5 py-5"},jV={key:1},VV=We('<div class="card-body pt-3 fw-bolder text-white shadow-lg table-responsive"><div class="alert alert-info shadow-lg"><span class="float-end svg-icon svg-icon-2hx svg-icon-primary me-3"><i class="fas fa-info fa-2x" aria-hidden="true"></i></span><div class="d-flex flex-column"><h4 class="mb-1 text-dark">Regional Dashboard</h4><span>Select a RRF report you want to view.</span></div></div></div>',1),UV={class:"shadow-lg pt-3 bg-light px-5 py-5"},YV={class:"row"},qV={class:"col-md-12"},HV={class:"mb-3 col-md-12 py-5 my-5"},KV=s("label",{class:"px-5 my-5 required form-label"},"Report",-1),QV=s("option",null,null,-1),zV=["value"],WV=s("div",{class:"float-end my-3"},[s("button",{class:"btn btn-danger btn-sm shadow-lg",type:"submit"}," Next ")],-1),GV={__name:"SelectReport",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1);let a=null;const r=async()=>{l.value=!0;try{const h=await me.collection("rrf_reported_reports_only").getFullList();o.value=h}catch(h){console.error("Error fetching reports:",h.message),te.fire("Error","Error fetching reports: "+h.message,"error")}finally{l.value=!1}},d=()=>{n.value?(console.log("Selected ReportingID:",n.value),t.push({name:"RDashboard",query:{reportingid:n.value}})):(console.error("No report selected"),te.fire("Warning","No report selected","warning"))},u=()=>{i.value&&!a&&(a=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for a report",placeholder:!0,placeholderValue:"Select a report",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),a.passedElement.element.addEventListener("choice",function(h){n.value=h.detail.choice.value},!1))};return dt(()=>{r().then(()=>{u()})}),jt(()=>{a&&a.destroy()}),Rt(n,h=>{a&&h&&a.setChoiceByValue(h)}),(h,p)=>(P(),N("div",BV,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",jV,[VV,s("div",UV,[s("div",YV,[s("div",qV,[s("form",{onSubmit:Xe(d,["prevent"])},[s("div",HV,[KV,oe(s("select",{"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),ref_key:"reportSelect",ref:i,class:"form-select py-5 my-5 form-select-solid",required:""},[QV,(P(!0),N(Te,null,Fe(o.value,g=>(P(),N("option",{key:g.ReportingID,value:g.ReportingID},D(g.ReportName),9,zV))),128))],512),[[it,n.value]])]),WV],32)])])])]))]))}},JV={name:"RegionalReportAnalytics",setup(){const e=ys(),t=j([]),o=j(""),n=j(0),i=j(0),l=j(""),a=j(""),r=j(null),d=j(!1),u=j({minResponse:"",maxResponse:"",year:""}),h=ot(()=>t.value.filter(w=>{const I=w.Indicator.toLowerCase().includes(a.value.toLowerCase()),R=(!u.value.minResponse||parseFloat(w.IndicatorResponse)>=parseFloat(u.value.minResponse))&&(!u.value.maxResponse||parseFloat(w.IndicatorResponse)<=parseFloat(u.value.maxResponse))&&(!u.value.year||w[`TargetYear${re(u.value.year-2023)}${u.value.year}`]);return I&&R})),p=async()=>{try{const w=await me.collection("mpa_reporting_timelines").getFirstListItem("",{filter:`ReportingID = "${e.query.reportingid}"`});l.value=w.ReportName,i.value=w.Year}catch(w){console.error("Error fetching report name:",w),O("Error","Failed to fetch report name","error")}},g=async()=>{try{const w=await me.collection("mpa_entities").getFullList({filter:'Entity != "RRF" &&  Entity !="ECSA-HC" &&  Entity !="IGAD"'});n.value=w.length}catch(w){console.error("Error fetching entity count:",w),O("Error","Failed to fetch entity count","error")}},_=async()=>{try{const w=await me.collection("rrf_reported_mpa_view").getFullList({filter:`ResponseType = "Yes/No" && ReportingID = "${e.query.reportingid}"`});t.value=x(w)}catch(w){console.error("Error fetching data:",w),O("Error","Failed to fetch indicator response analysis data","error")}},x=w=>{const I=w.reduce((R,A)=>(R[A.IID]||(R[A.IID]={Indicator:A.Indicator,yesEntities:new Set,noEntities:new Set,BaselinePAD2023:A.BaselinePAD2023,Baseline2024:A.Baseline2024,TargetYearOne2024:A.TargetYearOne2024,TargetYearTwo2025:A.TargetYearTwo2025,TargetYearThree2026:A.TargetYearThree2026,TargetYearFour2027:A.TargetYearFour2027,TargetYearFive2028:A.TargetYearFive2028,TargetYearSix2029:A.TargetYearSix2029,TargetYearSeven2030:A.TargetYearSeven2030}),A.Response==="Yes"?R[A.IID].yesEntities.add(A.EntityID):A.Response==="No"&&R[A.IID].noEntities.add(A.EntityID),R),{});return Object.keys(I).map(R=>{const A=I[R].yesEntities.size,m=I[R].noEntities.size,b=n.value,C=(A/b*100).toFixed(2)+"%";return{...I[R],yesCount:A,noCount:m,IndicatorResponse:C,TotalEntities:b}})},S=()=>{const w=h.value.map(m=>({Indicator:m.Indicator,Response:m.IndicatorResponse,PAD:m.BaselinePAD2023,Baseline:m.Baseline2024,"Countries (Yes)":m.yesCount,"Countries (No)":m.noCount,"Target 2024":m.TargetYearOne2024,"Target 2025":m.TargetYearTwo2025,"Target 2026":m.TargetYearThree2026,"Target 2027":m.TargetYearFour2027,"Target 2028":m.TargetYearFive2028,"Target 2029":m.TargetYearSix2029,"Target 2030":m.TargetYearSeven2030})),I=po.unparse(w,{quotes:!0,header:!0}),R=new Blob([I],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a");if(A.download!==void 0){const m=URL.createObjectURL(R);A.setAttribute("href",m),A.setAttribute("download",`regional_report_${l.value}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)}},Y=w=>{r.value=w},U=()=>{r.value=null},V=()=>{d.value=!d.value},Q=()=>{V()},re=w=>["One","Two","Three","Four","Five","Six","Seven"][w-1]||"",Re=w=>{const I=parseFloat(w);return I<33?"response-low":I<66?"response-medium":"response-high"},O=(w,I,R)=>{console.log(`${R.toUpperCase()}: ${w} - ${I}`)},H=()=>{};return dt(async()=>{o.value=e.query.reportingid,await g(),await _(),await p()}),{analysisData:t,reportingid:o,EntityCount:n,Year:i,reportName:l,searchQuery:a,filteredData:h,selectedRecord:r,showFilterModal:d,filters:u,advancedExport:S,showDetailedView:Y,closeModal:U,toggleFilterModal:V,applyFilters:Q,yearToWord:re,getResponseClass:Re,advancedFilter:H}}},qt=e=>(Zt("data-v-e26bbd8c"),e=e(),es(),e),XV={class:"container"},ZV={class:"header-card glass-morphism shadow-lg"},e7=qt(()=>s("h1",{class:"header-title"},"Regional Report Analytics",-1)),t7={class:"header-subtitle text-success fw-bolder"},s7={class:"action-card glass-morphism shadow-lg"},n7={class:"search-container"},o7=qt(()=>s("i",{class:"fas fa-filter"},null,-1)),i7=qt(()=>s("i",{class:"fas fa-file-export"},null,-1)),r7={class:"data-cards"},a7=["onClick"],l7={class:"card-header"},c7={class:"indicator-title"},d7={class:"card-body"},u7={class:"stat-row"},h7={class:"stat-label m-2"},f7={class:"stat-row"},p7=qt(()=>s("span",{class:"stat-label m-2"},"PAD:",-1)),m7={class:"stat-value m-3"},g7={class:"stat-row"},_7=qt(()=>s("span",{class:"stat-label m-2"},"Baseline:",-1)),v7={class:"stat-value m-3"},y7={class:"progress-container"},b7={class:"card-footer"},w7={class:"country-stat"},E7=qt(()=>s("span",{class:"country-label"},"Countries-Yes:",-1)),I7={class:"country-value yes"},x7={class:"country-stat"},C7=qt(()=>s("span",{class:"country-label text-danger fw-bolder"},"CountriesNo:",-1)),S7={class:"country-value text-danger fw-bolder"},R7={class:"modal-content glass-morphism"},$7={class:"modal-body"},k7={class:"current-stats mt-5 pt-5 fw-bolder"},T7={class:"stat-item"},A7=qt(()=>s("span",{class:"stat-label m-5"},"Current Response:",-1)),D7={class:"stat-item"},P7=qt(()=>s("span",{class:"stat-label m-5"},"PAD 2023:",-1)),O7={class:"stat-value m-3"},F7={class:"stat-item"},L7=qt(()=>s("span",{class:"stat-label m-5"},"Baseline 2024:",-1)),M7={class:"stat-value m-3"},N7=qt(()=>s("h3",null,"Yearly Targets",-1)),B7={class:"targets-grid"},j7={class:"year mx-3"},V7=qt(()=>s("br",null,null,-1)),U7={class:"modal-content glass-morphism"},Y7=qt(()=>s("h2",null,"Advanced Filters",-1)),q7={class:"filter-options"},H7={class:"filter-option"},K7=qt(()=>s("label",null,"Response Range:",-1)),Q7={class:"filter-option"},z7=qt(()=>s("label",null,"Year:",-1)),W7=qt(()=>s("option",{value:""},"All Years",-1)),G7=["value"];function J7(e,t,o,n,i,l){return P(),N("div",XV,[s("div",ZV,[e7,s("h2",t7,D(n.reportName)+" | All Countries ",1)]),s("div",s7,[s("div",n7,[oe(s("input",{style:{border:"10px"},"onUpdate:modelValue":t[0]||(t[0]=a=>n.searchQuery=a),class:"search-input",placeholder:"Search indicators...",onInput:t[1]||(t[1]=(...a)=>n.advancedFilter&&n.advancedFilter(...a))},null,544),[[ve,n.searchQuery]]),s("button",{class:"filter-button ms-4 btn btn-danger",onClick:t[2]||(t[2]=(...a)=>n.toggleFilterModal&&n.toggleFilterModal(...a))},[o7,J(" Filters ")])]),s("button",{class:"export-button btn btn-danger",onClick:t[3]||(t[3]=(...a)=>n.advancedExport&&n.advancedExport(...a))},[i7,J(" Export Data ")])]),s("div",r7,[(P(!0),N(Te,null,Fe(n.filteredData,a=>(P(),N("div",{key:a.IID,class:"data-card glass-morphism",onClick:r=>n.showDetailedView(a)},[s("div",l7,[s("h3",c7,D(a.Indicator),1)]),s("div",d7,[s("div",u7,[s("span",h7,"Response ("+D(n.Year)+"):",1),s("span",{class:nt(["stat-value m-3",n.getResponseClass(a.IndicatorResponse)])},D(a.IndicatorResponse),3)]),s("div",f7,[p7,s("span",m7,D(a.BaselinePAD2023),1)]),s("div",g7,[_7,s("span",v7,D(a.Baseline2024),1)]),s("div",y7,[s("div",{class:"progress-bar",style:zo({width:a.IndicatorResponse})},null,4)])]),s("div",b7,[s("div",w7,[E7,s("span",I7,D(a.yesCount),1)]),s("div",x7,[C7,s("span",S7,D(a.noCount),1)])])],8,a7))),128))]),ke(qo,{name:"modal-fade"},{default:xt(()=>[n.selectedRecord?(P(),N("div",{key:0,class:"modal",onClick:t[5]||(t[5]=Xe((...a)=>n.closeModal&&n.closeModal(...a),["self"]))},[s("div",R7,[s("h2",null,D(n.selectedRecord.Indicator),1),s("div",$7,[s("div",k7,[s("div",T7,[A7,s("span",{class:nt(["stat-value m-3",n.getResponseClass(n.selectedRecord.IndicatorResponse)])},D(n.selectedRecord.IndicatorResponse),3)]),s("div",D7,[P7,s("span",O7,D(n.selectedRecord.BaselinePAD2023),1)]),s("div",F7,[L7,s("span",M7,D(n.selectedRecord.Baseline2024),1)])]),N7,s("div",B7,[(P(),N(Te,null,Fe([2024,2025,2026,2027,2028,2029,2030],a=>s("div",{key:a,class:"target-item"},[s("span",j7,D(a),1),s("span",{class:nt(["target-value mx-3",{"current-year":a===n.Year}])},D(n.selectedRecord[`TargetYear${n.yearToWord(a-2023)}${a}`]),3)])),64)),V7,s("button",{class:"btn btn-lg btn-danger mx-5",onClick:t[4]||(t[4]=(...a)=>n.closeModal&&n.closeModal(...a))}," Close ")])])])])):lt("",!0)]),_:1}),ke(qo,{name:"modal-fade"},{default:xt(()=>[n.showFilterModal?(P(),N("div",{key:0,class:"modal filter-modal",onClick:t[11]||(t[11]=Xe((...a)=>n.toggleFilterModal&&n.toggleFilterModal(...a),["self"]))},[s("div",U7,[s("button",{class:"close-button",onClick:t[6]||(t[6]=(...a)=>n.toggleFilterModal&&n.toggleFilterModal(...a))}," × "),Y7,s("div",q7,[s("div",H7,[K7,oe(s("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>n.filters.minResponse=a),type:"number",placeholder:"Min %"},null,512),[[ve,n.filters.minResponse]]),oe(s("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>n.filters.maxResponse=a),type:"number",placeholder:"Max %"},null,512),[[ve,n.filters.maxResponse]])]),s("div",Q7,[z7,oe(s("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>n.filters.year=a)},[W7,(P(),N(Te,null,Fe([2024,2025,2026,2027,2028,2029,2030],a=>s("option",{key:a,value:a},D(a),9,G7)),64))],512),[[it,n.filters.year]])])]),s("button",{class:"apply-filters-button",onClick:t[10]||(t[10]=(...a)=>n.applyFilters&&n.applyFilters(...a))}," Apply Filters ")])])):lt("",!0)]),_:1})])}const X7=Ue(JV,[["render",J7],["__scopeId","data-v-e26bbd8c"]]),Z7={name:"RedirectBack",components:{FullScreenLoader:ze},data(){return{loading:!0}},created(){setTimeout(()=>{this.loading=!1,this.$router.go(-1)},1e3)}};function eU(e,t,o,n,i,l){const a=Qe("FullScreenLoader");return P(),N("div",null,[i.loading?(P(),Vt(a,{key:0})):lt("",!0),J(" Redirecting... ")])}const tU=Ue(Z7,[["render",eU],["__scopeId","data-v-f160038c"]]),sU={name:"RecommendedCourses"},nU={class:"d-flex justify-content-center align-items-center min-vh-100"},oU=We('<div class="row g-5 g-xl-10"><div class="col-xl-12 mb-xl-10"><div class="card h-xl-100"><div class="card-header border-0 pt-5"><h3 class="card-title align-items-start flex-column"><span class="card-label fw-bold text-gray-900">Recommended for you</span><span class="text-muted mt-1 fw-semibold fs-7">8k social visitors</span></h3></div><div class="card-body pt-6"><div class="d-flex flex-stack"><div class="symbol symbol-40px me-4"><div class="symbol-label fs-2 fw-semibold bg-danger text-inverse-danger">M</div></div><div class="d-flex align-items-center flex-row-fluid flex-wrap"><div class="flex-grow-1 me-2"><a href="/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">UI/UX Design</a><span class="text-muted fw-semibold d-block fs-7">40+ Courses</span></div><a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px"><i class="ki-duotone ki-arrow-right fs-2"><span class="path1"></span><span class="path2"></span></i></a></div></div><div class="separator separator-dashed my-4"></div><div class="d-flex flex-stack"><div class="symbol symbol-40px me-4"><div class="symbol-label fs-2 fw-semibold bg-success text-inverse-success">Q</div></div><div class="d-flex align-items-center flex-row-fluid flex-wrap"><div class="flex-grow-1 me-2"><a href="/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">QA Analysis</a><span class="text-muted fw-semibold d-block fs-7">18 Courses</span></div><a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px"><i class="ki-duotone ki-arrow-right fs-2"><span class="path1"></span><span class="path2"></span></i></a></div></div><div class="separator separator-dashed my-4"></div><div class="d-flex flex-stack"><div class="symbol symbol-40px me-4"><div class="symbol-label fs-2 fw-semibold bg-info text-inverse-info">W</div></div><div class="d-flex align-items-center flex-row-fluid flex-wrap"><div class="flex-grow-1 me-2"><a href="/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">Web Development</a><span class="text-muted fw-semibold d-block fs-7">120+ Courses</span></div><a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px"><i class="ki-duotone ki-arrow-right fs-2"><span class="path1"></span><span class="path2"></span></i></a></div></div><div class="separator separator-dashed my-4"></div><div class="d-flex flex-stack"><div class="symbol symbol-40px me-4"><div class="symbol-label fs-2 fw-semibold bg-primary text-inverse-primary">M</div></div><div class="d-flex align-items-center flex-row-fluid flex-wrap"><div class="flex-grow-1 me-2"><a href="/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">Marketing</a><span class="text-muted fw-semibold d-block fs-7">50+ Courses.</span></div><a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px"><i class="ki-duotone ki-arrow-right fs-2"><span class="path1"></span><span class="path2"></span></i></a></div></div><div class="separator separator-dashed my-4"></div><div class="d-flex flex-stack"><div class="symbol symbol-40px me-4"><div class="symbol-label fs-2 fw-semibold bg-warning text-inverse-warning">P</div></div><div class="d-flex align-items-center flex-row-fluid flex-wrap"><div class="flex-grow-1 me-2"><a href="/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">Philosophy</a><span class="text-muted fw-semibold d-block fs-7">24+ Courses</span></div><a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px"><i class="ki-duotone ki-arrow-right fs-2"><span class="path1"></span><span class="path2"></span></i></a></div></div><div class="separator separator-dashed my-4"></div><div class="d-flex flex-stack"><div class="symbol symbol-40px me-4"><div class="symbol-label fs-2 fw-semibold bg-dark text-inverse-dark">M</div></div><div class="d-flex align-items-center flex-row-fluid flex-wrap"><div class="flex-grow-1 me-2"><a href="/pages/user-profile/overview.html" class="text-gray-800 text-hover-primary fs-6 fw-bold">Mathematics</a><span class="text-muted fw-semibold d-block fs-7">24+ Courses</span></div><a href="#" class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary w-30px h-30px"><i class="ki-duotone ki-arrow-right fs-2"><span class="path1"></span><span class="path2"></span></i></a></div></div></div></div></div></div>',1),iU=[oU];function rU(e,t,o,n,i,l){return P(),N("div",nU,iU)}const aU=Ue(sU,[["render",rU]]),lU={class:"container px-5 py-5"},cU={key:1},dU=We('<div class="card shadow-lg mb-5"><div class="card-body"><div class="alert alert-info"><div class="d-flex align-items-center"><div><h4 class="alert-heading mb-1">Country / Entity User Management</h4><p class="mb-0">Search and select the entity whose users are required</p></div><i class="fas fa-info-circle fa-2x ms-auto" aria-hidden="true"></i></div></div></div></div>',1),uU={class:"card shadow-lg"},hU={class:"card-body"},fU={class:"mb-4"},pU=s("label",{for:"entitySelect",class:"form-label required"},"Search and Select Entity",-1),mU=s("option",{value:""},"Select an entity",-1),gU=["value"],_U={class:"text-end"},vU=["disabled"],yU={__name:"SelectEntity",setup(e){const t=ts(),o=j([]),n=j(null),i=j(null),l=j(!1);let a=null;const r=ot(()=>{const p=sessionStorage.getItem("AuthData");return p?JSON.parse(p):null}),d=async()=>{var p;l.value=!0;try{const g=await me.collection("mpa_entities").getFullList({sort:"Entity",filter:'Entity != "RRF"'});o.value=((p=r.value)==null?void 0:p.AccountRole)==="admin"?g:g.filter(_=>{var x;return _.EntityID===((x=r.value)==null?void 0:x.EntityID)})}catch(g){console.error("Error fetching entities:",g),te.fire("Error",`Error fetching entities: ${g.message}`,"error")}finally{l.value=!1}},u=()=>{i.value&&!a&&(a=new fs(i.value,{searchEnabled:!0,searchFields:["label","value"],searchPlaceholderValue:"Type to search for an entity",placeholder:!0,placeholderValue:"Select an entity",itemSelectText:"",removeItemButton:!0,classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button"}}),a.passedElement.element.addEventListener("choice",function(p){n.value=p.detail.choice.value},!1))},h=()=>{n.value?t.push({name:"Countries",query:{entityid:n.value}}):te.fire("Warning","Please select an entity","warning")};return dt(()=>{d().then(()=>{u()})}),jt(()=>{a&&a.destroy()}),Rt(n,p=>{a&&p&&a.setChoiceByValue(p)}),(p,g)=>(P(),N("div",lU,[l.value?(P(),Vt(ze,{key:0})):(P(),N("div",cU,[dU,s("div",uU,[s("div",hU,[s("form",{onSubmit:Xe(h,["prevent"])},[s("div",fU,[pU,oe(s("select",{id:"entitySelect",ref_key:"entitySelect",ref:i,"onUpdate:modelValue":g[0]||(g[0]=_=>n.value=_),class:"form-select",required:""},[mU,(P(!0),N(Te,null,Fe(o.value,_=>(P(),N("option",{key:_.EntityID,value:_.EntityID},D(_.Entity),9,gU))),128))],512),[[it,n.value]])]),s("div",_U,[s("button",{class:"btn btn-outline btn-outline-dashed btn-outline-secondary btn-active-light-secondary",type:"submit",disabled:!n.value,style:{"font-weight":"700"}}," Next ",8,vU)])],32)])])]))]))}},bU=[{path:"/CountryUsersEntity",name:"CountryUsersEntity",component:yU},{path:"/CountryDashboard",name:"CountryDashboard",component:aU},{path:"/RedirectBack",name:"RedirectBack",component:tU},{path:"/RDashboard",name:"RDashboard",component:X7},{path:"/RDashboardReport",name:"RDashboardReport",component:GV},{path:"/IndicatorStats",name:"IndicatorStats",component:NV},{path:"/",name:"Home",component:_l},{path:"/CountryDashSelectEntity",name:"CountryDashSelectEntity",component:_l},{path:"/Login",name:"Login",component:gl},{path:"/Login",name:"Login",component:gl},{path:"/Countries",name:"Countries",component:JB},{path:"/Partners",name:"Partners",component:jj},{path:"/IRRFReportsReportEntity",name:"IRRFReportsReportEntity",component:JN},{path:"/IRRFReportsYear",name:"IRRFReportsYear",component:_8},{path:"/IRRFReportsReport",name:"IRRFReportsReport",component:M8},{path:"/IRRFReportsView",name:"IRRFReportsView",component:z6},{path:"/IQuarterlyReportsReportEntity",name:"IQuarterlyReportsReportEntity",component:M4},{path:"/IQuarterlyReportsYear",name:"IQuarterlyReportsYear",component:nM},{path:"/IQuarterlyReportsReport",name:"IQuarterlyReportsReport",component:IM},{path:"/IQuarterlyReportsView",name:"IQuarterlyReportsView",component:AN},{path:"/IBiAnnualReportsReportEntity",name:"IBiAnnualReportsReportEntity",component:IF},{path:"/IBiAnnualReportsYear",name:"IBiAnnualReportsYear",component:YF},{path:"/IBiAnnualReportsReport",name:"IBiAnnualReportsReport",component:cL},{path:"/IBiAnnualReportsView",name:"IBiAnnualReportsView",component:_4},{path:"/IAnnualReportsReportEntity",name:"IAnnualReportsReportEntity",component:r3},{path:"/IAnnualReportsYear",name:"IAnnualReportsYear",component:S3},{path:"/IAnnualReportsReport",name:"IAnnualReportsReport",component:K3},{path:"/IAnnualReportsView",name:"IAnnualReportsView",component:nF},{path:"/ActiveRRFSelectEntity",name:"ActiveRRFSelectEntity",component:mD},{path:"/ActiveRRFSelectYear",name:"ActiveRRFSelectYear",component:FD},{path:"/ActiveRRFSelectReport",name:"ActiveRRFSelectReport",component:tP},{path:"/ActiveRRFViewReport",name:"ActiveRRFViewReport",component:jP},{path:"/MgtEntities",name:"MgtEntities",component:Ay},{path:"/MgtTimelines",name:"MgtTimelines",component:pb},{path:"/ReportStatus",name:"ReportStatus",component:jb},{path:"/MgtIndicators",name:"MgtIndicators",component:d1},{path:"/SelectEntity",name:"SelectEntity",component:E1},{path:"/Admins",name:"Admins",component:ax},{path:"/SelectEntityReport",name:"SelectEntityReport",component:O1},{path:"/SelectAnnualReport",name:"SelectAnnualReport",component:K1},{path:"/ReportAnnual",name:"ReportAnnual",component:a2},{path:"/SelectEntityBiAnnual",name:"SelectEntityBiAnnual",component:y2},{path:"/SelectReportBiAnnual",name:"SelectReportBiAnnual",component:A2},{path:"/ReportBiAnnual",name:"ReportBiAnnual",component:zE},{path:"/QuaterlySelectEntity",name:"QuaterlySelectEntity",component:RA},{path:"/QuaterlySelectReport",name:"QuaterlySelectReport",component:BA},{path:"/ReportQuaterly",name:"ReportQuaterly",component:W5},{path:"/RRFSelectEntity",name:"RRFSelectEntity",component:Kk},{path:"/RRFSelectReport",name:"RRFSelectReport",component:oT},{path:"/RRFReport",name:"RRFReport",component:mA},{path:"/AQuarterlySelectEntity",name:"AQuarterlySelectEntity",component:z$},{path:"/AQuarterlySelectYear",name:"AQuarterlySelectYear",component:pk},{path:"/AQuarterlySelectReport",name:"AQuarterlySelectReport",component:Ok},{path:"/AQuarterlyViewReport",name:"AQuarterlyViewReport",component:Kx},{path:"/AAnnualSelectEntity",name:"AAnnualSelectEntity",component:nR},{path:"/AAnnualSelectYear",name:"AAnnualSelectYear",component:IR},{path:"/AAnnualSelectReport",name:"AAnnualSelectReport",component:YR},{path:"/AViewAnnualReport",name:"AViewAnnualReport",component:$$},{path:"/ABiAnnualSelectEntity",name:"ABiAnnualSelectEntity",component:hC},{path:"/ABiAnnualSelectYear",name:"ABiAnnualSelectYear",component:DC},{path:"/ABiAnnualSelectReport",name:"ABiAnnualSelectReport",component:XC},{path:"/ABiViewAnnualReport",name:"ABiViewAnnualReport",component:MS}],Jc=k_({history:n_(),routes:bU});zc.init("xWOiexQqcfZQ5cchR");const Xc=Vp(Fv);Xc.component("FullScreenLoader",ze);Xc.use(Jc).mount("#app");window.ClearModal=()=>{const e=document.querySelector(".modal");e&&(e.style.display="none"),document.querySelectorAll(".modal-backdrop").forEach(o=>{o.style.display="none"})};function wU(){sessionStorage.getItem("AuthData")||(Jc.push("/login"),Swal.fire({title:"Authentication Required",text:"Please log in with the authentication code provided by your regional admin.",icon:"warning",confirmButtonText:"OK",allowOutsideClick:!1,allowEscapeKey:!1}).then(()=>{}))}wU();
